define("gettext",[],function(){Gettext=function(a){this.domain="messages";this.locale_data=void 0;var c=["domain","locale_data"];if(this.isValidObject(a))for(var e in a)for(var f=0;f<c.length;f++)e==c[f]&&this.isValidObject(a[e])&&(this[e]=a[e]);this.try_load_lang();return this};Gettext.context_glue="\u0004";Gettext._locale_data={};Gettext.prototype.try_load_lang=function(){if("undefined"!=typeof this.locale_data){var a=this.locale_data;this.locale_data=void 0;this.parse_locale_data(a);if("undefined"==
typeof Gettext._locale_data[this.domain])throw Error("Error: Gettext 'locale_data' does not contain the domain '"+this.domain+"'");}a=this.get_lang_refs();if("object"==typeof a&&0<a.length)for(var c=0;c<a.length;c++){var e=a[c];if("application/json"==e.type){if(!this.try_load_lang_json(e.href))throw Error("Error: Gettext 'try_load_lang_json' failed. Unable to exec xmlhttprequest for link ["+e.href+"]");}else if("application/x-po"==e.type){if(!this.try_load_lang_po(e.href))throw Error("Error: Gettext 'try_load_lang_po' failed. Unable to exec xmlhttprequest for link ["+
e.href+"]");}else throw Error("TODO: link type ["+e.type+"] found, and support is planned, but not implemented at this time.");}};Gettext.prototype.parse_locale_data=function(a){"undefined"==typeof Gettext._locale_data&&(Gettext._locale_data={});for(var c in a)if(a.hasOwnProperty(c)&&this.isValidObject(a[c])){var e=!1,f;for(f in a[c]){e=!0;break}if(e){e=a[c];""==c&&(c="messages");this.isValidObject(Gettext._locale_data[c])||(Gettext._locale_data[c]={});this.isValidObject(Gettext._locale_data[c].head)||
(Gettext._locale_data[c].head={});this.isValidObject(Gettext._locale_data[c].msgs)||(Gettext._locale_data[c].msgs={});for(var g in e)if(""==g){var b=e[g],d;for(d in b){var m=d.toLowerCase();Gettext._locale_data[c].head[m]=b[d]}}else Gettext._locale_data[c].msgs[g]=e[g]}}for(c in Gettext._locale_data)if(this.isValidObject(Gettext._locale_data[c].head["plural-forms"])&&"undefined"==typeof Gettext._locale_data[c].head.plural_func)if(a=Gettext._locale_data[c].head["plural-forms"],/^(\s*nplurals\s*=\s*[0-9]+\s*;\s*plural\s*=\s*(?:\s|[-\?\|&=!<>+*/%:;a-zA-Z0-9_()])+)/m.test(a))a=
Gettext._locale_data[c].head["plural-forms"],/;\s*$/.test(a)||(a=a.concat(";")),Gettext._locale_data[c].head.plural_func=new Function("n","var plural; var nplurals; "+a+' return { "nplural" : nplurals, "plural" : (plural \x3d\x3d\x3d true ? 1 : plural ? plural : 0) };');else throw Error("Syntax error in language file. Plural-Forms header is invalid ["+a+"]");else"undefined"==typeof Gettext._locale_data[c].head.plural_func&&(Gettext._locale_data[c].head.plural_func=function(a){return{nplural:2,plural:1!=
a?1:0}})};Gettext.prototype.try_load_lang_po=function(a){var c=this.sjax(a);if(c){a=this.uri_basename(a);var c=this.parse_po(c),e={};c&&(c[""]||(c[""]={}),c[""].domain||(c[""].domain=a),a=c[""].domain,e[a]=c,this.parse_locale_data(e));return 1}};Gettext.prototype.uri_basename=function(a){if(a=a.match(/^(.*\/)?(.*)/)){var c;return(c=a[2].match(/^(.*)\..+$/))?c[1]:a[2]}return""};Gettext.prototype.parse_po=function(a){var c={},e={},f="",g=[],b=a.split("\n");for(a=0;a<b.length;a++){b[a]=b[a].replace(/(\n|\r)+$/,
"");var d;if(/^$/.test(b[a])){if("undefined"!=typeof e.msgid){var f="undefined"!=typeof e.msgctxt&&e.msgctxt.length?e.msgctxt+Gettext.context_glue+e.msgid:e.msgid,m="undefined"!=typeof e.msgid_plural&&e.msgid_plural.length?e.msgid_plural:null,l=[],j;for(j in e)if(d=j.match(/^msgstr_(\d+)/))l[parseInt(d[1])]=e[j];l.unshift(m);1<l.length&&(c[f]=l);e={};f=""}}else/^#/.test(b[a])||((d=b[a].match(/^msgctxt\s+(.*)/))?(f="msgctxt",e[f]=this.parse_po_dequote(d[1])):(d=b[a].match(/^msgid\s+(.*)/))?(f="msgid",
e[f]=this.parse_po_dequote(d[1])):(d=b[a].match(/^msgid_plural\s+(.*)/))?(f="msgid_plural",e[f]=this.parse_po_dequote(d[1])):(d=b[a].match(/^msgstr\s+(.*)/))?(f="msgstr_0",e[f]=this.parse_po_dequote(d[1])):(d=b[a].match(/^msgstr\[0\]\s+(.*)/))?(f="msgstr_0",e[f]=this.parse_po_dequote(d[1])):(d=b[a].match(/^msgstr\[(\d+)\]\s+(.*)/))?(f="msgstr_"+d[1],e[f]=this.parse_po_dequote(d[2])):/^"/.test(b[a])?e[f]+=this.parse_po_dequote(b[a]):g.push("Strange line ["+a+"] : "+b[a]))}if("undefined"!=typeof e.msgid){f=
"undefined"!=typeof e.msgctxt&&e.msgctxt.length?e.msgctxt+Gettext.context_glue+e.msgid:e.msgid;m="undefined"!=typeof e.msgid_plural&&e.msgid_plural.length?e.msgid_plural:null;l=[];for(j in e)if(d=j.match(/^msgstr_(\d+)/))l[parseInt(d[1])]=e[j];l.unshift(m);1<l.length&&(c[f]=l)}if(c[""]&&c[""][1]){e={};j=c[""][1].split(/\\n/);for(a=0;a<j.length;a++)j.length&&(d=j[a].indexOf(":",0),-1!=d?(b=j[a].substring(0,d),d=j[a].substring(d+1),b=b.toLowerCase(),e[b]&&e[b].length?g.push("SKIPPING DUPLICATE HEADER LINE: "+
j[a]):/#-#-#-#-#/.test(b)?g.push("SKIPPING ERROR MARKER IN HEADER: "+j[a]):(d=d.replace(/^\s+/,""),e[b]=d)):(g.push("PROBLEM LINE IN HEADER: "+j[a]),e[j[a]]=""));c[""]=e}else c[""]={};return c};Gettext.prototype.parse_po_dequote=function(a){var c;if(c=a.match(/^"(.*)"/))a=c[1];return a=a.replace(/\\"/g,'"')};Gettext.prototype.try_load_lang_json=function(a){if(a=this.sjax(a))return a=this.JSON(a),this.parse_locale_data(a),1};Gettext.prototype.get_lang_refs=function(){for(var a=[],c=document.getElementsByTagName("link"),
e=0;e<c.length;e++)if("gettext"==c[e].rel&&c[e].href){if("undefined"==typeof c[e].type||""==c[e].type)if(/\.json$/i.test(c[e].href))c[e].type="application/json";else if(/\.js$/i.test(c[e].href))c[e].type="application/json";else if(/\.po$/i.test(c[e].href))c[e].type="application/x-po";else if(/\.mo$/i.test(c[e].href))c[e].type="application/x-mo";else throw Error("LINK tag with rel\x3dgettext found, but the type and extension are unrecognized.");c[e].type=c[e].type.toLowerCase();if("application/json"==
c[e].type)c[e].type="application/json";else if("text/javascript"==c[e].type)c[e].type="application/json";else if("application/x-po"==c[e].type)c[e].type="application/x-po";else if("application/x-mo"==c[e].type)c[e].type="application/x-mo";else throw Error("LINK tag with rel\x3dgettext found, but the type attribute ["+c[e].type+"] is unrecognized.");a.push(c[e])}return a};Gettext.prototype.textdomain=function(a){a&&a.length&&(this.domain=a);return this.domain};Gettext.prototype.gettext=function(a){return this.dcnpgettext(null,
void 0,a,void 0,void 0,void 0)};Gettext.prototype.dgettext=function(a,c){return this.dcnpgettext(a,void 0,c,void 0,void 0,void 0)};Gettext.prototype.dcgettext=function(a,c,e){return this.dcnpgettext(a,void 0,c,void 0,void 0,e)};Gettext.prototype.ngettext=function(a,c,e){return this.dcnpgettext(null,void 0,a,c,e,void 0)};Gettext.prototype.dngettext=function(a,c,e,f){return this.dcnpgettext(a,void 0,c,e,f,void 0)};Gettext.prototype.dcngettext=function(a,c,e,f,g){return this.dcnpgettext(a,void 0,c,e,
f,g,g)};Gettext.prototype.pgettext=function(a,c){return this.dcnpgettext(null,a,c,void 0,void 0,void 0)};Gettext.prototype.dpgettext=function(a,c,e){return this.dcnpgettext(a,c,e,void 0,void 0,void 0)};Gettext.prototype.dcpgettext=function(a,c,e,f){return this.dcnpgettext(a,c,e,void 0,void 0,f)};Gettext.prototype.npgettext=function(a,c,e,f){return this.dcnpgettext(null,a,c,e,f,void 0)};Gettext.prototype.dnpgettext=function(a,c,e,f,g){return this.dcnpgettext(a,c,e,f,g,void 0)};Gettext.prototype.dcnpgettext=
function(a,c,e,f,g){if(!this.isValidObject(e))return"";var b=this.isValidObject(f);c=this.isValidObject(c)?c+Gettext.context_glue+e:e;var d=this.isValidObject(a)?a:this.isValidObject(this.domain)?this.domain:"messages";a=[];if("undefined"!=typeof Gettext._locale_data&&this.isValidObject(Gettext._locale_data[d]))a.push(Gettext._locale_data[d]);else if("undefined"!=typeof Gettext._locale_data)for(var m in Gettext._locale_data)a.push(Gettext._locale_data[m]);m=[];var d=!1,l;if(a.length)for(var j=0;j<
a.length;j++){var w=a[j];if(this.isValidObject(w.msgs[c])){for(l=0;l<w.msgs[c].length;l++)m[l]=w.msgs[c][l];m.shift();l=w;d=!0;if(0<m.length&&0!=m[0].length)break}}if(0==m.length||0==m[0].length)m=[e,f];e=m[0];b&&(d&&this.isValidObject(l.head.plural_func)?(g=l.head.plural_func(g),g.plural||(g.plural=0),g.nplural||(g.nplural=0),g.nplural<=g.plural&&(g.plural=0),g=g.plural):g=1!=g?1:0,this.isValidObject(m[g])&&(e=m[g]));return e};Gettext.strargs=function(a,c){null==c||"undefined"==typeof c?c=[]:c.constructor!=
Array&&(c=[c]);for(var e="";;){var f=a.indexOf("%"),g;if(-1==f){e+=a;break}e+=a.substr(0,f);if("%%"==a.substr(f,2))e+="%",a=a.substr(f+2);else if(g=a.substr(f).match(/^%(\d+)/)){var b=parseInt(g[1]);g=g[1].length;0<b&&(null!=c[b-1]&&"undefined"!=typeof c[b-1])&&(e+=c[b-1]);a=a.substr(f+1+g)}else e+="%",a=a.substr(f+1)}return e};Gettext.prototype.strargs=function(a,c){return Gettext.strargs(a,c)};Gettext.prototype.isArray=function(a){return this.isValidObject(a)&&a.constructor==Array};Gettext.prototype.isValidObject=
function(a){return null==a?!1:"undefined"==typeof a?!1:!0};Gettext.prototype.JSON=function(a){return eval("("+a+")")};return Gettext});define("utils/utf8-pass",[],function(){return{encode:function(a){return a},decode:function(a){return a}}});
define("utils/str",["utils/utf8-pass"],function(a){str=function(a){this.init(a)};str.prototype={init:function(a){this.str=a},format:function(){var c=arguments,e=0;1==c.length&&"object"==typeof c[0]&&(c=c[0]);return a.decode(this.str.replace(/%?%(?:\(([^\)]+)\))?([disr])/g,function(a,g,b){if(a[0]&&a[0]==a[1])return a.substring(1);g=c[g||e++];return"undefined"===typeof g?a:"i"==b||"d"==b?+g:g}))},toString:function(){return a.decode(this.str)}};return str});
define("jquery-path/utils",["jquery"],function(a){a.trimTag=function(a,e){function f(a,c){for(var f=c,e=0;;){e++;var f=a,j=c;"string"!=typeof j&&(j="");var g=j.length,p=f.length;0===j.indexOf(f)&&(j=j.substr(p,g));g=j.length;j.substr(g-p,g)==f&&(j=j.substr(0,g-p));f=j;if(f==c)break;c=f;if(100<e)break}return f}if("string"===typeof a)e=f(a,e);else for(var g=0;g<a.length;g++)e=f(a[g],e);return e};a.isString=function(a){return a&&"string"===typeof a};a.isObject=function(a){return a&&"object"===typeof a};
a.isDefined=function(a){return a&&"undefined"!==typeof a};a.combineObj=function(c,e){var f={};if(a.isArray(e))for(i=0;i<c.length;i++)f[c[i]]=e[i];if(a.isFunction(e))for(i=0;i<c.length;i++)f[c[i]]=e;return f};a.arrayValues=function(a){var e=[];for(i in a)e.push(a[i]);return e};a.mergeObj=function(c,e){if(2<arguments.length)for(i=2;i<arguments.length;i++)if(map=arguments[i],a.isString(map)&&(map=map.split(",")),a.isArray(map))for(k=0;k<map.length;k++)c[map[k]]=e[map[k]];else{if(a.isObject(map))for(k in map)c[k]=
a.isFunction(map[k])?map[k](e,k):e[map[k]]}else for(i in c)c[i]=e[i]};a.styledNodeHtml=function(c){c=a(c);if(c.attr("style")&&""!==c.attr("style")){var e=a("\x3cspan/\x3e");a('\x3cspan style\x3d"'+c.attr("style")+'" /\x3e').append(c.html()).appendTo(e);return e.html()}return c.html()};a.socialShareWindow=function(a,e,f){window.open(a,"","resizable, height\x3d"+e+", width\x3d"+f).focus();return!1};a.extend(a.browser,{language:window.navigator.userLanguage||window.navigator.language})});
define("jquery-path/i18n",["gettext","utils/str","jquery","jquery-path/utils"],function(a,c,e){i18n=function(){this.init()};i18n.prototype={gt:{},dataUrl:{},mapper:"gettext ngettext pgettext dgettext npgettext dngettext dpgettext dnpgettext dcnpgettext".split(" "),mapperGenerator:function(a,e){return function(){return new c(a[e].apply(a,arguments))}},init:function(){this.gt=new a;a.context_glue=":";aux=e.combineObj(this.mapper,this.mapperGenerator);e.mergeObj(this,this.gt,e.combineObj(this.mapper,
this.mapperGenerator))},load:function(a){this.gt.parse_locale_data(a);return this},install:function(){e.mergeObj(window,this,this.mapper,{_:"gettext",C_:"pgettext",N_:function(){return function(a){return new c(a)}},NC_:function(){return function(a,e){return new c(e)}}})}};I18n=new i18n;I18n.install();e.extend(e,{i18n:I18n})});
define("utils/date-format",["jquery","jquery-path/i18n"],function(){var a,c=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,f=/[^-+\dA-Z]/g,g=function(a,c){a=String(a);for(c=c||2;a.length<c;)a="0"+a;return a};a=function(b,d,m){1==arguments.length&&("[object String]"==Object.prototype.toString.call(b)&&!/\d/.test(b))&&(d=b,b=void 0);b=b?new Date(b):
new Date;if(isNaN(b))throw SyntaxError("invalid date");d=String(a.masks[d]||d||a.masks["default"]);"UTC:"==d.slice(0,4)&&(d=d.slice(4),m=!0);var l=m?"getUTC":"get",j=b[l+"Date"](),w=b[l+"Day"](),p=b[l+"Month"](),x=b[l+"FullYear"](),y=b[l+"Hours"](),E=b[l+"Minutes"](),A=b[l+"Seconds"](),l=b[l+"Milliseconds"](),B=m?0:b.getTimezoneOffset(),z={d:j,dd:g(j),ddd:a.i18n.dayNames[w],dddd:a.i18n.dayNames[w+7],m:p+1,mm:g(p+1),mmm:a.i18n.monthNames[p],mmmm:a.i18n.monthNames[p+12],yy:String(x).slice(2),yyyy:x,
h:y%12||12,hh:g(y%12||12),H:y,HH:g(y),M:E,MM:g(E),s:A,ss:g(A),l:g(l,3),L:g(99<l?Math.round(l/10):l),t:12>y?"a":"p",tt:12>y?"am":"pm",T:12>y?"A":"P",TT:12>y?"AM":"PM",Z:m?"UTC":(String(b).match(e)||[""]).pop().replace(f,""),o:(0<B?"-":"+")+g(100*Math.floor(Math.abs(B)/60)+Math.abs(B)%60,4),S:["th","st","nd","rd"][3<j%10?0:(10!=j%100-j%10)*j%10]};return d.replace(c,function(a){return a in z?z[a]:a.slice(1,a.length-1)})};a.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",
longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};a.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
Date.prototype.format=function(b,c){return a(this,b,c)};return a});define("utils/class",[],function(){var a=!1,c=function(){};c.extend=function(c,f){function g(){if(!a&&(this._constructor||this._construct))try{return(this._construct||this._constructor).apply(this,arguments)}catch(b){console.error(b)}}a=!0;var b=new this;a=!1;for(var d in c)b[d]=c[d];g.prototype=b;g.prototype.constructor=g;g.extend=arguments.callee;return g};return c});
define("utils/extend",[],function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;1<arguments.length&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&(Infinity!=d&&-Infinity!=d)&&(d=(0<d||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;for(d=0<=d?d:Math.max(c-Math.abs(d),0);d<c;d++)if(d in b&&b[d]===a)return d;return-1});if(!Object.keys){var a=Object,c=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),
f="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),g=f.length;a.keys=function(a){if("object"!==typeof a&&"function"!==typeof a||null===a)throw new TypeError("Object.keys called on non-object");var b=[],d;for(d in a)c.call(a,d)&&b.push(d);if(e)for(d=0;d<g;d++)c.call(a,f[d])&&b.push(f[d]);return b}}Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var d=0,c=this.length;d<c;++d)a.call(b||this,this[d],d,this)});Function.prototype.bind||
(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),d=this,c=function(){},f=function(){return d.apply(this instanceof c?this:a,b.concat(Array.prototype.slice.call(arguments)))};c.prototype=this.prototype;f.prototype=new c;return f});String.prototype.trim||(String.prototype.trim=function(){for(var a=this.replace(/^\s\s*/,""),b=/\s/,d=a.length;b.test(a.charAt(--d)););
return a.slice(0,d+1)});var b=Date,d=b.parse,m=[1,4,5,6,7,10,11];b.parse=function(a){var c,f=0;if(c=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(a)){a=0;for(var e;e=m[a];++a)c[e]=+c[e]||0;c[2]=(+c[2]||1)-1;c[3]=+c[3]||1;"Z"!==c[8]&&void 0!==c[9]&&(f=60*c[10]+c[11],"+"===c[9]&&(f=0-f));c=b.UTC(c[1],c[2],c[3],c[4],c[5]+f,c[6],c[7])}else c=d?d(a):NaN;return c};if(!Date.prototype.toISOString){var l=function(a){a=
String(a);1===a.length&&(a="0"+a);return a};Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+l(this.getUTCMonth()+1)+"-"+l(this.getUTCDate())+"T"+l(this.getUTCHours())+":"+l(this.getUTCMinutes())+":"+l(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}}String.prototype.trunc=function(a,b){var c=this.length>a,d=c?this.substr(0,a-1):this,d=b&&c?d.substr(0,d.lastIndexOf(" ")):d;return c?d+"...":d}});
define("gizmo",["jquery","utils/class","utils/extend"],function(a,c){function e(a,b){var c;if("undefined"==typeof a||"undefined"==typeof b)return!0;for(c in b)if("undefined"==typeof a[c])return!0;for(c in a)if("undefined"==typeof b[c])return!0;for(c in b)if(b[c])switch(typeof b[c]){case "object":if(e(b[c],a[c]))return!0;break;case "function":if("undefined"==typeof a[c]||b[c].toString()!=a[c].toString())return!0;break;default:if(b[c]!=a[c])return!0}else if(a[c])return!0;return!1}var f=function(){},
g=function(){},b=function(){this.items={}},d=function(){},m=c.extend({_construct:function(b){this.data=!this.data?{root:""}:{root:this.data.root};switch(a.type(b)){case "string":this.data.url=b;break;case "array":this.data.url=b[0];void 0!==b[1]&&(this.data.xfilter=url[0]);break;case "object":this.data.url=b.url,void 0!==b.xfilter&&(this.data.xfilter=b.xfilter)}return this},xfilter:function(){this.data.xfilter=1<arguments.length?a.makeArray(arguments).join(","):a.isArray(arguments[0])?arguments[0].join(","):
arguments[0];return this},root:function(a){this.data.root=a;return this},get:function(){return this.data.root+this.data.url},getUrl:function(){return this.data.root+this.data.url},set:function(a){this.data.url=a},order:function(a,b){this.data.order=b+"\x3d"+a;return this},filter:function(a,b){this.data.filter=a+"\x3d"+b;return this},decorate:function(a){this.data.url=a.replace(/(%s)/g,this.data.url)},options:function(){var a={};this.data.xfilter&&(a.headers={"X-Filter":this.data.xfilter});return a}}),
l={request:function(b){var c=this,d=function(d,f,e){a.support.cors=!0;b instanceof m?(f=a.extend(!0,{},f,c.options,e,{data:d},b.options()),d=a.ajax(c.href(b.get()),f)):(f=a.extend(!0,{},f,c.options,e,"object"==a.type(d)&&Object.keys(d).length?{data:d}:null),d=a.ajax(c.href(b),f));c.reset();f.fail&&d.fail(f.fail);f.done&&d.done(f.done);f.always&&d.always(f.always);return d};return{read:function(a){return d({},c.readOptions,a)},update:function(a,b){return d(a,c.updateOptions,b)},insert:function(a,b){return d(a,
c.insertOptions,b)},remove:function(a){return d({},c.removeOptions,a)}}},href:function(a){return a},reset:a.noop,options:{},readOptions:{dataType:"json",type:"get",headers:{Accept:"text/json"}},updateOptions:{type:"post",headers:{"X-HTTP-Method-Override":"PUT"}},insertOptions:{dataType:"json",type:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}},removeOptions:{type:"get",headers:{"X-HTTP-Method-Override":"DELETE"}}},j=0;g.prototype={_changed:!1,_new:!1,defaults:{},
data:{},_construct:function(b,c){this._clientId=j++;this.data={};this._parseHash(b);this._new=!0;var d=this.pushUnique?this.pushUnique():this;d._forDelete=!1;d.clearChangeset();d._clientHash=null;"object"==typeof b&&d._parse(b);d._setExpiration();d.isDeleted()?d._remove():a.isEmptyObject(d.changeset)?d.clearChangeset().triggerHandler("read"):d.triggerHandler("update",d.changeset).clearChangeset();c=a.extend({},{init:!0},this.options);c.init&&this.init.apply(this,arguments);return d},init:function(){},
syncAdapter:l,feed:function(a,b,c){var d={};b="boolean"==typeof a?a:b;a=c?c:this.data;for(var f in a)a[f]instanceof g?d[f]=b?a[f].feed(b):a[f].relationHash()||a[f].hash():"function"!==typeof a[f]&&(d[f]=a[f]);return d},setHref:function(a){this.href=a;return this},_setToUrl:function(){!this.href&&this.url&&this.setHref(this.url.get())},sync:function(b,c){var d=this,f=a.Deferred(),e=function(){return d.syncAdapter.request.apply(d.syncAdapter,arguments)};d._setToUrl();this.hash();d.triggerHandler("sync");
if(this._forDelete)return e(b||this.href).remove().done(function(){d._remove()});if(this._clientHash){var f=b||this.href,j=this.feed();if(this.insertExcludes)for(var l=0;l<this.insertExcludes.length;l++)delete j[this.insertExcludes[l]];return e(f).insert(j).done(function(a){d._changed=!1;d._parseHash(a);d._parse(a);d._uniq&&d._uniq.replace(d._clientHash,d.hash(),d);d._clientHash=null;d.triggerHandler("insert").Class.triggerHandler("insert",d);d.triggerHandler("synced")})}if(this._changed)if(a.isEmptyObject(this.changeset))f.resolve();
else{j=c?this.feed():this.feed("json",!1,this.changeset);if(this.insertExcludes)for(l=0;l<this.insertExcludes.length;l++)delete j[this.insertExcludes[l]];f=this.href&&e(this.href).update(j).done(function(){d.triggerHandler("update",d.changeset).clearChangeset();d.triggerHandler("synced")})}else(!b||!b.force)&&this.exTime&&this.exTime>new Date?d.isDeleted()||(d.triggerHandler("update"),d.triggerHandler("synced")):f=this.href&&e(this.href).read(b).done(function(b){d._parse(b);d.isDeleted()?d._remove():
a.isEmptyObject(d.changeset)?d.clearChangeset().triggerHandler("read"):d.triggerHandler("update",d.changeset).clearChangeset();d.triggerHandler("synced")});this._setExpiration();return f},_setExpiration:function(){this.exTime=new Date;this.exTime.setSeconds(this.exTime.getSeconds()+5)},_remove:function(){this.triggerHandler("delete");this._uniq&&this._uniq.remove(this.hash())},remove:function(){this._forDelete=!0;return this},isDeleted:function(){return this._forDelete},modelDataBuild:function(a){return a},
parse:function(a){return a},_parse:function(b){b=b instanceof g?b.data:this.parse(b);if(!b._parsed){for(var c in b){if(this.defaults[c])switch(!0){case "function"===typeof this.defaults[c]&&void 0===this.data[c]:var f=this.modelDataBuild(new this.defaults[c](b[c]));!this._new&&(f!=this.data[c]&&!(f instanceof d))&&(this.changeset[c]=f);this.data[c]=f;!b[c].href&&this.data[c].relationHash&&this.data[c].relationHash(b[c]);continue;case a.isArray(this.defaults[c]):this.data[c]=this.modelDataBuild(new d(this.defaults[c][0],
b[c].href));delete this.data[c];continue;case this.defaults[c]instanceof d:case this.defaults[c]instanceof g:this.data[c]=this.defaults[c];continue}else this._new||("object"===a.type(b[c])?e(this.data[c],b[c])&&(this.changeset[c]=b[c]):this.data[c]!=b[c]&&(this.changeset[c]=b[c]));"object"===a.type(b[c])&&"object"===a.type(this.data[c])?a.extend(!0,this.data[c],b[c]):this.data[c]=b[c]}if(this._new)for(c in this.defaults)"undefined"===a.type(this.data[c])&&(this.data[c]=this.defaults[c]);this._new=
this.href?!1:!0;b._parsed=!0}},_parseHash:function(a){"string"==typeof a?this.href=a:a&&void 0!==a.href?this.href=a.href:a&&(void 0!==a.id&&void 0!==this.url)&&(this.href=this.url+a.id);return this},isChanged:function(){return!a.isEmptyObject(this.changeset)},clearChangeset:function(){this._changed=!1;this.changeset={};return this},get:function(a){return this.data[a]},set:function(b,c,d){var f={};"string"===a.type(b)?f[b]=c:(f=b,d=c);d=a.extend({},{silent:!1},d);this.clearChangeset()._parse(f);this._changed=
!0;a.isEmptyObject(this.changeset)||d.silent||this.triggerHandler("set",this.changeset);return this},_getClientHash:function(){this._clientHash||(this._clientHash="mcid-"+String(this._clientId));return this._clientHash},hash:function(){!this.href&&this.data.href&&(this.href=this.data.href);return this.data.href||this.href||this._getClientHash()},relationHash:function(a){a&&(this.data.Id=a);return this.data.Id},off:function(b,c){a(this).off(b,c);return this},one:function(b,c,d){if(void 0===d)a(this).off(b,
c),a(this).one(b,c);else{var f=function(){c.apply(d,arguments)};a(this).off(b,f);a(this).one(b,f)}return this},on:function(b,c,d){if(void 0===d)a(this).off(b,c),a(this).on(b,c);else{var f=function(){c.apply(d,arguments)};a(this).off(b,f);a(this).on(b,f)}return this},trigger:function(b,c){a(this).trigger(b,c);return this},triggerHandler:function(b,c){a(this).triggerHandler(b,c);return this}};b.prototype={items:{},garbageTime:1500,refresh:function(a){a._exTime||(a._exTime=new Date);a._exTime.setTime(a._exTime.getTime()+
this.garbageTime)},set:function(b,c){var d=this;a(c).on("sync get get-prop set-prop",function(){d.refresh(this)});d.refresh(c);this.items[b]||(this.items[b]=c);return this.items[b]},replace:function(a,b,c){delete this.items[a];return this.set(b,c)},garbage:function(){for(var b in this.items)this.items[b]._exTime&&this.items[b]._exTime<new Date&&(a(this.items[b]).triggerHandler("garbage"),delete this.items[b])},remove:function(a){delete this.items[a]}};var w=g.options={},p,x;g.extend=p=function(b,
d){var e;e=c.extend.call(this,b);e.extend=p;e.prototype.Class=e;e.on=function(b,c,d){a(e).on(b,function(){c.apply(d,arguments)});return e};e.off=function(b,c){a(e).off(b,c);return e};e.triggerHandler=function(b,c){a(e).triggerHandler(b,c)};d&&d.register&&(f[d.register]=e,delete d.register);e.prototype.options=a.extend({},d);return e};var y=0;d.prototype={_list:[],_events:{},getList:function(){return this._list},count:function(){return this._list.length},_construct:function(){this._clientId=y++;this.model||
(this.model=g);this._list=[];this._events={};this.desynced=!0;for(var b=buildOptions=function(){void 0},c=0,d=arguments.length;c<d;c++)switch(a.type(arguments[c])){case "function":this.model=arguments[c];break;case "string":this.href=arguments[c];break;case "array":b=function(a){return function(){this._list=this._parse(a)}}(arguments[c]);break;case "object":buildOptions=function(a){return function(){this.options=a;a.href&&(this.href=a.href)}}(arguments[c])}buildOptions.call(this);b.call(this);w=a.extend({},
{init:!0},this.options);w.init&&this.init.apply(this,arguments)},init:function(){},reset:function(b){a.isArray(b)||(b=[b]);this._list=b=this._parse(b);return this},get:function(b){var c=a.Deferred(),d=this;searchKey=function(){for(var a=0;a<d._list.length;a++)if(b==d._list[a].hash()||b==d._list[a].relationHash())return c.resolve(d._list[a]);c.reject()};this.desynced&&this.sync().done(function(){c.resolve(searchKey())})?c:searchKey();return c},remove:function(a){for(var b in this._list)if(a==this._list[b].hash()||
a==this._list[b].relationHash()){Array.prototype.splice.call(this._list,b,1);break}return this},syncAdapter:l,setHref:function(a){this.href=a;return this},each:function(b){a.each(this._list,b)},forwardEach:function(a,b){this._list.forEach(a,b)},reverseEach:function(a,b){for(var c=this._list.length;0<c;++c)a.call(b||this,this[c],c,this)},feed:function(a,b){var c=[],d;for(d in this._list)c[d]=this._list[d].feed(a,b);return c},_setToUrl:function(){!this.href&&this.url&&this.setHref(this.url.get())},
sync:function(a){var b=this;b._setToUrl();return this.href&&this.syncAdapter.request.call(this.syncAdapter,this.href).read(a).done(function(a){var c=b.parseAttributes(a);b.parse(a);list=b._parse(a);changeset=[];removeings=[];updates=[];addings=[];count=b._list.length;for(a=0;a<list.length;a++){for(var d=!1,f=0;f<count;f++)if(list[a].hash()==b._list[f].hash()){d=list[a];break}if(d)if(b.hasEvent("updates")&&updates.push(d),b.isCollectionDeleted(d))b._list.splice(f,1),b.hasEvent("removeings")&&removeings.push(d);
else if(d.isDeleted())d._remove();else if(d.isChanged())changeset.push(d);else d.on("delete",function(){b.remove(this.hash())}).on("garbage",function(){this.desynced=!0});else list[a].isDeleted()?list[a].isDeleted()?b.hasEvent("updates")&&updates.push(list[a]):(b._list.push(list[a]),changeset.push(list[a]),b.hasEvent("addings")&&addings.push(list[a])):(b._list.push(list[a]),changeset.push(list[a]),b.hasEvent("addings")&&addings.push(list[a]),b.hasEvent("updates")&&updates.push(list[a]))}b.desynced=
!1;0===count?b.triggerHandler("read",[b._list,c]):(updates.length&&b.hasEvent("updates")&&b.triggerHandler("updates",[updates,c]),addings.length&&b.hasEvent("addings")&&b.triggerHandler("addings",[addings,c]),removeings.length&&b.hasEvent("removeings")&&b.triggerHandler("removeings",[removeings,c]),b.hasEvent("modified")&&b.triggerHandler("modified",[list,c]),b.triggerHandler("update",[changeset,c]))})},isCollectionDeleted:function(){return!1},modelDataBuild:function(a){return a},parseAttributes:function(a){return a},
parse:function(b){var c=b;if(!Array.isArray(b))for(i in b)if(a.isArray(b[i])){c=b[i];delete b[i];break}return c},_parse:function(a){a=this.parse(a);for(var b=[],c=0,d=a.length;c<d;c++)b.push(this.modelDataBuild(new this.model(a[c])));return b},insert:function(a){this.desynced=!1;a instanceof g||(a=this.modelDataBuild(new this.model(a)));this._list.push(a);a.hash();this._setToUrl();return a.sync(this.href)},off:function(b,c){a(this).off(b,c);for(var d=b.split(" "),f=0,e=d.length;f<e;f++)delete this._events[d[f]];
return this},one:function(b,c,d){if(void 0===d)a(this).off(b,c),a(this).one(b,c);else{var f=function(){c.apply(d,arguments)};a(this).off(b,f);a(this).one(b,f)}b=b.split(" ");for(var f=0,e=b.length;f<e;f++)this._events[b[f]]=!0;return this},on:function(b,c,d){if(void 0===d)a(this).off(b,c),a(this).on(b,c);else{var f=function(){c.apply(d,arguments)};a(this).off(b,f);a(this).on(b,f)}b=b.split(" ");for(var f=0,e=b.length;f<e;f++)this._events[b[f]]=!0;return this},trigger:function(b,c){a(this).trigger(b,
c);return this},triggerHandler:function(b,c){a(this).triggerHandler(b,c);return this},hasEvent:function(b){return"undefined"===a.type(this._events[b])?!1:this._events[b]}};d.extend=x=function(b,d){var e;e=c.extend.call(this,b);e.extend=x;d&&d.register&&(f[d.register]=e,delete d.register);e.prototype.options=a.extend({},d);return e};var E=0,A=c.extend({getProperty:function(a){return!this[a]?null:"function"===typeof this[a]?this[a]():this[a]}}).extend({tagName:"div",attributes:{className:"",id:""},
namespace:"view",_constructor:function(b,c){this.events&&(b&&b.events)&&a.extend(b.events,this.events);a.extend(this,b);this._clientId=E++;c=a.extend({},{init:!0,events:!0,ensure:!0},c);c.ensure&&this._ensureElement();c.init&&this.init.apply(this,arguments);c.events&&this.resetEvents()},_ensureElement:function(){var b=this.attributes.className,c=this.attributes.id,d="";a(this.el).length?this.el=a(this.el):("string"===a.type(this.el)&&("."==this.el[0]&&(b+=this.el.substr(0,1)),"#"==this.el[0]&&(c=
this.el.substr(0,1))),d="\x3c"+this.tagName,""!==b&&(d=d+' class\x3d"'+b+'"'),""!==c&&(d=d+' id\x3d"'+c+'"'),d=d+"\x3e\x3c/"+this.tagName+"\x3e",this.el=a(d))},init:function(){return this},resetEvents:function(){this.undelegateEvents();this.delegateEvents()},delegateEvents:function(b){if(b||(b=this.getProperty("events")))for(var c in b){var d=b[c],f;for(f in d){var e=d[f];if("string"===typeof e&&a.isFunction(this[e]))a(this.el).on(this.getEvent(f),c,this[e].bind(this))}}},undelegateEvents:function(){a(this.el).off(this.getNamespace());
return this},getEvent:function(a){return a+this.getNamespace()},getNamespace:function(){return"."+this.getProperty("namespace")},render:function(){this.delegateEvents();return this},remove:function(){a(this.el).remove();this.destroy();return this},destroy:function(){this.model&&this.model.trigger("destroy");this.collection&&this.collection.trigger("destroy");return this},checkElement:function(){return void 0===this.el?!1:void 0!==this.el.selector&&""!=this.el.selector?1===a(this.el.selector).length:
a(this.el).is(":visible")},setElement:function(b){this.undelegateEvents();b=a(b);var c=this.el.data();this.el.replaceWith(b);this.el=b;this.el.data(c);this.delegateEvents();return this},resetElement:function(b){this.el=a(b);this._ensureElement();this.delegateEvents()}});return{Model:g,Collection:d,Sync:l,UniqueContainer:b,View:A,Url:m,Register:f}});
define("gizmo/superdesk",["jquery","gizmo"],function(a,c){var e=a.extend({},c.Sync,{reset:function(){try{delete this.options.headers["X-Filter"],this.options.data={}}catch(b){}}}),f=a.extend({},e,{options:{fail:function(b){401==b.status&&authLock.apply(f,arguments);404==b.status&&ErrorApp.require.apply(this,arguments)}},href:function(b){return-1===b.indexOf("my/")?b.replace("resources/","resources/my/"):b}}),g=function(){this.syncAdapter.options.headers||(this.syncAdapter.options.headers={});this._xfilter=
1<arguments.length?a.makeArray(arguments).join(","):a.isArray(arguments[0])?arguments[0].join(","):arguments[0];this.syncAdapter.options.headers["X-Filter"]=this._xfilter;this.syncAdapter.options.headers["X-Format-DateTime"]="yyyy-MM-ddTHH:mm:ss'Z'";return this},b=function(b,a){void 0===b?delete this.syncAdapter.options.data[a]:(void 0===this.syncAdapter.options.data&&(this.syncAdapter.options.data={}),this.syncAdapter.options.data[a]=b);return this},d=function(a,c){void 0===c&&(c="CId");return b.call(this,
a,c+".since")},m=function(a,c){void 0===c&&(c="CId");return b.call(this,a,c+".until")},l=function(a,c){void 0===c&&(c="CId");return b.call(this,a,c+".start")},j=function(a,c){void 0===c&&(c="CId");return b.call(this,a,c+".end")},w=c.Model.extend({isDeleted:function(){return this._forDelete||this.data.DeletedOn},syncAdapter:e,xfilter:g,since:d,until:m,start:l,end:j}),p=function(b){"object"===typeof b&&(b.syncAdapter=f);b.modelDataBuild=function(b){return p(b)};return b},x=c.Model.extend({syncAdapter:f,
xfilter:g,since:d,until:m}),y=c.Collection.extend({xfilter:g,since:d,until:m,start:l,end:j,asc:function(a){return b.call(this,a,"asc")},desc:function(a){return b.call(this,a,"desc")},limit:function(a){return b.call(this,a,"limit")},offset:function(a){return b.call(this,a,"offset")},syncAdapter:e}),g=c.Collection.extend({xfilter:g,since:d,until:m,start:l,end:j,syncAdapter:f}),d=c.Url.extend({_construct:function(){this.data=!this.data?{root:(liveblog.restServer?liveblog.restServer:liveblog.frontendServer)+
"/resources/"}:this.data;c.Url.prototype._construct.apply(this,arguments)}});w.extend=function(){var b=c.Model.extend.apply(this,arguments),d=new c.UniqueContainer;a.extend(b.prototype,{_uniq:d,pushUnique:function(){return d.set(this.hash(),this)}},arguments[0]);return b};return{Auth:p,Model:w,AuthModel:x,Collection:y,AuthCollection:g,Sync:e,AuthSync:f,View:c.View,Url:d,Register:c.Register}});
define("gizmo/view-events",["jquery","gizmo/superdesk"],function(a,c){var e=c.View.extend({off:function(c,e){a(this).off(c,e);return this},on:function(c,e,b){if(void 0===b)a(this).off(c,e),a(this).on(c,e);else a(this).on(c,function(){e.apply(b,arguments)});return this},one:function(c,e,b){if(void 0===b)a(this).off(c,e),a(this).one(c,e);else a(this).one(c,function(){e.apply(b,arguments)});return this},trigger:function(c,e){a(this).trigger(c,e);return this},triggerHandler:function(c,e){a(this).triggerHandler(c,
e);return this}});c.View=e;return c});
define("dust/dust",[],function(){var a={};(function(a){function e(a,b,c){this.stack=a;this.global=b;this.blocks=c}function f(b,d,f,e){this.tail=d;this.isObject=!a.isArray(b)&&b&&"object"===typeof b;this.head=b;this.index=f;this.of=e}function g(a){this.head=new d(this);this.callback=a;this.out=""}function b(){this.head=new d(this)}function d(a,b,c){this.root=a;this.next=b;this.data="";this.flushable=!1;this.taps=c}function m(a,b){this.head=a;this.tail=b}a.cache={};a.isRegistred=a.defined=function(b){return a.cache[b]?
!0:!1};a.register=function(b,d){b&&(a.cache[b]=d)};a.render=function(b,d,f){f=(new g(f)).head;a.load(b,f,e.wrap(d)).end()};a.stream=function(d,f){var j=new b;a.nextTick(function(){a.load(d,j.head,e.wrap(f)).end()});return j};a.renderSource=function(b,d,f){return a.compileFn(b)(d,f)};a.compileFn=function(d,f){var j=a.loadSource(a.compile(d,f));return function(d,f){var l=f?new g(f):new b;a.nextTick(function(){j(l.head,e.wrap(d)).end()});return l}};a.load=function(b,d,f){var e=a.cache[b];return e?e(d,
f):a.onLoad?d.map(function(d){a.onLoad(b,function(e,j){if(e)return d.setError(e);a.cache[b]||a.loadSource(a.compile(j,b));a.cache[b](d,f).end()})}):d.setError(Error("Template Not Found: "+b))};a.loadSource=function(a){return eval(a)};a.isArray=Array.isArray?Array.isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)};a.nextTick=function(a){setTimeout(a,0)};a.isEmpty=function(b){return a.isArray(b)&&!b.length?!0:0===b?!1:!b};a.filter=function(b,d,f){if(f)for(var e=0,j=f.length;e<
j;e++){var l=f[e];"s"===l?d=null:b=a.filters[l](b)}d&&(b=a.filters[d](b));return b};a.filters={h:function(b){return a.escapeHtml(b)},j:function(b){return a.escapeJs(b)},u:encodeURI,uc:encodeURIComponent};a.makeBase=function(a){return new e(new f,a)};e.wrap=function(a){return a instanceof e?a:new e(new f(a))};e.prototype.get=function(a){for(var b=this.stack,d;b;){if(b.isObject&&(d=b.head[a],void 0!==d))return d;b=b.tail}return this.global?this.global[a]:void 0};e.prototype.getPath=function(a,b){var d=
this.stack,c=b.length;if(a&&0===c)return d.head;if(d.isObject){for(var d=d.head,f=0;d&&f<c;)d=d[b[f]],f++;return d}};e.prototype.push=function(a,b,d){a&&(a.$idx=b,a.$len=d);return new e(new f(a,this.stack,b,d),this.global,this.blocks)};e.prototype.rebase=function(a){return new e(new f(a),this.global,this.blocks)};e.prototype.current=function(){return this.stack.head};e.prototype.getBlock=function(a){var b=this.blocks;if(b)for(var d=b.length,c;d--;)if(c=b[d][a])return c};e.prototype.shiftBlocks=function(a){var b=
this.blocks;return a?(newBlocks=b?b.concat([a]):[a],new e(this.stack,this.global,newBlocks)):this};g.prototype.flush=function(){for(var a=this.head;a;){if(a.flushable)this.out+=a.data;else{a.error&&(this.callback(a.error),this.flush=function(){});return}this.head=a=a.next}this.callback(null,this.out)};b.prototype.flush=function(){for(var a=this.head;a;){if(a.flushable)this.emit("data",a.data);else{a.error&&(this.emit("error",a.error),this.flush=function(){});return}this.head=a=a.next}this.emit("end")};
b.prototype.emit=function(a,b){var d=this.events;if(d&&d[a])d[a](b)};b.prototype.on=function(a,b){this.events||(this.events={});this.events[a]=b;return this};d.prototype.write=function(a){var b=this.taps;b&&(a=b.go(a));this.data+=a;return this};d.prototype.end=function(a){a&&this.write(a);this.flushable=!0;this.root.flush();return this};d.prototype.map=function(a){var b=new d(this.root,this.next,this.taps),c=new d(this.root,b,this.taps);this.next=c;this.flushable=!0;a(c);return b};d.prototype.tap=
function(a){var b=this.taps;this.taps=b?b.push(a):new m(a);return this};d.prototype.untap=function(){this.taps=this.taps.tail;return this};d.prototype.render=function(a,b){return a(this,b)};d.prototype.reference=function(b,f,e,j){return"function"===typeof b&&(b=b(this,f,null,{auto:e,filters:j}),b instanceof d)?b:a.isEmpty(b)?this:this.write(a.filter(b,e,j))};d.prototype.section=function(b,f,e,j){if("function"===typeof b&&(b=b(this,f,e,j),b instanceof d))return b;var l=e.block;e=e["else"];j&&(f=f.push(j));
if(a.isArray(b)){if(l){j=b.length;e=this;for(var m=0;m<j;m++)e=l(e,f.push(b[m],m,j));return e}}else if(!0===b){if(l)return l(this,f)}else if(b||0===b){if(l)return l(this,f.push(b))}else if(e)return e(this,f);return this};d.prototype.exists=function(b,d,f){var e=f.block;f=f["else"];if(a.isEmpty(b)){if(f)return f(this,d)}else if(e)return e(this,d);return this};d.prototype.notexists=function(b,d,f){var e=f.block;f=f["else"];if(a.isEmpty(b)){if(e)return e(this,d)}else if(f)return f(this,d);return this};
d.prototype.block=function(a,b,d){d=d.block;a&&(d=a);return d?d(this,b):this};d.prototype.partial=function(b,d){return"function"===typeof b?this.capture(b,d,function(b,f){a.load(b,f,d).end()}):a.load(b,this,d)};d.prototype.helper=function(b,d,f,e){return a.helpers[b](this,d,f,e)};d.prototype.capture=function(a,b,d){return this.map(function(c){var f=new g(function(a,b){a?c.setError(a):d(b,c)});a(f.head,b).end()})};d.prototype.setError=function(a){this.error=a;this.root.flush();return this};m.prototype.push=
function(a){return new m(a,this)};m.prototype.go=function(a){for(var b=this;b;)a=b.head(a),b=b.tail;return a};var l=RegExp(/[&<>\"]/),j=/&/g,w=/</g,p=/>/g,x=/\"/g;a.escapeHtml=function(a){return"string"===typeof a?!l.test(a)?a:a.replace(j,"\x26amp;").replace(w,"\x26lt;").replace(p,"\x26gt;").replace(x,"\x26quot;"):a};var y=/\\/g,E=/\r/g,A=/\u2028/g,B=/\u2029/g,z=/\n/g,F=/\f/g,I=/'/g,C=/"/g,G=/\t/g;a.escapeJs=function(a){return"string"===typeof a?a.replace(y,"\\\\").replace(C,'\\"').replace(I,"\\'").replace(E,
"\\r").replace(A,"\\u2028").replace(B,"\\u2029").replace(z,"\\n").replace(F,"\\f").replace(G,"\\t"):a}})(a);return a});define("dust",["dust/dust"],function(a){return a});
define("utils/twitter",[],function(){return{link:{anchor:function(a){return a.replace(/[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z]+:\/\/[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z0-9-_]+\.[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z0-9-_:%&\?\/.=]+/g,function(a){a=a.link(a);return a=a.replace('href\x3d"','target\x3d"_blanka" href\x3d"')})},user:function(a){return a.replace(/[@]+[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z0-9-_]+/g,function(a){var e=a.replace("@",
"");a=a.link("http://twitter.com/"+e);return a=a.replace('href\x3d"','target\x3d"_blankb" onclick\x3d"loadProfile(\''+e+'\');return(false);"  href\x3d"')})},tag:function(a){return a.replace(/[#]+[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z0-9-_]+/g,function(a){var e=a.replace("#","%23");a=a.link("http://twitter.com/search?q\x3d"+e);return a=a.replace('href\x3d"','target\x3d"_blank" href\x3d"')})},all:function(a){a=this.anchor(a);a=this.user(a);return a=this.tag(a)}}}});
define("dust/dust-helpers",["dust/dust","jquery","utils/twitter","jquery-path/i18n","jquery-path/utils"],function(a,c,e){function f(a){return function(d){try{return d=JSON.parse(d),d.annotation[a]}catch(c){}return""}}var g=function(a,d,f,e){if(c.isDefined(e.param1)){var j=[],g;c.each(e,function(c,f){"function"===typeof f&&(val="",a.tap(function(a){val+=a;return""}).render(f,d).untap(),f=val);g=parseInt(c.slice(5))-1;if(isNaN(g)&&window.console)return window.console.log("Invalid parameter "+c+" given!"),
[];j[g]=f});return j}c.each(e,function(c,f){"function"===typeof f&&(val="",a.tap(function(a){val+=a;return""}).render(f,d).untap(),e[c]=val)});return e};a.helpers={i18n:function(a,d,f,e){msgid=e.msgid;msgid_plural=e.msgid_plural;n=e.n;domain=e.domain;msgctxt=e.msgctxt;e&&e.msgid?(delete e.msgid,a.write(c.i18n.dcnpgettext(domain,msgctxt,msgid,msgid_plural,n).format(g(a,d,f,e)))):window.console&&window.console.log("No expression given!");return a},sep:function(a,d,c){return d.stack.index===d.stack.of-
1?a:c.block(a,d)},idx:function(a,d,c){return c.block(a,d.push(d.stack.index))},"if":function(a,d,c,f){var e=f.cond;if(f&&f.cond){"function"===typeof e&&(e="",a.tap(function(a){e+=a;return""}).render(f.cond,d).untap(),""===e&&(e=!1));if(eval(e))return a.render(c.block,d);if(c["else"])return a.render(c["else"],d)}else window.console&&window.console.log("No expression given!");return a}};a.filters.t=function(a){return c("\x3cdiv\x3e"+a+"\x3c/div\x3e").text()};a.filters.trim50=function(a){return a.trunc(50,
!0)};a.filters.trim150=function(a){return a.trunc(150,!0)};a.filters.trim200=function(a){return a.trunc(200,!0)};a.filters.twitter_all=function(a){return e.link.all(a)};a.filters.twitter_annotation_before=f(0);a.filters.twitter_annotation_after=f(1);return a});define("dust/core",["dust/dust","dust/dust-helpers"],function(a){return a});
define("jquery-path/tmpl",["jquery","dust/core"],function(a,c){a.fn.extend({tmpl:function(c,f,g){if(""!==c)return"#"===c[0]&&(c=c.slice(1)),a.isFunction(f)&&(g=f),this.each(function(){$that=a(this);a.tmpl(c,f,function(b,d){b?window.console&&window.console.log(b):$that.html(d);a.isFunction(g)&&g.apply($that)})})}});a.extend({tmpl:function(a,f,g){if(-1!==a.indexOf("themeBase")){var b=a.replace("themeBase","theme");c.isRegistred(b)&&(a=b)}c.render(a,f,g)},tmplFn:function(a){return c.compileFn(a)}})});
define("utils/encode_url",[],function(){encodeURL=function(a){return encodeURIComponent(a).replace(/'/g,"%27").replace(/~/g,"%7E").replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29")}});
define("dust/parser",["dust/dust"],function(a){var c,e={parse:function(a,e){function b(a){var b=a.charCodeAt(0);if(255>=b){a="x";var d=2}else a="u",d=4;a="\\"+a;for(var c=b.toString(16).toUpperCase(),b=c,d=d-c.length,c=0;c<d;c++)b="0"+b;return a+b}function d(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,b)+'"'}function m(a){h<T||(h>T&&(T=h,Y=[]),Y.push(a))}function l(){var a="body@"+h,b=v[a];if(b)return h=b.nextPos,b.result;
for(var b=h,d=[],c=j();null!==c;)d.push(c),c=j();d=null!==d?["body"].concat(d):null;null===d&&(d=null,h=b);v[a]={nextPos:h,result:d};return d}function j(){var a="part@"+h,b=v[a];if(b)return h=b.nextPos,b.result;b=Q();null===b&&(b=w(),null===b&&(b=z(),null===b&&(b=I(),null===b&&(b=B(),null===b&&(b=N(),b=null!==b?b:null)))));v[a]={nextPos:h,result:b};return b}function w(){var b="section@"+h,d=v[b];if(d)return h=d.nextPos,d.result;d=q;q=!1;var c=h,e=h,j=p();if(null!==j){var g=H();if(null!==g){var Z=
l();if(null!==Z){var s=A();if(null!==s){var t=x();if(null!==t)if(r=!r||r[1].text===Z.text?"":null,null!==r)var r=[j,g,Z,s,t,r];else r=null,h=e;else r=null,h=e}else r=null,h=e}else r=null,h=e}else r=null,h=e}else r=null,h=e;null!==r?(e=r[0],j=r[3],j.push(["param",["literal","block"],r[2]]),e.push(j),r=e):r=null;null===r&&(r=null,h=c);null!==r?c=r:(r=c=h,e=p(),null!==e?("/"===a.substr(h,1)?(j="/",h+=1):(j=null,q&&m('"/"')),null!==j?(g=H(),null!==g?e=[e,j,g]:(e=null,h=r)):(e=null,h=r)):(e=null,h=r),
null!==e?(r=e[0],r.push(["bodies"])):r=null,null===r&&(r=null,h=c),c=null!==r?r:null);(q=d)&&null===c&&m("section");v[b]={nextPos:h,result:c};return c}function p(){var b="sec_tag_start@"+h,d=v[b];if(d)return h=d.nextPos,d.result;var c=d=h,e=K();if(null!==e){if(null!==a.substr(h).match(/^[#?^<+@%]/)){var j=a.charAt(h);h++}else j=null,q&&m("[#?^\x3c+@%]");if(null!==j){var l=C();if(null!==l){var g=y();if(null!==g){var p=E();null!==p?e=[e,j,l,g,p]:(e=null,h=c)}else e=null,h=c}else e=null,h=c}else e=null,
h=c}else e=null,h=c;c=null!==e?[e[1],e[2],e[3],e[4]]:null;null===c&&(c=null,h=d);v[b]={nextPos:h,result:c};return c}function x(){var b="end_tag@"+h,d=v[b];if(d)return h=d.nextPos,d.result;d=q;q=!1;var c=h,e=h,j=K();if(null!==j){if("/"===a.substr(h,1)){var l="/";h+=1}else l=null,q&&m('"/"');if(null!==l){var g=C();if(null!==g){var p=H();null!==p?j=[j,l,g,p]:(j=null,h=e)}else j=null,h=e}else j=null,h=e}else j=null,h=e;e=null!==j?j[2]:null;null===e&&(e=null,h=c);(q=d)&&null===e&&m("end tag");v[b]={nextPos:h,
result:e};return e}function y(){var b="context@"+h,d=v[b];if(d)return h=d.nextPos,d.result;var c=d=h,e=h;if(":"===a.substr(h,1)){var j=":";h+=1}else j=null,q&&m('":"');if(null!==j){var l=C();null!==l?j=[j,l]:(j=null,h=e)}else j=null,h=e;e=null!==j?j[1]:null;null===e&&(e=null,h=c);c=null!==e?e:"";c=null!==c?c?["context",c]:["context"]:null;null===c&&(c=null,h=d);v[b]={nextPos:h,result:c};return c}function E(){var b="params@"+h,d=v[b];if(d)return h=d.nextPos,d.result;d=q;q=!1;var c=h,e=[],j=h,l=h,g=
O();if(null!==g){var p=D();if(null!==p){if("\x3d"===a.substr(h,1)){var t="\x3d";h+=1}else t=null,q&&m('"\x3d"');if(null!==t){var r=C();null===r&&(r=J(),r=null!==r?r:null);null!==r?g=[g,p,t,r]:(g=null,h=l)}else g=null,h=l}else g=null,h=l}else g=null,h=l;l=null!==g?["param",["literal",g[1]],g[3]]:null;null===l&&(l=null,h=j);for(;null!==l;)e.push(l),l=j=h,g=O(),null!==g?(p=D(),null!==p?("\x3d"===a.substr(h,1)?(t="\x3d",h+=1):(t=null,q&&m('"\x3d"')),null!==t?(r=C(),null===r&&(r=J(),r=null!==r?r:null),
null!==r?g=[g,p,t,r]:(g=null,h=l)):(g=null,h=l)):(g=null,h=l)):(g=null,h=l),l=null!==g?["param",["literal",g[1]],g[3]]:null,null===l&&(l=null,h=j);e=null!==e?["params"].concat(e):null;null===e&&(e=null,h=c);(q=d)&&null===e&&m("params");v[b]={nextPos:h,result:e};return e}function A(){var b="bodies@"+h,d=v[b];if(d)return h=d.nextPos,d.result;d=q;q=!1;var c=h,e=[],j=h,g=h,p=K();if(null!==p){if(":"===a.substr(h,1)){var s=":";h+=1}else s=null,q&&m('":"');if(null!==s){var t=D();if(null!==t){var r=H();if(null!==
r){var w=l();null!==w?p=[p,s,t,r,w]:(p=null,h=g)}else p=null,h=g}else p=null,h=g}else p=null,h=g}else p=null,h=g;g=null!==p?["param",["literal",p[2]],p[4]]:null;null===g&&(g=null,h=j);for(;null!==g;)e.push(g),g=j=h,p=K(),null!==p?(":"===a.substr(h,1)?(s=":",h+=1):(s=null,q&&m('":"')),null!==s?(t=D(),null!==t?(r=H(),null!==r?(w=l(),null!==w?p=[p,s,t,r,w]:(p=null,h=g)):(p=null,h=g)):(p=null,h=g)):(p=null,h=g)):(p=null,h=g),g=null!==p?["param",["literal",p[2]],p[4]]:null,null===g&&(g=null,h=j);e=null!==
e?["bodies"].concat(e):null;null===e&&(e=null,h=c);(q=d)&&null===e&&m("bodies");v[b]={nextPos:h,result:e};return e}function B(){var a="reference@"+h,b=v[a];if(b)return h=b.nextPos,b.result;b=q;q=!1;var d=h,c=h,e=K();if(null!==e){var f=C();if(null!==f){var j=F();if(null!==j){var l=H();null!==l?e=[e,f,j,l]:(e=null,h=c)}else e=null,h=c}else e=null,h=c}else e=null,h=c;c=null!==e?["reference",e[1],e[2]]:null;null===c&&(c=null,h=d);(q=b)&&null===c&&m("reference");v[a]={nextPos:h,result:c};return c}function z(){var b=
"partial@"+h,d=v[b];if(d)return h=d.nextPos,d.result;d=q;q=!1;var c=h,e=h,j=K();if(null!==j){if("\x3e"===a.substr(h,1)){var l="\x3e";h+=1}else l=null,q&&m('"\x3e"');if(null!==l){var g=h,p=D(),p=null!==p?["literal",p]:null;null===p&&(p=null,h=g);null!==p?g=p:(g=J(),g=null!==g?g:null);if(null!==g)if(p=y(),null!==p){if("/"===a.substr(h,1)){var t="/";h+=1}else t=null,q&&m('"/"');if(null!==t){var r=H();null!==r?j=[j,l,g,p,t,r]:(j=null,h=e)}else j=null,h=e}else j=null,h=e;else j=null,h=e}else j=null,h=
e}else j=null,h=e;e=null!==j?["partial",j[2],j[3]]:null;null===e&&(e=null,h=c);(q=d)&&null===e&&m("partial");v[b]={nextPos:h,result:e};return e}function F(){var b="filters@"+h,d=v[b];if(d)return h=d.nextPos,d.result;d=q;q=!1;var c=h,e=[],j=h,l=h;if("|"===a.substr(h,1)){var g="|";h+=1}else g=null,q&&m('"|"');if(null!==g){var p=D();null!==p?g=[g,p]:(g=null,h=l)}else g=null,h=l;l=null!==g?g[1]:null;null===l&&(l=null,h=j);for(;null!==l;)e.push(l),l=j=h,"|"===a.substr(h,1)?(g="|",h+=1):(g=null,q&&m('"|"')),
null!==g?(p=D(),null!==p?g=[g,p]:(g=null,h=l)):(g=null,h=l),l=null!==g?g[1]:null,null===l&&(l=null,h=j);e=null!==e?["filters"].concat(e):null;null===e&&(e=null,h=c);(q=d)&&null===e&&m("filters");v[b]={nextPos:h,result:e};return e}function I(){var b="special@"+h,d=v[b];if(d)return h=d.nextPos,d.result;d=q;q=!1;var c=h,e=h,j=K();if(null!==j){if("~"===a.substr(h,1)){var l="~";h+=1}else l=null,q&&m('"~"');if(null!==l){var g=D();if(null!==g){var p=H();null!==p?j=[j,l,g,p]:(j=null,h=e)}else j=null,h=e}else j=
null,h=e}else j=null,h=e;e=null!==j?["special",j[2]]:null;null===e&&(e=null,h=c);(q=d)&&null===e&&m("special");v[b]={nextPos:h,result:e};return e}function C(){var a="identifier@"+h,b=v[a];if(b)return h=b.nextPos,b.result;b=q;q=!1;var d=h,c=G(),c=null!==c?U(["path"].concat(c),a):null;null===c&&(c=null,h=d);null!==c?d=c:(d=h,c=D(),c=null!==c?U(["key",c],a):null,null===c&&(c=null,h=d),d=null!==c?c:null);(q=b)&&null===d&&m("identifier");v[a]={nextPos:h,result:d};return d}function G(){var b="path@"+h,
d=v[b];if(d)return h=d.nextPos,d.result;d=q;q=!1;var c=h,e=h,j=D(),j=null!==j?j:"";if(null!==j){var l=h,g=h;if("."===a.substr(h,1)){var p=".";h+=1}else p=null,q&&m('"."');if(null!==p){var t=D();null!==t?p=[p,t]:(p=null,h=g)}else p=null,h=g;g=null!==p?p[1]:null;null===g&&(g=null,h=l);if(null!==g)for(var r=[];null!==g;)r.push(g),g=l=h,"."===a.substr(h,1)?(p=".",h+=1):(p=null,q&&m('"."')),null!==p?(t=D(),null!==t?p=[p,t]:(p=null,h=g)):(p=null,h=g),g=null!==p?p[1]:null,null===g&&(g=null,h=l);else r=null;
null!==r?j=[j,r]:(j=null,h=e)}else j=null,h=e;null!==j?(e=j[0],j=j[1],e?(j.unshift(e),e=[!1,j]):e=[!0,j]):e=null;null===e&&(e=null,h=c);null!==e?c=e:(c=h,"."===a.substr(h,1)?(e=".",h+=1):(e=null,q&&m('"."')),e=null!==e?[!0,[]]:null,null===e&&(e=null,h=c),c=null!==e?e:null);(q=d)&&null===c&&m("path");v[b]={nextPos:h,result:c};return c}function D(){var b="key@"+h,d=v[b];if(d)return h=d.nextPos,d.result;d=q;q=!1;var c=h,e=h;if(null!==a.substr(h).match(/^[a-zA-Z_$]/)){var j=a.charAt(h);h++}else j=null,
q&&m("[a-zA-Z_$]");if(null!==j){var l=[];if(null!==a.substr(h).match(/^[0-9a-zA-Z_$]/)){var g=a.charAt(h);h++}else g=null,q&&m("[0-9a-zA-Z_$]");for(;null!==g;)l.push(g),null!==a.substr(h).match(/^[0-9a-zA-Z_$]/)?(g=a.charAt(h),h++):(g=null,q&&m("[0-9a-zA-Z_$]"));null!==l?j=[j,l]:(j=null,h=e)}else j=null,h=e;e=null!==j?j[0]+j[1].join(""):null;null===e&&(e=null,h=c);(q=d)&&null===e&&m("key");v[b]={nextPos:h,result:e};return e}function J(){var b="inline@"+h,d=v[b];if(d)return h=d.nextPos,d.result;d=
q;q=!1;var c=h,e=h;if('"'===a.substr(h,1)){var j='"';h+=1}else j=null,q&&m('"\\""');if(null!==j){if('"'===a.substr(h,1)){var l='"';h+=1}else l=null,q&&m('"\\""');null!==l?j=[j,l]:(j=null,h=e)}else j=null,h=e;e=null!==j?["literal",""]:null;null===e&&(e=null,h=c);if(null!==e)c=e;else{e=c=h;'"'===a.substr(h,1)?(j='"',h+=1):(j=null,q&&m('"\\""'));if(null!==j)if(l=R(),null!==l){if('"'===a.substr(h,1)){var g='"';h+=1}else g=null,q&&m('"\\""');null!==g?j=[j,l,g]:(j=null,h=e)}else j=null,h=e;else j=null,
h=e;e=null!==j?["literal",j[1]]:null;null===e&&(e=null,h=c);if(null!==e)c=e;else{e=c=h;'"'===a.substr(h,1)?(j='"',h+=1):(j=null,q&&m('"\\""'));if(null!==j){g=M();if(null!==g)for(l=[];null!==g;)l.push(g),g=M();else l=null;null!==l?('"'===a.substr(h,1)?(g='"',h+=1):(g=null,q&&m('"\\""')),null!==g?j=[j,l,g]:(j=null,h=e)):(j=null,h=e)}else j=null,h=e;e=null!==j?["body"].concat(j[1]):null;null===e&&(e=null,h=c);c=null!==e?e:null}}(q=d)&&null===c&&m("inline");v[b]={nextPos:h,result:c};return c}function M(){var a=
"inline_part@"+h,b=v[a];if(b)return h=b.nextPos,b.result;b=I();if(null===b&&(b=B(),null===b)){var b=h,d=R(),d=null!==d?["buffer",d]:null;null===d&&(d=null,h=b);b=null!==d?d:null}v[a]={nextPos:h,result:b};return b}function N(){var b="buffer@"+h,d=v[b];if(d)return h=d.nextPos,d.result;d=q;q=!1;var c=h,e=h,j=L();if(null!==j){for(var l=[],g=O();null!==g;)l.push(g),g=O();null!==l?j=[j,l]:(j=null,h=e)}else j=null,h=e;e=null!==j?["format",j[0],j[1].join("")]:null;null===e&&(e=null,h=c);if(null!==e)c=e;else{var p=
l=e=c=h,g=q;q=!1;var t=P();q=g;null===t?g="":(g=null,h=p);if(null!==g){t=h;p=q;q=!1;var r=L();q=p;null===r?p="":(p=null,h=t);if(null!==p){t=h;r=q;q=!1;var w=Q();q=r;null===w?r="":(r=null,h=t);null!==r?(a.length>h?(t=a.charAt(h),h++):(t=null,q&&m("any character")),null!==t?g=[g,p,r,t]:(g=null,h=l)):(g=null,h=l)}else g=null,h=l}else g=null,h=l;l=null!==g?g[3]:null;null===l&&(l=null,h=e);if(null!==l)for(j=[];null!==l;)j.push(l),p=l=e=h,g=q,q=!1,t=P(),q=g,null===t?g="":(g=null,h=p),null!==g?(t=h,p=q,
q=!1,r=L(),q=p,null===r?p="":(p=null,h=t),null!==p?(t=h,r=q,q=!1,w=Q(),q=r,null===w?r="":(r=null,h=t),null!==r?(a.length>h?(t=a.charAt(h),h++):(t=null,q&&m("any character")),null!==t?g=[g,p,r,t]:(g=null,h=l)):(g=null,h=l)):(g=null,h=l)):(g=null,h=l),l=null!==g?g[3]:null,null===l&&(l=null,h=e);else j=null;e=null!==j?["buffer",j.join("")]:null;null===e&&(e=null,h=c);c=null!==e?e:null}(q=d)&&null===c&&m("buffer");v[b]={nextPos:h,result:c};return c}function R(){var b="literal@"+h,d=v[b];if(d)return h=
d.nextPos,d.result;d=q;q=!1;var c=h,e=h,j=h,l=h,g=q;q=!1;var p=P();q=g;null===p?g="":(g=null,h=l);if(null!==g){p=h;l=q;q=!1;var t=L();q=l;null===t?l="":(l=null,h=p);null!==l?(p=S(),null===p&&(null!==a.substr(h).match(/^[^"]/)?(p=a.charAt(h),h++):(p=null,q&&m('[^"]')),p=null!==p?p:null),null!==p?g=[g,l,p]:(g=null,h=j)):(g=null,h=j)}else g=null,h=j;j=null!==g?g[2]:null;null===j&&(j=null,h=e);if(null!==j)for(var r=[];null!==j;)r.push(j),l=j=e=h,g=q,q=!1,p=P(),q=g,null===p?g="":(g=null,h=l),null!==g?
(p=h,l=q,q=!1,t=L(),q=l,null===t?l="":(l=null,h=p),null!==l?(p=S(),null===p&&(null!==a.substr(h).match(/^[^"]/)?(p=a.charAt(h),h++):(p=null,q&&m('[^"]')),p=null!==p?p:null),null!==p?g=[g,l,p]:(g=null,h=j)):(g=null,h=j)):(g=null,h=j),j=null!==g?g[2]:null,null===j&&(j=null,h=e);else r=null;e=null!==r?r.join(""):null;null===e&&(e=null,h=c);(q=d)&&null===e&&m("literal");v[b]={nextPos:h,result:e};return e}function S(){var b="esc@"+h,d=v[b];if(d)return h=d.nextPos,d.result;d=h;if('\\"'===a.substr(h,2)){var c=
'\\"';h+=2}else c=null,q&&m('"\\\\\\""');c=null!==c?'"':null;null===c&&(c=null,h=d);v[b]={nextPos:h,result:c};return c}function Q(){var b="comment@"+h,d=v[b];if(d)return h=d.nextPos,d.result;d=q;q=!1;var c=h,e=h;if("{!"===a.substr(h,2)){var j="{!";h+=2}else j=null,q&&m('"{!"');if(null!==j){var l=[],g=h,p=h,t=h,r=q;q=!1;if("!}"===a.substr(h,2)){var w="!}";h+=2}else w=null,q&&m('"!}"');q=r;null===w?r="":(r=null,h=t);null!==r?(a.length>h?(t=a.charAt(h),h++):(t=null,q&&m("any character")),null!==t?t=
[r,t]:(t=null,h=p)):(t=null,h=p);p=null!==t?t[1]:null;null===p&&(p=null,h=g);for(;null!==p;)l.push(p),t=p=g=h,r=q,q=!1,"!}"===a.substr(h,2)?(w="!}",h+=2):(w=null,q&&m('"!}"')),q=r,null===w?r="":(r=null,h=t),null!==r?(a.length>h?(t=a.charAt(h),h++):(t=null,q&&m("any character")),null!==t?t=[r,t]:(t=null,h=p)):(t=null,h=p),p=null!==t?t[1]:null,null===p&&(p=null,h=g);null!==l?("!}"===a.substr(h,2)?(g="!}",h+=2):(g=null,q&&m('"!}"')),null!==g?j=[j,l,g]:(j=null,h=e)):(j=null,h=e)}else j=null,h=e;e=null!==
j?["comment",j[1].join("")]:null;null===e&&(e=null,h=c);(q=d)&&null===e&&m("comment");v[b]={nextPos:h,result:e};return e}function P(){var b="tag@"+h,d=v[b];if(d)return h=d.nextPos,d.result;var d=h,c=K();if(null!==c){if(null!==a.substr(h).match(/^[#?^><+%:@\/~%]/)){var e=a.charAt(h);h++}else e=null,q&&m("[#?^\x3e\x3c+%:@\\/~%]");if(null!==e){var j=h,l=h,g=q;q=!1;var p=H();q=g;null===p?g="":(g=null,h=l);if(null!==g){l=h;p=q;q=!1;var t=L();q=p;null===t?p="":(p=null,h=l);null!==p?(a.length>h?(l=a.charAt(h),
h++):(l=null,q&&m("any character")),null!==l?g=[g,p,l]:(g=null,h=j)):(g=null,h=j)}else g=null,h=j;if(null!==g)for(var r=[];null!==g;)r.push(g),l=j=h,g=q,q=!1,p=H(),q=g,null===p?g="":(g=null,h=l),null!==g?(l=h,p=q,q=!1,t=L(),q=p,null===t?p="":(p=null,h=l),null!==p?(a.length>h?(l=a.charAt(h),h++):(l=null,q&&m("any character")),null!==l?g=[g,p,l]:(g=null,h=j)):(g=null,h=j)):(g=null,h=j);else r=null;null!==r?(j=H(),null!==j?c=[c,e,r,j]:(c=null,h=d)):(c=null,h=d)}else c=null,h=d}else c=null,h=d;null!==
c?d=c:(d=B(),d=null!==d?d:null);v[b]={nextPos:h,result:d};return d}function K(){var b="ld@"+h,d=v[b];if(d)return h=d.nextPos,d.result;"{"===a.substr(h,1)?(d="{",h+=1):(d=null,q&&m('"{"'));v[b]={nextPos:h,result:d};return d}function H(){var b="rd@"+h,d=v[b];if(d)return h=d.nextPos,d.result;"}"===a.substr(h,1)?(d="}",h+=1):(d=null,q&&m('"}"'));v[b]={nextPos:h,result:d};return d}function L(){var b="eol@"+h,d=v[b];if(d)return h=d.nextPos,d.result;"\n"===a.substr(h,1)?(d="\n",h+=1):(d=null,q&&m('"\\n"'));
null===d&&("\r\n"===a.substr(h,2)?(d="\r\n",h+=2):(d=null,q&&m('"\\r\\n"')),null===d&&("\r"===a.substr(h,1)?(d="\r",h+=1):(d=null,q&&m('"\\r"')),null===d&&("\u2028"===a.substr(h,1)?(d="\u2028",h+=1):(d=null,q&&m('"\\u2028"')),null===d&&("\u2029"===a.substr(h,1)?(d="\u2029",h+=1):(d=null,q&&m('"\\u2029"')),d=null!==d?d:null))));v[b]={nextPos:h,result:d};return d}function O(){var b="ws@"+h,d=v[b];if(d)return h=d.nextPos,d.result;null!==a.substr(h).match(/^[\t\x0B\f \xA0\uFEFF]/)?(d=a.charAt(h),h++):
(d=null,q&&m("[\t\x0B\f \\xA0\\uFEFF]"));v[b]={nextPos:h,result:d};return d}function $(){var b;a:{b=Y;b.sort();for(var c=null,e=[],j=0;j<b.length;j++)b[j]!==c&&(e.push(b[j]),c=b[j]);switch(e.length){case 0:b="end of input";break a;case 1:b=e[0];break a;default:b=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}}c=Math.max(h,T);c=c<a.length?d(a.charAt(c)):"end of input";return"Expected "+b+" but "+c+" found."}function U(b,d){b.text=a.substring(d.split("@")[1],h);return b}var u={bodies:A,body:l,
buffer:N,comment:Q,context:y,end_tag:x,eol:L,esc:S,filters:F,identifier:C,inline:J,inline_part:M,key:D,ld:K,literal:R,params:E,part:j,partial:z,path:G,rd:H,reference:B,sec_tag_start:p,section:w,special:I,tag:P,ws:O};if(void 0!==e){if(void 0===u[e])throw Error("Invalid rule name: "+d(e)+".");}else e="body";var h=0,q=!0,T=0,Y=[],v={},u=u[e]();if(null===u||h!==a.length){for(var V=u=1,W=!1,aa=0;aa<T;aa++){var X=a.charAt(aa);"\n"===X?(W||u++,V=1,W=!1):"\r"===X|"\u2028"===X||"\u2029"===X?(u++,V=1,W=!0):
(V++,W=!1)}throw new c.SyntaxError($(),u,V);}return u},toSource:function(){return this._source},SyntaxError:function(a,c,b){this.name="SyntaxError";this.message=a;this.line=c;this.column=b}};e.SyntaxError.prototype=Error.prototype;c=e;a.parse=c.parse;return a});
define("dust/compiler",["dust/parser"],function(a){function c(b,d){for(var c=[d[0]],e=1,g=d.length;e<g;e++){var f=a.filterNode(b,d[e]);f&&c.push(f)}return c}function e(a,b){return b}function f(){}function g(b,d){for(var c="",e=1,g=d.length;e<g;e++)c+=a.compileNode(b,d[e]);return c}function b(b,d,c){return"."+c+"("+a.compileNode(b,d[1])+","+a.compileNode(b,d[2])+","+a.compileNode(b,d[4])+","+a.compileNode(b,d[3])+")"}a.compile=function(b,d){try{var c,e=a.parse(b);c=a.filterNode({},e);var e={name:d,
bodies:[],blocks:{},index:0,auto:"h"},g="(function(){dust.register("+(d?'"'+d+'"':"null")+","+a.compileNode(e,c)+");",f;c=[];var m=e.blocks,A;for(A in m)c.push(A+":"+m[A]);c.length?(e.blocks="ctx\x3dctx.shiftBlocks(blocks);",f="var blocks\x3d{"+c.join(",")+"};"):f=e.blocks="";var g=g+f,B;f=[];for(var z=e.bodies,F=e.blocks,e=0,I=z.length;e<I;e++)f[e]="function body_"+e+"(chk,ctx){"+F+"return chk"+z[e]+";}";B=f.join("");return g+B+"return body_0;})();"}catch(C){if(!C.line||!C.column)throw C;throw new SyntaxError(C.message+
" At line : "+C.line+", column : "+C.column);}};a.filterNode=function(b,d){return a.optimizers[d[0]](b,d)};a.optimizers={body:function(b,d){for(var c=[d[0]],e,g=1,f=d.length;g<f;g++){var m=a.filterNode(b,d[g]);m&&("buffer"===m[0]?e?e[1]+=m[1]:(e=m,c.push(m)):(e=null,c.push(m)))}return c},buffer:e,special:function(a,b){return["buffer",d[b[1]]]},format:f,reference:c,"#":c,"?":c,"^":c,"\x3c":c,"+":c,"@":c,"%":c,partial:c,context:c,params:c,bodies:c,param:c,filters:e,key:e,path:e,literal:e,comment:f};
a.pragmas={esc:function(a,b,d){var c=a.auto;b||(b="h");a.auto="s"===b?"":b;b=g(a,d.block);a.auto=c;return b}};var d={s:" ",n:"\n",r:"\r",lb:"{",rb:"}"};a.compileNode=function(b,d){return a.nodes[d[0]](b,d)};a.nodes={body:function(a,b){var d=a.index++,c="body_"+d;a.bodies[d]=g(a,b);return c},buffer:function(a,b){return".write("+m(b[1])+")"},format:function(a,b){return".write("+m(b[1]+b[2])+")"},reference:function(b,d){return".reference("+a.compileNode(b,d[1])+",ctx,"+a.compileNode(b,d[2])+")"},"#":function(a,
d){return b(a,d,"section")},"?":function(a,d){return b(a,d,"exists")},"^":function(a,d){return b(a,d,"notexists")},"\x3c":function(b,d){for(var c=d[4],e=1,g=c.length;e<g;e++){var f=c[e];if("block"===f[1][1]){b.blocks[d[1].text]=a.compileNode(b,f[2]);break}}return""},"+":function(b,d){return".block(ctx.getBlock("+m(d[1].text)+"),"+a.compileNode(b,d[2])+","+a.compileNode(b,d[4])+","+a.compileNode(b,d[3])+")"},"@":function(b,d){return".helper("+m(d[1].text)+","+a.compileNode(b,d[2])+","+a.compileNode(b,
d[4])+","+a.compileNode(b,d[3])+")"},"%":function(b,d){var c=d[1][1];if(!a.pragmas[c])return"";for(var e=d[4],g={},f=1,m=e.length;f<m;f++){var A=e[f];g[A[1][1]]=A[2]}e=d[3];A={};f=1;for(m=e.length;f<m;f++){var B=e[f];A[B[1][1]]=B[2][1]}return a.pragmas[c](b,d[2][1]?d[2][1].text:null,g,A)},partial:function(b,d){return".partial("+a.compileNode(b,d[1])+","+a.compileNode(b,d[2])+")"},context:function(b,d){return d[1]?"ctx.rebase("+a.compileNode(b,d[1])+")":"ctx"},params:function(b,d){for(var c=[],e=1,
g=d.length;e<g;e++)c.push(a.compileNode(b,d[e]));return c.length?"{"+c.join(",")+"}":"null"},bodies:function(b,d){for(var c=[],e=1,g=d.length;e<g;e++)c.push(a.compileNode(b,d[e]));return"{"+c.join(",")+"}"},param:function(b,d){return a.compileNode(b,d[1])+":"+a.compileNode(b,d[2])},filters:function(a,b){for(var d=[],c=1,e=b.length;c<e;c++)d.push('"'+b[c]+'"');return'"'+a.auto+'"'+(d.length?",["+d.join(",")+"]":"")},key:function(a,b){return'ctx.get("'+b[1]+'")'},path:function(a,b){for(var d=b[1],c=
b[2],e=[],g=0,f=c.length;g<f;g++)e.push('"'+c[g]+'"');return"ctx.getPath("+d+",["+e.join(",")+"])"},literal:function(a,b){return m(b[1])}};var m="undefined"===typeof JSON?function(b){return'"'+a.escapeJs(b)+'"'}:JSON.stringify;return a});
define("utils/json_parse",[],function(){var a,c,e={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},f,g=function(b){throw{name:"SyntaxError",message:b,at:a,text:f};},b=function(b){b&&b!==c&&g("Expected '"+b+"' instead of '"+c+"'");c=f.charAt(a);a+=1;return c},d=function(){var a;a="";"-"===c&&(a="-",b("-"));for(;"0"<=c&&"9">=c;)a+=c,b();if("."===c)for(a+=".";b()&&"0"<=c&&"9">=c;)a+=c;if("e"===c||"E"===c){a+=c;b();if("-"===c||"+"===c)a+=c,b();for(;"0"<=c&&"9">=c;)a+=c,b()}a=+a;
if(isFinite(a))return a;g("Bad number")},m=function(){var a,d,f="",j;if('"'===c)for(;b();){if('"'===c)return b(),f;if("\\"===c)if(b(),"u"===c){for(d=j=0;4>d;d+=1){a=parseInt(b(),16);if(!isFinite(a))break;j=16*j+a}f+=String.fromCharCode(j)}else if("string"===typeof e[c])f+=e[c];else break;else f+=c}else if("'"===c)for(;b();){if("'"===c)return b(),f;if("\\"===c)if(b(),"u"===c){for(d=j=0;4>d;d+=1){a=parseInt(b(),16);if(!isFinite(a))break;j=16*j+a}f+=String.fromCharCode(j)}else if("string"===typeof e[c])f+=
e[c];else break;else f+=c}g("Bad string")},l=function(){var a,d,f="",j;if('"'===c)for(;b();){if('"'===c)return b(),f;if("\\"===c)if(b(),"u"===c){for(d=j=0;4>d;d+=1){a=parseInt(b(),16);if(!isFinite(a))break;j=16*j+a}f+=String.fromCharCode(j)}else if("string"===typeof e[c])f+=e[c];else break;else f+=c}else if("'"===c)for(;b();){if("'"===c)return b(),f;if("\\"===c)if(b(),"u"===c){for(d=j=0;4>d;d+=1){a=parseInt(b(),16);if(!isFinite(a))break;j=16*j+a}f+=String.fromCharCode(j)}else if("string"===typeof e[c])f+=
e[c];else break;else f+=c}else for(f+=c;b();){if(" "===c||":"===c||"}"===c)return f;if("\\"===c)if(b(),"u"===c){for(d=j=0;4>d;d+=1){a=parseInt(b(),16);if(!isFinite(a))break;j=16*j+a}f+=String.fromCharCode(j)}else if("string"===typeof e[c])f+=e[c];else break;else f+=c}g("Bad key")},j=function(){for(;c&&" ">=c;)b()},w=function(){switch(c){case "t":return b("t"),b("r"),b("u"),b("e"),!0;case "f":return b("f"),b("a"),b("l"),b("s"),b("e"),!1;case "n":return b("n"),b("u"),b("l"),b("l"),null}g("Unexpected '"+
c+"'")},p,x=function(){var a,d={};if("{"===c){b("{");j();if("}"===c)return b("}"),d;for(;c;)if(a=l(),j(),":"===c){b(":");d.hasOwnProperty.call(d,a)&&g('Duplicate key "'+a+'"');d[a]=p();j();if("}"===c)return b("}"),d;b(",");j()}else{if("}"===c)return b("}"),"{"+a+"}";g("Bad object")}}g("Bad injection")};p=function(){j();switch(c){case "{":return x();case "[":var a;a:{a=[];if("["===c){b("[");j();if("]"===c){b("]");break a}for(;c;){a.push(p());j();if("]"===c){b("]");break a}b(",");j()}}g("Bad array");
a=void 0}return a;case '"':return m();case "'":return m();case "-":return d();default:return"0"<=c&&"9">=c?d():w()}};return function(b,d){var e;f=b;a=0;c=" ";e=p();j();c&&g("Syntax error");return"function"===typeof d?function z(a,b){var c,e,f=a[b];if(f&&"object"===typeof f)for(c in f)Object.prototype.hasOwnProperty.call(f,c)&&(e=z(f,c),void 0!==e?f[c]=e:delete f[c]);return d.call(a,b,f)}({"":e},""):e}});
define("dust/i18n_parse",["utils/json_parse","utils/extend"],function(a){function c(a){return a.replace(/\{/g,"{~lb").replace(/\}/g,"{~rb}").replace(/\{~lb/g,"{~lb}").replace(/((^|[^\\])(\\\\)*)"/g,'$1\\"')}function e(c,e,b){c=RegExp(c+"\\((.*?)(\\);)","gi");return e.replace(c,function(d,c){fstr="";if(-1<c.indexOf(").format(")){arr=c.split(").format(");c=arr[0];fparams=arr[1].trim();if("["!==fparams[0]||"{"!==fparams[0])fparams="["+fparams+"]";fparams=a(fparams);for(i in fparams)fstr=isNaN(i)?fstr+
(" "+i+'\x3d"'+fparams[i]+'"'):fstr+(" param"+(parseInt(i)+1)+'\x3d"'+fparams[i]+'"')}return b(a("["+c+"]"),fstr)})}return function(a){a=e("pgettext",a,function(a,b){return'{@i18n msgctxt\x3d"'+a[0]+'" msgid\x3d"'+c(a[1])+'"'+b+"/}"});a=e("ngettext",a,function(a,b){return'{@i18n msgid\x3d"'+c(a[0])+'" msgid_plural\x3d"'+c(a[1])+'" n\x3d"'+a[2]+'"'+b+"/}"});a=e("gettext",a,function(a,b){return'{@i18n msgid\x3d"'+c(a[0])+'"'+b+"/}"});return a=e("_",a,function(a,b){return'{@i18n msgid\x3d"'+c(a[0])+
'"'+b+"/}"})}});
define("tmpl",["jquery","dust/compiler","dust/i18n_parse","jquery-path/xdomainrequest"],function(a,c,e){var f=function(){throw Error("Environment unsupported.");},g={};if("undefined"!==typeof window&&window.navigator&&window.document||"undefined"!==typeof importScripts)f=function(b,d){a.ajax({url:b,error:function(a,b){console.log("err");"parsererror"==b&&d(a.responseText)},success:function(a){d(a)}})};return{pluginBuilder:"core/require/tmpl-builder",write:function(a,d,c){g.hasOwnProperty(d)&&c.asModule(a+
"!"+d,g[d])},load:function(a,d,m,l){var j=d.toUrl(a+".dust");f(j,function(d){d=e(d);try{d="define(['dust'],function(dust){"+c.compile(d,a)+" return {render: function(context, callback) {return dust.render('"+a+"', context, callback)}}})"}catch(f){throw f.message="In "+j+", "+f.message,f;}l.isBuild&&(g[a]=d);m.fromText("tmpl!"+a,d)})}}});
define("tmpl!themeBase/item/base",["dust"],function(a){var c=function(a,b){b=b.shiftBlocks(s);return a.write('\x3cli class\x3d"').block(b.getBlock("itemClass"),b,{block:e},null).write('" ').block(b.getBlock("additionalAttributes"),b,{block:f},null).write("\x3e").block(b.getBlock("main"),b,{block:g},null).write("\x3c/li\x3e")},e=function(a,b){b.shiftBlocks(s);return a},f=function(a,b){b.shiftBlocks(s);return a},g=function(a,d){d=d.shiftBlocks(s);return a.write('\x3ca name\x3d"').reference(d.get("Order"),
d,"h").write('"\x3e\x3c/a\x3e').block(d.getBlock("headerContainer"),d,{block:b},null).block(d.getBlock("contentContainer"),d,{block:p},null).block(d.getBlock("footerContainer"),d,{block:N},null)},b=function(a,b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-header"\x3e').block(b.getBlock("header"),b,{block:d},null).write("\x3c/div\x3e")},d=function(a,b){b=b.shiftBlocks(s);return a.block(b.getBlock("verificationLabel"),b,{block:m},null).block(b.getBlock("postDateContainer"),b,{block:l},
null).block(b.getBlock("userNameContainer"),b,{block:j},null).block(b.getBlock("shareContainer"),b,{block:w},null)},m=function(a,b){b.shiftBlocks(s);return a},l=function(a,b){b.shiftBlocks(s);return a},j=function(a,b){b.shiftBlocks(s);return a},w=function(a,b){b.shiftBlocks(s);return a},p=function(a,b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-content"\x3e').block(b.getBlock("content"),b,{block:x},null).write("\x3c/div\x3e")},x=function(a,b){b=b.shiftBlocks(s);return a.block(b.getBlock("contentSideContainer"),
b,{block:y},null).block(b.getBlock("contentMainContainer"),b,{block:B},null)},y=function(a,b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-content-side"\x3e').block(b.getBlock("contentSide"),b,{block:E},null).write("\x3c/div\x3e")},E=function(a,b){b=b.shiftBlocks(s);return a.block(b.getBlock("userAvatar"),b,{block:A},null)},A=function(a,b){b.shiftBlocks(s);return a},B=function(a,b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-content-main"\x3e').block(b.getBlock("contentMainBody"),
b,{block:z},null).write("\x3c/div\x3e")},z=function(a,b){b=b.shiftBlocks(s);return a.block(b.getBlock("commentBefore"),b,{block:F},null).block(b.getBlock("contentMainFull"),b,{block:I},null).block(b.getBlock("commentAfter"),b,{block:M},null)},F=function(a,b){b.shiftBlocks(s);return a},I=function(a,b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-content-full"\x3e').block(b.getBlock("contentFull"),b,{block:C},null).write("\x3c/div\x3e")},C=function(a,b){b=b.shiftBlocks(s);return a.block(b.getBlock("contentCoreContainer"),
b,{block:G},null).block(b.getBlock("contentAttrContainer"),b,{block:J},null)},G=function(a,b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-core-content"\x3e').block(b.getBlock("contentCore"),b,{block:D},null).write("\x3c/div\x3e")},D=function(a,b){b.shiftBlocks(s);return a},J=function(a,b){b.shiftBlocks(s);return a},M=function(a,b){b.shiftBlocks(s);return a},N=function(a,b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-footer"\x3e').block(b.getBlock("footer"),b,{block:R},
null).write("\x3c/div\x3e")},R=function(a,b){b.shiftBlocks(s);return a},S=function(a,b){b.shiftBlocks(s);return a},Q=function(a,b){b.shiftBlocks(s);return a},P=function(a,b){b=b.shiftBlocks(s);return a.reference(b.getPath(!1,["Creator","FullName"]),b,"h")},K=function(a,b){b.shiftBlocks(s);return a},H=function(a,b){b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-publisher-avatar"\x3e\x3c/div\x3e')},L=function(a,b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-publisher-avatar"\x3e\x3cspan class\x3d"post-publisher-avatar-img" style\x3d"background:url(\'').reference(b.getPath(!1,
["AuthorImage","href"]),b,"h").write("');\"\x3e\x3c/span\x3e\x3c/div\x3e")},O=function(a,b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-comment comment-before"\x3e').reference(b.getPath(!1,["Meta","annotation","before"]),b,"h",["s"]).write("\x3c/div\x3e")},$=function(a,b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-comment comment-after"\x3e').reference(b.getPath(!1,["Meta","annotation","after"]),b,"h",["s"]).write("\x3c/div\x3e")},U=function(a,b){b=b.shiftBlocks(s);return a.write("\x3cspan\x3e").block(b.getBlock("contentAttrName"),
b,{block:u},null).write("\x3c/span\x3e")},u=function(a,b){b=b.shiftBlocks(s);return a.reference(b.getPath(!1,["Author","Source","Name"]),b,"h")},h=function(a,b){b.shiftBlocks(s);return a},q=function(a,b){b.shiftBlocks(s);return a},T=function(a,b){b.shiftBlocks(s);return a},Y=function(a,b){b.shiftBlocks(s);return a},v=function(a,b){b.shiftBlocks(s);return a},V=function(a,b){b.shiftBlocks(s);return a},W=function(a,b){b.shiftBlocks(s);return a},aa=function(a,b){b.shiftBlocks(s);return a},X=function(a,
b){b.shiftBlocks(s);return a},ba=function(a,b){b.shiftBlocks(s);return a},ca=function(a,b){b.shiftBlocks(s);return a},da=function(a,b){b=b.shiftBlocks(s);return a.block(b.getBlock("socialShare"),b,{block:ea},null).block(b.getBlock("permanentLinkShare"),b,{block:fa},null)},ea=function(a,b){b.shiftBlocks(s);return a},fa=function(a,b){b.shiftBlocks(s);return a},ga=function(a,b){b=b.shiftBlocks(s);return a.write('\x3ca data-gimme\x3d"post.permalink" href\x3d"').reference(b.get("permalink"),b,"h").write('" rel\x3d"bookmark" class\x3d"permalink"\x3e#\x3c/a\x3e\x3cinput data-gimme\x3d"post.share-permalink" type\x3d"text" style\x3d"visibility:hidden" value\x3d"').reference(b.get("permalink"),
b,"h").write('"\x3e')},Z=function(a,b){b=b.shiftBlocks(s);return a.write('\x3ca data-gimme\x3d"post.social" href\x3d"#" class\x3d"sf-share"\x3e').helper("i18n",b,{},{msgid:"Share"}).write("\x3c/a\x3e")};a.register("themeBase/item/base",function(a,b){b=b.shiftBlocks(s);return a.block(b.getBlock("mainContainer"),b,{block:c},null)});var s={createdDateContainer:function(a,b){b=b.shiftBlocks(s);return a.write('\x3cspan class\x3d"post-datetime"\x3e\x3ctime data-date\x3d"').reference(b.get("CreatedOnISO"),
b,"h").write('"\x3e').reference(b.get("CreatedOn"),b,"h").write("\x3c/time\x3e\x3c/span\x3e")},publishedDateContainer:function(a,b){b=b.shiftBlocks(s);return a.write('\x3cspan class\x3d"post-datetime"\x3e\x3ctime data-date\x3d"').reference(b.get("PublishedOnISO"),b,"h").write('"\x3e').reference(b.get("PublishedOn"),b,"h").write("\x3c/time\x3e\x3c/span\x3e")},postDateContainer:function(a,b){b=b.shiftBlocks(s);return a.block(b.getBlock("publishedDateContainer"),b,{block:S},null)},userNameContainer:function(a,
b){b=b.shiftBlocks(s);return a.block(b.getBlock("publisherNameContainer"),b,{block:Q},null)},publisherNameContainer:function(a,b){b=b.shiftBlocks(s);return a.write('\x3cspan class\x3d"post-publisher-name"\x3e').block(b.getBlock("publisherName"),b,{block:P},null).write("\x3c/span\x3e")},verificationLabel:function(b,a){a.shiftBlocks(s);return b.write('\x3ca class\x3d"verification-label" title\x3d"verification status"\x3e\x3c/a\x3e')},userAvatar:function(b,a){a=a.shiftBlocks(s);return b.block(a.getBlock("publisherAvatar"),
a,{block:K},null)},publisherAvatar:function(a,b){b=b.shiftBlocks(s);return a.exists(b.get("AuthorImage"),b,{"else":H,block:L},null)},commentBefore:function(b,a){a=a.shiftBlocks(s);return b.exists(a.getPath(!1,["Meta","annotation","before"]),a,{block:O},null)},commentAfter:function(a,b){b=b.shiftBlocks(s);return a.exists(b.getPath(!1,["Meta","annotation","after"]),b,{block:$},null)},contentAttr:function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"attributes"\x3e\x3ci class\x3d"source-icon"\x3e\x3c/i\x3e').block(a.getBlock("contentAttrCode"),
a,{block:U},null).write("\x3c/div\x3e")},contentText:function(a,b){b=b.shiftBlocks(s);return a.write('\x3cp class\x3d"post-text"\x3e').reference(b.get("Content"),b,"h",["s"]).write("\x3c/p\x3e")},wrapupIcon:function(b,a){a.shiftBlocks(s);return b.write('\x3cspan class\x3d"big-toggle"\x3e\x3c/span\x3e')},contentExternalContainer:function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-external"\x3e').block(a.getBlock("contentExternal"),a,{block:h},null).write("\x3c/div\x3e")},externalAvatar:function(a,
b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-external-avatar"\x3e\x3cimg class\x3d"post-external-avatar-img" src\x3d"').block(b.getBlock("externalAvatarSrc"),b,{block:q},null).write('"\x3e\x3c/div\x3e')},extenalImageContainer:function(b,a){a=a.shiftBlocks(s);return b.write('\x3ca class\x3d"post-external-image-link" href\x3d"').block(a.getBlock("externalImageLink"),a,{block:T},null).write('" target\x3d"_blank"\x3e\x3cdiv class\x3d"post-external-image"\x3e\x3cimg alt\x3d"').block(a.getBlock("externalImageAlt"),
a,{block:Y},null).write('" class\x3d"post-external-image-img" src\x3d"').block(a.getBlock("externalImageSrc"),a,{block:v},null).write('"\x3e\x3c/div\x3e\x3c/a\x3e')},externalIframeContainer:function(a,b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-frame-container"\x3e').block(b.getBlock("externalIframe"),b,{block:V},null).write("\x3c/div\x3e")},externalInfoTitleContainer:function(a,b){b=b.shiftBlocks(s);return a.write('\x3ca href\x3d"').block(b.getBlock("externalInfoTitleSrc"),b,{block:W},
null).write('"\x3e').block(b.getBlock("externalInfoTitle"),b,{block:aa},null).write("\x3c/a\x3e  ")},externalInfoNameContainer:function(b,a){a=a.shiftBlocks(s);return b.write('\x3ca href\x3d"post-creator-name"\x3e').block(a.getBlock("externalInfoName"),a,{block:X},null).write("\x3c/a\x3e ")},externalInfoContainer:function(b,a){a=a.shiftBlocks(s);return b.write("\x3ch5\x3e").block(a.getBlock("externalInfo"),a,{block:ba},null).write("\x3c/h5\x3e")},externalTextContainer:function(a,b){b=b.shiftBlocks(s);
return a.write('\x3cdiv class\x3d"post-text"\x3e').block(b.getBlock("externalText"),b,{block:ca},null).write("\x3c/div\x3e")},shareContainer:function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-buttons"\x3e').block(a.getBlock("share"),a,{block:da},null).write("\x3c/div\x3e")},permanentLinkShare:function(a,b){b=b.shiftBlocks(s);return a.block(b.getBlock("permanentLink"),b,{block:ga},null)},socialShare:function(b,a){a=a.shiftBlocks(s);return b.block(a.getBlock("social"),a,{block:Z},
null)}};return{render:function(b,d){return a.render("themeBase/item/base",b,d)}}});
define("tmpl!themeBase/item/social-share",["dust"],function(a){var c=function(a,c){return a.write('\x3ca href\x3d"#" class\x3d\'social pinterest\' title\x3d"').helper("i18n",c,{},{msgid:"Share this post on Pinterest"}).write('" onclick\x3d"').reference(c.get("pinclick"),c,"h").write('"\x3e\x3c/a\x3e')};a.register("themeBase/item/social-share",function(a,f){return a.write('\x3cdiv data-gimme\x3d"post.share-social" class\x3d"share-box" style\x3d"visibility:hidden"\x3e\x3ca href\x3d"#" class\x3d\'social facebook\' target\x3d\'_blank\' title\x3d"').helper("i18n",f,
{},{msgid:"Share this post on Facebook"}).write('" onclick\x3d"').reference(f.get("fbclick"),f,"h").write("\"\x3e\x3c/a\x3e\x3ca href\x3d\"#\" class\x3d'social twitter' target\x3d'_blank' title\x3d\"").helper("i18n",f,{},{msgid:"Share this post on Twitter"}).write('" onclick\x3d"').reference(f.get("twtclick"),f,"h").write('"\x3e\x3c/a\x3e\x3ca href\x3d"#" class\x3d\'social linkedin\' title\x3d"').helper("i18n",f,{},{msgid:"Share this post on Linkedin"}).write('" onclick\x3d"').reference(f.get("linclick"),
f,"h").write('"\x3e\x3c/a\x3e').section(f.get("showPin"),f,{block:c},null).write('\x3ca href\x3d"#" class\x3d\'social google\' title\x3d"').helper("i18n",f,{},{msgid:"Share this post on Google+"}).write('" onclick\x3d"').reference(f.get("gglclick"),f,"h").write('"\x3e\x3c/a\x3e\x3ca href\x3d"').reference(f.get("emailurl"),f,"h").write("\" class\x3d'social email' title\x3d\"").helper("i18n",f,{},{msgid:"Share this post via Email"}).write('" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e')});return{render:function(c,
f){return a.render("themeBase/item/social-share",c,f)}}});
define("tmpl!themeBase/item/posttype/base",["dust"],function(a){var c=function(a,d){d=d.shiftBlocks(g);return a.reference(d.get("baseItem"),d,"h")},e=function(a,d){d.shiftBlocks(g);return a},f=function(a,d){d.shiftBlocks(g);return a};a.register("themeBase/item/posttype/base",function(a,d){d=d.shiftBlocks(g);return a.partial(c,d)});var g={contentCore:function(a,d){d=d.shiftBlocks(g);return a.block(d.getBlock("contenteBaseBefore"),d,{block:e},null).block(d.getBlock("contentText"),d,{block:f},null)}};
return{render:function(b,d){return a.render("themeBase/item/posttype/base",b,d)}}});define("tmpl!themeBase/item/posttype/normal",["dust"],function(a){a.register("themeBase/item/posttype/normal",function(a,f){f=f.shiftBlocks(c);return a.partial("themeBase/item/posttype/base",f)});var c={itemClass:function(a,f){f.shiftBlocks(c);return a.write("normal")}};return{render:function(c,f){return a.render("themeBase/item/posttype/normal",c,f)}}});
define("tmpl!themeBase/item/posttype/image",["dust"],function(a){a.register("themeBase/item/posttype/image",function(a,f){f=f.shiftBlocks(c);return a.partial("themeBase/item/posttype/base",f)});var c={item_class:function(a,f){f.shiftBlocks(c);return a.write("normal")}};return{render:function(c,f){return a.render("themeBase/item/posttype/image",c,f)}}});
define("tmpl!themeBase/item/posttype/wrapup",["dust"],function(a){var c=function(a,c){c.shiftBlocks(e);return a};a.register("themeBase/item/posttype/wrapup",function(a,c){c=c.shiftBlocks(e);return a.partial("themeBase/item/posttype/base",c)});var e={additionalAttributes:function(a,c){c.shiftBlocks(e);return a.write('data-gimme\x3d"post.wrapup" data-wrapup-open\x3d"wrapup-open"')},itemClass:function(a,c){c.shiftBlocks(e);return a.write("wrapup wrapup-open")},contenteBaseBefore:function(a,g){g=g.shiftBlocks(e);
return a.block(g.getBlock("wrapupIcon"),g,{block:c},null)}};return{render:function(c,e){return a.render("themeBase/item/posttype/wrapup",c,e)}}});define("tmpl!themeBase/item/posttype/quote",["dust"],function(a){a.register("themeBase/item/posttype/quote",function(a,f){f=f.shiftBlocks(c);return a.partial("themeBase/item/posttype/base",f)});var c={itemClass:function(a,f){f.shiftBlocks(c);return a.write("quote")}};return{render:function(c,f){return a.render("themeBase/item/posttype/quote",c,f)}}});
define("tmpl!themeBase/item/posttype/link",["dust"],function(a){a.register("themeBase/item/posttype/link",function(a,f){f=f.shiftBlocks(c);return a.partial("themeBase/item/posttype/base",f)});var c={itemClass:function(a,f){f.shiftBlocks(c);return a.write("link")}};return{render:function(c,f){return a.render("themeBase/item/posttype/link",c,f)}}});
define("tmpl!themeBase/item/posttype/infomercial",["dust"],function(a){a.register("themeBase/item/posttype/infomercial",function(a,f){f=f.shiftBlocks(c);return a.partial("themeBase/item/posttype/base",f)});var c={itemClass:function(a,f){f.shiftBlocks(c);return a.write("advertisement")}};return{render:function(c,f){return a.render("themeBase/item/posttype/infomercial",c,f)}}});
define("tmpl!themeBase/item/source/base",["dust"],function(a){var c=function(a,c){return a.reference(c.get("baseItem"),c,"h")};a.register("themeBase/item/source/base",function(a,f){return a.partial(c,f)});return{render:function(c,f){return a.render("themeBase/item/source/base",c,f)}}});
define("tmpl!themeBase/item/source/infomercial",["dust"],function(a){a.register("themeBase/item/source/infomercial",function(a,f){f=f.shiftBlocks(c);return a.partial("themeBase/item/source/base",f)});var c={itemClass:function(a,f){f.shiftBlocks(c);return a.write("advertisement")}};return{render:function(c,f){return a.render("themeBase/item/source/infomercial",c,f)}}});
define("tmpl!themeBase/item/source/google",["dust"],function(a){var c=function(a,c){c.shiftBlocks(e);return a};a.register("themeBase/item/source/google",function(a,c){c=c.shiftBlocks(e);return a.partial("themeBase/item/source/base",c)});var e={itemClass:function(a,g){g=g.shiftBlocks(e);return a.write("google ").block(g.getBlock("itemClassAdditional"),g,{block:c},null)},contentAttrName:function(a,c){c.shiftBlocks(e);return a.write("google.com")}};return{render:function(c,e){return a.render("themeBase/item/source/google",
c,e)}}});
define("tmpl!themeBase/item/source/google/web",["dust"],function(a){var c=function(a,b){b.shiftBlocks(d);return a},e=function(a,b){b.shiftBlocks(d);return a},f=function(a,b){b.shiftBlocks(d);return a},g=function(a,b){b.shiftBlocks(d);return a},b=function(a,b){b.shiftBlocks(d);return a};a.register("themeBase/item/source/google/web",function(a,b){b=b.shiftBlocks(d);return a.partial("themeBase/item/source/google",b)});var d={itemClassAdditional:function(a,b){b.shiftBlocks(d);return a.write("googlesearch")},contentCore:function(a,
b){b=b.shiftBlocks(d);return a.block(b.getBlock("contentExternalContainer"),b,{block:c},null).block(b.getBlock("contentAttr"),b,{block:e},null)},contentExternal:function(a,b){b=b.shiftBlocks(d);return a.block(b.getBlock("externalInfoContainer"),b,{block:f},null).block(b.getBlock("externalTextContainer"),b,{block:g},null)},externalInfo:function(a,c){c=c.shiftBlocks(d);return a.block(c.getBlock("externalInfoTitleContainer"),c,{block:b},null)},externalInfoTitle:function(a,b){b=b.shiftBlocks(d);return a.reference(b.getPath(!1,
["Meta","title"]),b,"h",["s"])},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(d);return a.reference(b.getPath(!1,["Meta","unescapedUrl"]),b,"h")},externalText:function(a,b){b=b.shiftBlocks(d);return a.reference(b.get("Content"),b,"h",["s"])}};return{render:function(b,d){return a.render("themeBase/item/source/google/web",b,d)}}});
define("tmpl!themeBase/item/source/google/news",["dust"],function(a){var c=function(a,b){b.shiftBlocks(d);return a},e=function(a,b){b.shiftBlocks(d);return a},f=function(a,b){b.shiftBlocks(d);return a},g=function(a,b){b.shiftBlocks(d);return a},b=function(a,b){b.shiftBlocks(d);return a};a.register("themeBase/item/source/google/news",function(a,b){b=b.shiftBlocks(d);return a.partial("themeBase/item/source/google",b)});var d={itemClassAdditional:function(a,b){b.shiftBlocks(d);return a.write("googlenews")},
contentCore:function(a,b){b=b.shiftBlocks(d);return a.block(b.getBlock("contentExternalContainer"),b,{block:c},null).block(b.getBlock("contentAttr"),b,{block:e},null)},contentExternal:function(a,b){b=b.shiftBlocks(d);return a.block(b.getBlock("externalInfoContainer"),b,{block:f},null).block(b.getBlock("externalTextContainer"),b,{block:g},null)},externalInfo:function(a,c){c=c.shiftBlocks(d);return a.block(c.getBlock("externalInfoTitleContainer"),c,{block:b},null)},externalInfoTitle:function(a,b){b=
b.shiftBlocks(d);return a.reference(b.getPath(!1,["Meta","title"]),b,"h",["s"])},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(d);return a.reference(b.getPath(!1,["Meta","unescapedUrl"]),b,"h")},externalText:function(a,b){b=b.shiftBlocks(d);return a.reference(b.get("Content"),b,"h",["s"])}};return{render:function(b,d){return a.render("themeBase/item/source/google/news",b,d)}}});
define("tmpl!themeBase/item/source/google/images",["dust"],function(a){var c=function(a,b){b.shiftBlocks(m);return a},e=function(a,b){b.shiftBlocks(m);return a},f=function(a,b){b.shiftBlocks(m);return a},g=function(a,b){b.shiftBlocks(m);return a},b=function(a,b){b.shiftBlocks(m);return a},d=function(a,b){b.shiftBlocks(m);return a};a.register("themeBase/item/source/google/images",function(a,b){b=b.shiftBlocks(m);return a.partial("themeBase/item/source/google",b)});var m={itemClassAdditional:function(a,
b){b.shiftBlocks(m);return a.write("googleimage")},contentCore:function(a,b){b=b.shiftBlocks(m);return a.block(b.getBlock("contentExternalContainer"),b,{block:c},null).block(b.getBlock("contentAttr"),b,{block:e},null)},contentExternal:function(a,d){d=d.shiftBlocks(m);return a.block(d.getBlock("extenalImageContainer"),d,{block:f},null).block(d.getBlock("externalInfoContainer"),d,{block:g},null).block(d.getBlock("externalTextContainer"),d,{block:b},null)},externalInfo:function(a,b){b=b.shiftBlocks(m);
return a.block(b.getBlock("externalInfoTitleContainer"),b,{block:d},null)},externalImageLink:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","originalContextUrl"]),b,"h")},externalImageSrc:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","url"]),b,"h")},externalImageAlt:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","visibleUrl"]),b,"h")},externalInfoTitle:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta",
"title"]),b,"h",["s"])},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","originalContextUrl"]),b,"h")},externalText:function(a,b){b=b.shiftBlocks(m);return a.reference(b.get("Content"),b,"h",["s"])}};return{render:function(b,d){return a.render("themeBase/item/source/google/images",b,d)}}});
define("tmpl!themeBase/item/source/twitter",["dust"],function(a){var c=function(a,b){b.shiftBlocks(j);return a},e=function(a,b){b.shiftBlocks(j);return a},f=function(a,b){b.shiftBlocks(j);return a},g=function(a,b){b.shiftBlocks(j);return a},b=function(a,b){b.shiftBlocks(j);return a},d=function(a,b){b.shiftBlocks(j);return a},m=function(a,b){b.shiftBlocks(j);return a},l=function(a,b){b.shiftBlocks(j);return a};a.register("themeBase/item/source/twitter",function(a,b){b=b.shiftBlocks(j);return a.partial("themeBase/item/source/base",
b)});var j={itemClass:function(b,a){a.shiftBlocks(j);return b.write("twitter")},contentCore:function(b,a){a=a.shiftBlocks(j);return b.block(a.getBlock("contentExternalContainer"),a,{block:c},null).block(a.getBlock("contentAttr"),a,{block:e},null)},contentExternal:function(a,c){c=c.shiftBlocks(j);return a.block(c.getBlock("externalAvatar"),c,{block:f},null).block(c.getBlock("externalInfoContainer"),c,{block:g},null).block(c.getBlock("externalTextContainer"),c,{block:b},null).block(c.getBlock("externalTwitterActions"),
c,{block:d},null)},externalInfo:function(a,b){b=b.shiftBlocks(j);return a.block(b.getBlock("externalInfoTitleContainer"),b,{block:m},null).block(b.getBlock("externalInfoUser"),b,{block:l},null)},externalInfoTitle:function(a,b){b=b.shiftBlocks(j);return a.reference(b.getPath(!1,["Meta","from_user_name"]),b,"h")},externalInfoTitleSrc:function(b,a){a=a.shiftBlocks(j);return b.write("//twitter.com/").reference(a.getPath(!1,["Meta","from_user"]),a,"h")},externalText:function(a,b){b=b.shiftBlocks(j);return a.reference(b.getPath(!1,
["Meta","text"]),b,"h",["twitter_all","s"])},externalInfoUser:function(b,a){a=a.shiftBlocks(j);return b.write("\x3cspan\x3e@").reference(a.getPath(!1,["Meta","from_user"]),a,"h").write("\x3c/span\x3e")},externalAvatarSrc:function(a,b){b=b.shiftBlocks(j);return a.reference(b.getPath(!1,["Meta","user","profile_image_url"]),b,"h")},externalTwitterActions:function(b,a){a=a.shiftBlocks(j);return b.write('\x3cdiv class\x3d"twitter-controls"\x3e \x3c!-- twitter buttons --\x3e\x3ca href\x3d"//twitter.com/intent/favorite?tweet_id\x3d').reference(a.getPath(!1,
["Meta","id_str"]),a,"h").write('" target\x3d"_blank" class\x3d"twitter-button favorites"\x3e').helper("i18n",a,{},{msgid:"Favorites"}).write('\x3c/a\x3e\x3ca href\x3d"//twitter.com/intent/retweet?tweet_id\x3d').reference(a.getPath(!1,["Meta","id_str"]),a,"h").write('" target\x3d"_blank" class\x3d"twitter-button retweet"\x3e').helper("i18n",a,{},{msgid:"Retweet"}).write('\x3c/a\x3e\x3ca href\x3d"//twitter.com/intent/tweet?in_reply_to\x3d').reference(a.getPath(!1,["Meta","id_str"]),a,"h").write('" target\x3d"_blank" class\x3d"twitter-button reply"\x3e').helper("i18n",
a,{},{msgid:"Reply"}).write("\x3c/a\x3e\x3c/div\x3e")},contentAttrName:function(a,b){b.shiftBlocks(j);return a.write("twitter.com")}};return{render:function(b,d){return a.render("themeBase/item/source/twitter",b,d)}}});
define("tmpl!themeBase/item/source/facebook",["dust"],function(a){var c=function(a,b){b.shiftBlocks(m);return a},e=function(a,b){b.shiftBlocks(m);return a},f=function(a,b){b.shiftBlocks(m);return a},g=function(a,b){b.shiftBlocks(m);return a},b=function(a,b){b.shiftBlocks(m);return a},d=function(a,b){b.shiftBlocks(m);return a};a.register("themeBase/item/source/facebook",function(a,b){b=b.shiftBlocks(m);return a.partial("themeBase/item/source/base",b)});var m={itemClass:function(a,b){b.shiftBlocks(m);
return a.write("facebook")},contentCore:function(a,b){b=b.shiftBlocks(m);return a.block(b.getBlock("contentExternalContainer"),b,{block:c},null).block(b.getBlock("contentAttr"),b,{block:e},null)},contentExternal:function(a,d){d=d.shiftBlocks(m);return a.block(d.getBlock("externalAvatar"),d,{block:f},null).block(d.getBlock("externalInfoContainer"),d,{block:g},null).block(d.getBlock("externalTextContainer"),d,{block:b},null)},externalInfo:function(a,b){b=b.shiftBlocks(m);return a.block(b.getBlock("externalInfoTitleContainer"),
b,{block:d},null)},externalInfoTitle:function(b,a){a=a.shiftBlocks(m);return b.reference(a.getPath(!1,["Meta","from","name"]),a,"h")},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","permalink"]),b,"h")},externalText:function(b,a){a=a.shiftBlocks(m);return b.reference(a.getPath(!1,["Meta","message"]),a,"h",["s"])},contentAttrName:function(a,b){b.shiftBlocks(m);return a.write("facebook.com")},externalAvatarSrc:function(a,b){b=b.shiftBlocks(m);return a.write("//graph.facebook.com/").reference(b.getPath(!1,
["Meta","from","id"]),b,"h").write("/picture")}};return{render:function(b,d){return a.render("themeBase/item/source/facebook",b,d)}}});
define("tmpl!themeBase/item/source/youtube",["dust"],function(a){var c=function(b,a){a.shiftBlocks(m);return b},e=function(b,a){a.shiftBlocks(m);return b},f=function(b,a){a.shiftBlocks(m);return b},g=function(b,a){a.shiftBlocks(m);return b},b=function(b,a){a.shiftBlocks(m);return b},d=function(b,a){a.shiftBlocks(m);return b};a.register("themeBase/item/source/youtube",function(b,a){a=a.shiftBlocks(m);return b.partial("themeBase/item/source/base",a)});var m={itemClass:function(b,a){a.shiftBlocks(m);
return b.write("youtube")},contentCore:function(b,a){a=a.shiftBlocks(m);return b.block(a.getBlock("contentExternalContainer"),a,{block:c},null).block(a.getBlock("contentAttr"),a,{block:e},null)},contentExternal:function(a,d){d=d.shiftBlocks(m);return a.block(d.getBlock("externalIframeContainer"),d,{block:f},null).block(d.getBlock("externalTextContainer"),d,{block:g},null).block(d.getBlock("externalInfoContainer"),d,{block:b},null)},externalInfo:function(a,b){b=b.shiftBlocks(m);return a.block(b.getBlock("externalInfoTitleContainer"),
b,{block:d},null)},externalInfoTitle:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","title"]),b,"h",["s"])},externalInfoTitleSrc:function(b,a){a=a.shiftBlocks(m);return b.write("//youtube.com/watch?v\x3d").reference(a.getPath(!1,["Meta","id"]),a,"h")},externalIframe:function(a,b){b=b.shiftBlocks(m);return a.write('\x3ciframe src\x3d"//youtube.com/embed/').reference(b.getPath(!1,["Meta","id"]),b,"h").write('?wmode\x3dopaque" class\x3d\'youtube-content\' width\x3d"560" height\x3d"315" frameborder\x3d"0" allowfullscreen\x3d"" \x3e\x3c/iframe\x3e')},
externalTextContainer:function(b,a){a=a.shiftBlocks(m);return b.reference(a.getPath(!1,["Meta","description"]),a,"h")},contentAttrName:function(a,b){b.shiftBlocks(m);return a.write("youtube.com")}};return{render:function(b,d){return a.render("themeBase/item/source/youtube",b,d)}}});
define("tmpl!themeBase/item/source/flickr",["dust"],function(a){var c=function(b,a){a.shiftBlocks(g);return b},e=function(a,d){d.shiftBlocks(g);return a},f=function(a,d){d.shiftBlocks(g);return a};a.register("themeBase/item/source/flickr",function(a,d){d=d.shiftBlocks(g);return a.partial("themeBase/item/source/base",d)});var g={itemClass:function(a,d){d.shiftBlocks(g);return a.write("flickr")},contentCore:function(a,d){d=d.shiftBlocks(g);return a.block(d.getBlock("contentExternalContainer"),d,{block:c},
null).block(d.getBlock("contentAttr"),d,{block:e},null)},contentExternal:function(a,d){d=d.shiftBlocks(g);return a.block(d.getBlock("extenalImageContainer"),d,{block:f},null)},externalImageLink:function(a,d){d=d.shiftBlocks(g);return a.write("//farm").reference(d.getPath(!1,["Meta","farm"]),d,"h").write(".staticflickr.com/").reference(d.getPath(!1,["Meta","server"]),d,"h").write("/").reference(d.getPath(!1,["Meta","id"]),d,"h").write("_").reference(d.getPath(!1,["Meta","secret"]),d,"h").write(".jpg")},
externalImageSrc:function(a,d){d=d.shiftBlocks(g);return a.write("//farm").reference(d.getPath(!1,["Meta","farm"]),d,"h").write(".staticflickr.com/").reference(d.getPath(!1,["Meta","server"]),d,"h").write("/").reference(d.getPath(!1,["Meta","id"]),d,"h").write("_").reference(d.getPath(!1,["Meta","secret"]),d,"h").write(".jpg")},externalImageAlt:function(a,d){d=d.shiftBlocks(g);return a.reference(d.getPath(!1,["Meta","title"]),d,"h")},contentAttrName:function(a,d){d.shiftBlocks(g);return a.write("flickr.com")}};
return{render:function(b,d){return a.render("themeBase/item/source/flickr",b,d)}}});
define("tmpl!themeBase/item/source/comments",["dust"],function(a){var c=function(a,d){d.shiftBlocks(g);return a},e=function(a,d){d.shiftBlocks(g);return a},f=function(a,d){d.shiftBlocks(g);return a};a.register("themeBase/item/source/comments",function(a,d){d=d.shiftBlocks(g);return a.partial("themeBase/item/source/base",d)});var g={itemClass:function(a,d){d.shiftBlocks(g);return a.write("usercomments")},contentCore:function(a,d){d=d.shiftBlocks(g);return a.block(d.getBlock("contenteBaseBefore"),d,
{block:c},null).block(d.getBlock("contentText"),d,{block:e},null)},postDateContainer:function(a,d){d=d.shiftBlocks(g);return a.block(d.getBlock("createdDateContainer"),d,{block:f},null)},publisherName:function(a,d){d=d.shiftBlocks(g);return a.reference(d.getPath(!1,["Meta","AuthorName"]),d,"h")}};return{render:function(b,d){return a.render("themeBase/item/source/comments",b,d)}}});
define("tmpl!themeBase/item/source/soundcloud",["dust"],function(a){var c=function(a,d){d.shiftBlocks(g);return a},e=function(a,d){d.shiftBlocks(g);return a},f=function(a,d){d.shiftBlocks(g);return a};a.register("themeBase/item/source/soundcloud",function(a,d){d=d.shiftBlocks(g);return a.partial("themeBase/item/source/base",d)});var g={itemClass:function(a,d){d.shiftBlocks(g);return a.write("soundcloud")},contentCore:function(a,d){d=d.shiftBlocks(g);return a.block(d.getBlock("contentExternalContainer"),
d,{block:c},null).block(d.getBlock("contentAttr"),d,{block:e},null)},contentExternal:function(a,d){d=d.shiftBlocks(g);return a.block(d.getBlock("externalIframeContainer"),d,{block:f},null)},externalIframe:function(a,d){d=d.shiftBlocks(g);return a.write('\x3ciframe width\x3d"100%" height\x3d"166" scrolling\x3d"no" frameborder\x3d"no" src\x3d"//w.soundcloud.com/player/?url\x3d%2F%2Fapi.soundcloud.com%2Ftracks%2F').reference(d.getPath(!1,["Meta","id"]),d,"h").write('\x26show_artwork\x3dtrue"\x3e\x3c/iframe\x3e')},
contentAttrName:function(a,d){d.shiftBlocks(g);return a.write("soundcloud.com")}};return{render:function(b,d){return a.render("themeBase/item/source/soundcloud",b,d)}}});
define("tmpl!themeBase/item/source/instagram",["dust"],function(a){var c=function(a,c){c.shiftBlocks(b);return a},e=function(a,c){c.shiftBlocks(b);return a},f=function(a,c){c.shiftBlocks(b);return a},g=function(a,c){c.shiftBlocks(b);return a};a.register("themeBase/item/source/instagram",function(a,c){c=c.shiftBlocks(b);return a.partial("themeBase/item/source/base",c)});var b={itemClass:function(a,c){c.shiftBlocks(b);return a.write("instagram")},contentCore:function(a,f){f=f.shiftBlocks(b);return a.block(f.getBlock("contentExternalContainer"),
f,{block:c},null).block(f.getBlock("contentAttr"),f,{block:e},null)},contentExternal:function(a,c){c=c.shiftBlocks(b);return a.block(c.getBlock("extenalImageContainer"),c,{block:f},null).block(c.getBlock("externalTextContainer"),c,{block:g},null)},externalImageLink:function(a,c){c=c.shiftBlocks(b);return a.reference(c.getPath(!1,["Meta","images","standard_resolution","url"]),c,"h")},externalImageSrc:function(a,c){c=c.shiftBlocks(b);return a.reference(c.getPath(!1,["Meta","images","standard_resolution",
"url"]),c,"h")},externalImageAlt:function(a,c){c=c.shiftBlocks(b);return a.reference(c.getPath(!1,["Meta","caption","text"]),c,"h",["trim50"])},externalText:function(a,c){c=c.shiftBlocks(b);return a.reference(c.getPath(!1,["Meta","caption","text"]),c,"h")},contentAttrName:function(a,c){c.shiftBlocks(b);return a.write("instagram.com")}};return{render:function(b,c){return a.render("themeBase/item/source/instagram",b,c)}}});
define("tmpl!themeBase/item/source/sms",["dust"],function(a){var c=function(a,d){d.shiftBlocks(g);return a},e=function(a,d){d.shiftBlocks(g);return a},f=function(a,d){d.shiftBlocks(g);return a};a.register("themeBase/item/source/sms",function(a,d){d=d.shiftBlocks(g);return a.partial("themeBase/item/source/base",d)});var g={itemClass:function(a,d){d.shiftBlocks(g);return a.write("sms")},contentCore:function(a,d){d=d.shiftBlocks(g);return a.block(d.getBlock("contenteBaseBefore"),d,{block:c},null).block(d.getBlock("contentText"),
d,{block:e},null)},postDateContainer:function(a,d){d=d.shiftBlocks(g);return a.block(d.getBlock("createdDateContainer"),d,{block:f},null)},publisherName:function(a,d){d=d.shiftBlocks(g);return a.reference(d.getPath(!1,["Meta","Creator","Name"]),d,"h")}};return{render:function(b,d){return a.render("themeBase/item/source/sms",b,d)}}});
define("tmpl!themeBase/plugins/user-comment",["dust"],function(a){a.register("themeBase/plugins/user-comment",function(a,e){return a.write('\x3cdiv class\x3d"comment-box"\x3e\x3cform name\x3d"comment"\x3e\x3cdiv class\x3d"content"\x3e\x3cinput type\x3d"text" placeholder\x3d"').helper("i18n",e,{},{msgid:"Nickname"}).write('" id\x3d"comment-nickname"\x3e\x3cdiv class\x3d"error"\x3e').helper("i18n",e,{},{msgid:"Please fill in your Nickname."}).write('\x3c/div\x3e\x3ctextarea placeholder\x3d"').helper("i18n",
e,{},{msgid:"Your Comment"}).write('" id\x3d"comment-text"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"error"\x3e').helper("i18n",e,{},{msgid:"Please fill in your Comment text."}).write('\x3c/div\x3e\x3cdiv id\x3d"comment-token" data-public-key\x3d"6Le3_OISAAAAAFHYywwPBTceM563QA62HOSvxz4B"\x3e\x3c/div\x3e\x3cdiv class\x3d"error"\x3e').helper("i18n",e,{},{msgid:"Please fill in text from image."}).write('\x3c/div\x3e\x3cbutton type\x3d"submit" class\x3d"button send"\x3e').helper("i18n",e,{},{msgid:"Send"}).write('\x3c/button\x3e\x3cbutton type\x3d"reset" class\x3d"button cancel"\x3e').helper("i18n",
e,{},{msgid:"Cancel"}).write("\x3c/button\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e")});return{render:function(c,e){return a.render("themeBase/plugins/user-comment",c,e)}}});
define("views/post-templates","tmpl!themeBase/item/base tmpl!themeBase/item/social-share tmpl!themeBase/item/posttype/base tmpl!themeBase/item/posttype/normal tmpl!themeBase/item/posttype/image tmpl!themeBase/item/posttype/wrapup tmpl!themeBase/item/posttype/quote tmpl!themeBase/item/posttype/link tmpl!themeBase/item/posttype/infomercial tmpl!themeBase/item/source/base tmpl!themeBase/item/source/infomercial tmpl!themeBase/item/source/google tmpl!themeBase/item/source/google/web tmpl!themeBase/item/source/google/news tmpl!themeBase/item/source/google/images tmpl!themeBase/item/source/twitter tmpl!themeBase/item/source/facebook tmpl!themeBase/item/source/youtube tmpl!themeBase/item/source/flickr tmpl!themeBase/item/source/comments tmpl!themeBase/item/source/soundcloud tmpl!themeBase/item/source/instagram tmpl!themeBase/item/source/sms tmpl!themeBase/plugins/user-comment".split(" "),function(){});
define("views/post","jquery gizmo/superdesk dust jquery-path/tmpl jquery-path/utils utils/encode_url utils/date-format views/post-templates".split(" "),function(a,c,e){return function(){var f=c.View.extend({data:{},init:function(){var a=this;a.model.on("read update",function(b,d){a._parent.collection.isCollectionDeleted(a.model)||a.render(b,d)}).on("delete",a.remove,a);a.render()},remove:function(){this._parent.removeOne(this);this.el.remove();this.model.off("read update delete");return this},render:function(c,
b){var d=this;b=d.model.feed(!0);var f=parseFloat(d.model.get("Order"));d.templateData=b;!isNaN(d.order)&&f!=d.order&&d._parent.orderOne(d);b.Meta&&(b.Meta=b.Meta.replace(RegExp("http://","g"),"//"),b.Meta=a.parseJSON(b.Meta),b.AuthorName&&(b.Meta.Creator={Name:b.AuthorName}));b.Meta&&b.Meta.annotation&&(null===b.Meta.annotation[1]&&(b.Meta.annotation=b.Meta.annotation[0],b.Meta.annotation=a.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],b.Meta.annotation)),"string"!==typeof b.Meta.annotation?b.Meta.annotation[0]?
(f=b.Meta.annotation,b.Meta.annotation={before:a.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],f[0]),after:a.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],f[1])}):b.Meta.annotation={before:a.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],b.Meta.annotation.before),after:a.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],b.Meta.annotation.after)}:b.Meta.annotation=a.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],b.Meta.annotation));"smsblog"===b.Author.Source.Type.Key?b.item="source/sms":"True"===b.Author.Source.IsModifiable||"internal"===b.Author.Source.Name?
b.item="posttype/"+b.Type.Key:b.Type&&(b.item="source/"+b.Author.Source.Name);b.CreatedOn&&(f=new Date(Date.parse(b.CreatedOn)),b.CreatedOn=f.format(_("post-date")),b.CreatedOnISO=f.getTime());b.PublishedOn&&(f=new Date(Date.parse(b.PublishedOn)),b.PublishedOn=f.format(_("post-date")),b.PublishedOnISO=f.getTime());b.Content&&liveblog.adminServer&&(b.Content=b.Content.replace(liveblog.adminServer,livedesk.frontendServer));d.item="True"===b.Author.Source.IsModifiable||"internal"===b.Author.Source.Name?
"advertisement"===b.Type.Key?"/item/posttype/infomercial":"/item/posttype/"+b.Type.Key:"google"===b.Author.Source.Name?"/item/source/google/"+b.Meta.type:"advertisement"===b.Author.Source.Name?"/item/source/infomercial":"/item/source/"+b.Author.Source.Name;"/item/source/comments"===d.item&&(b.Meta&&b.Meta.AuthorName)&&(f=b.Meta.AuthorName.replace("commentator",""),b.Meta.AuthorName=_("%(full_name)s commentator").format({full_name:f}));f=d.item;d.item=e.defined("theme"+d.item)?"theme"+d.item:"themeBase"+
d.item;b.baseItem=e.defined("theme/item/base")?"theme/item/base":"themeBase/item/base";b.frontendServer=liveblog.frontendServer;d.shortItem=f;a.dispatcher.triggerHandler("render.post-view",d);a.each(d.data,function(c,e){b[c]=a.isFunction(e)?e.call(d,b):e});a.tmpl(d.item,b,function(c,e){d.setElement(e);a(".sf-share",d.el).on(d.getEvent("click"),function(c){c.preventDefault();var e=a(this);if("yes"!=e.attr("data-added")){c=encodeURL(d._parent._parent.model.get("Title"));var f=encodeURL(b.permalink),
g=a(".result-content img:first",d.el).attr("src");g||(g=a("img:first").attr("src"));var j=encodeURL(a(".result-content .result-text:last",d.el).text()),g="http://pinterest.com/pin/create/button/?url\x3d"+f+"\x26media\x3d"+g+"\x26description\x3d"+c,l="https://plus.google.com/share?url\x3d"+f+"\x26t\x3d",m="mailto:?to\x3d\x26subject\x3d"+_("Check out this Live Blog")+"\x26body\x3d"+f,z="http://www.facebook.com/sharer.php?s\x3d100",z=z+("\x26p[title]\x3d"+c),z=z+("\x26p[summary]\x3d"+j),z=z+("\x26p[url]\x3d"+
f),F=0;a(".result-content img",d.el).each(function(){var b=a(this).attr("src");z+="\x26p[images]["+F+"]\x3d"+b;F++});c={fbclick:"$.socialShareWindow('"+z+"',400,570); return false;",twtclick:"$.socialShareWindow('http://twitter.com/home?status\x3d"+_("Now reading ")+c+": "+f+"',400,570); return false;",linclick:"$.socialShareWindow('http://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d"+f+"\x26title\x3d"+c+"\x26summary\x3d"+j+"', 400, 570); return false;",pinclick:"$.socialShareWindow('"+g+
"', 400, 700); return false;",gglclick:"$.socialShareWindow('"+l+"', 400, 570); return false;",emailclick:"$.socialShareWindow('"+m+"', 1024, 768); return false;",emailurl:m};a.tmpl("themeBase/item/social-share",c,function(a,b){e.after(b);e.attr("data-added","yes")})}c=a('[data-gimme\x3d"post.share-social"]',d.el);"visible"===c.css("visibility")?c.css("visibility","hidden"):(a('[data-gimme^\x3d"post.share"]',d.el).css("visibility","hidden"),c.css("visibility","visible"))});a.dispatcher.triggerHandler("rendered-after.post-view",
d)})}});a.dispatcher.triggerHandler("class.post-view",f);return f}});define("dispatcher",["jquery"],function(a){var c=function(){};c.prototype={on:function(c,f){a(this).on(c,function(a,b){f.call(b)})},triggerHandler:function(c,f){a(this).triggerHandler(c,[f])}};a.dispatcher=new c});
define("views/posts",["jquery","gizmo/view-events","views/post","dispatcher"],function(a,c,e){return function(){var f=e(),g=c.View.extend({events:{},_flags:{autoRender:!0,addAllPending:!1},_config:{timeInterval:1E4,data:{thumbSize:"medium"},collection:{xfilter:"PublishedOn, DeletedOn, Order, Id,CId, Content, CreatedOn, Type, AuthorName, Author.Source.Name, Author.Source.Id, Author.Source.IsModifiable,IsModified, AuthorImage,AuthorPerson.EMail, AuthorPerson.FirstName, AuthorPerson.LastName, AuthorPerson.Id,Meta, IsPublished, Creator.FullName, Author.Source.Type.Key"}},
pendingAutoupdates:[],init:function(){var b=this;b._views=[];a.each(b._config.collection,function(d,c){if(a.isArray(c))b.collection[d].apply(b.collection,c);else b.collection[d](c)});b.collection.on("read readauto",b.render,b).on("addings",b.addAll,b).on("addingsauto",b.addingsAuto,b).on("removeingsauto",b.removeAllAutoupdate,b).auto().autosync({data:b._config.data,preprocessTime:775})},removeOne:function(a){var d=this._views.indexOf(a),c=this.collection._list.indexOf(a.model);-1!==d&&(this.collection._stats.total--,
this._views.splice(d,1),-1!==c&&this.collection._list.splice(c,1));this.triggerHandler("remove",[a.model]);return this},addOne:function(a){var d=new f({model:a,_parent:this});a.postView=d;return this.orderOne(d)},orderOne:function(b){var d=this._views.indexOf(b);b.order=parseFloat(b.model.get("Order"));-1===d&&this._views.push(b);this._views.sort(function(a,b){return b.order-a.order});d=this._views.indexOf(b);if(0===d)if(1===this._views.length)if(this.el.children().length){var d=a('[data-gimme\x3d"posts.beforePage"]:last',
this.el),c=a('[data-gimme\x3d"posts.afterPage"]:first',this.el);d.length?d.after(b.el):c.length?c.before(b.el):this.el.prepend(b.el)}else this.el.append(b.el);else b.el.insertBefore(this._views[1].el);else b.el.insertAfter(this._views[d-1].el);return b},addingsAuto:function(a,d){d.length&&(this.pendingAutoupdates=this.pendingAutoupdates.concat(d));this.addAllAutoupdate(a)},addAllPending:function(){if(!this._flags.addAllPending&&this.pendingAutoupdates.length){this._flags.addAllPending=!0;this._parent.hideNewPosts();
for(var b=0,d=this.pendingAutoupdates.length;b<d;b++)this.addOne(this.pendingAutoupdates[b]);a.dispatcher.triggerHandler("added-pending.posts-view",this);this.triggerHandler("addingsauto",[this.pendingAutoupdates]);this.pendingAutoupdates=[]}this._flags.addAllPending=!1},addAllAutoupdate:function(b){this._flags.autoRender?(this.addAllPending(b),a.dispatcher.triggerHandler("added-auto.posts-view",this)):this._parent.showNewPosts(this.pendingAutoupdates.length)},addAll:function(b,d){this.triggerHandler("addings",
[d]);for(var c=0,e=d.length;c<e;c++)this.addOne(d[c]);d.length&&a.dispatcher.triggerHandler("add-all.posts-view",this)},render:function(b,d){this.collection.triggerHandler("rendered");this.addAll(b,d);a.dispatcher.triggerHandler("rendered-after.posts-view",this)}});a.dispatcher.triggerHandler("class.posts-view",g);return g}});
define("collections/autocollection",["jquery","gizmo/superdesk"],function(a,c){return c.Collection.extend({_timeInterval:1E4,_idInterval:0,_stats:{limit:15,offset:0,lastCId:0,firstOrder:Infinity,total:0},limit:function(a){this._stats.limit=a;return c.Collection.prototype.limit.call(this,a)},offset:function(a){this._stats.offset=a;return c.Collection.prototype.offset.call(this,a)},keep:!1,resetStats:function(){this._stats={limit:15,offset:0,lastCId:0,firstOrder:Infinity,total:0}},init:function(){var a=
this;a.model.on("publish reorder",function(c,g){a._stats.lastCId+1===parseInt(g.get("CId"))&&a._stats.lastCId++});a.on("read readauto",function(c,g,b){a._stats.offset=a._stats.limit;a._stats.total=parseInt(b.total);b.lastCId=parseInt(b.lastCId);b.lastCId>a._stats.lastCId&&(a._stats.lastCId=b.lastCId);a.getFirstOrder(g)}).on("readauto updatesauto addingsauto removeingsauto update",function(c,g){a.getLastCid(g);a.getFirstOrder(g)}).on("addingsauto",function(c,g){a._stats.total+=g.length;a._stats.offset+=
g.length}).on("removeingsauto",function(c,g){a._stats.total-=g.length;a._stats.offset-=g.length}).on("addings",function(c,g){a._stats.offset+=g.length})},destroy:function(){this.stop()},auto:function(a){var c=this;this.stop();this._idInterval=setInterval(function(){c.start(a)},this._timeInterval);return c},start:function(c){c=c||{};c=a.extend(!0,{data:{"cId.since":this._stats.lastCId},headers:{"X-Filter":this._xfilter,"X-Format-DateTime":"yyyy-MM-ddTHH:mm:ss'Z'"}},c);0===this._stats.lastCId&&delete c.data["cId.since"];
if(!this.keep&&this.view&&!this.view.checkElement())this.stop();else return this.autosync(c)},stop:function(){clearInterval(this._idInterval);return this},getFirstOrder:function(a){for(var c=0,g,b=a.length;c<b;c++)g=parseFloat(a[c].get("Order")),!isNaN(g)&&this._stats.firstOrder>g&&(this._stats.firstOrder=g)},getLastCid:function(a){for(var c=0,g,b=a.length;c<b;c++)g=parseInt(a[c].get("CId")),!isNaN(g)&&this._stats.lastCId<g&&(this._stats.lastCId=g)},autosync:function(a){var c=this;return this.href&&
this.syncAdapter.request.call(this.syncAdapter,this.href).read(a).done(function(a){var b=c.parseAttributes(a);a=c._parse(a);for(var d=[],e=[],l=[],j=[],w=c._list.length,p=0;p<a.length;p++){for(var x=!1,y=0;y<c._list.length;y++)if(a[p].hash()==c._list[y].hash()){x=a[p];break}if(x)if(c.hasEvent("updatesauto")&&l.push(x),c.isCollectionDeleted(x)&&(c._list.splice(y,1),c.hasEvent("removeingsauto")&&e.push(x)),x.isDeleted())x._remove();else if(x.isChanged())d.push(x);else x.on("delete",function(){c.remove(this.hash())}).on("garbage",
function(){this.desynced=!0});else c.isCollectionDeleted(a[p])?c.hasEvent("removeingsauto")&&c.hasEvent("removeingsauto")&&e.push(a[p]):a[p].isDeleted()?c.hasEvent("updatesauto")&&l.push(a[p]):(c._list.push(a[p]),d.push(a[p]),c.hasEvent("addingsauto")&&(Infinity===c._stats.firstOrder||c._stats.firstOrder<parseFloat(a[p].get("Order"))?j.push(a[p]):c.remove(a[p].hash())))}c.desynced=!1;0===w?c.triggerHandler("readauto",[c._list,b]):(l.length&&c.hasEvent("updatesauto")&&c.triggerHandler("updatesauto",
[l,b]),j.length&&c.hasEvent("addingsauto")&&c.triggerHandler("addingsauto",[j,b]),e.length&&c.hasEvent("removeingsauto")&&c.triggerHandler("removeingsauto",[e,b]),c.triggerHandler("updateauto",[d,b]))})}},{register:"AutoCollection"})});define("models/user",["gizmo/superdesk"],function(a){return a.Model.extend({},{register:"User"})});
define("models/post",["gizmo/superdesk","models/user","utils/extend"],function(a){return a.Model.extend({defaults:{Creator:a.Register.User},services:{flickr:!0,google:!0,twitter:!0,facebook:!0,youtube:!0},getClass:function(){switch(this.get("Type").Key){case "wrapup":return"wrapup";case "quote":return"quotation";case "advertisement":return"advertisement";default:return this.isService()?"service":"tw"}},isService:function(){return this.get("AuthorName")in this.services},isQuote:function(){return"quotation"==
this.getClass()},twitter:{link:{anchor:function(a){return a.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+/g,function(a){a=a.link(a);return a=a.replace('href\x3d"','target\x3d"_blank" href\x3d"')})},user:function(a){return a.replace(/[@]+[A-Za-z0-9-_]+/g,function(a){var c=a.replace("@","");a=a.link("http://twitter.com/"+c);return a=a.replace('href\x3d"','target\x3d"_blank" onclick\x3d"loadProfile(\''+c+'\');return(false);"  href\x3d"')})},tag:function(a){return a.replace(/[#]+[A-Za-z0-9-_]+/g,
function(a){var c=a.replace(" #"," %23");a=a.link("http://summize.com/search?q\x3d"+c);return a=a.replace('href\x3d"','target\x3d"_blank" href\x3d"')})},all:function(a){a=this.anchor(a);a=this.user(a);return a=this.tag(a)}}}},{register:"Post"})});
define("collections/posts",["gizmo/superdesk","collections/autocollection","models/post"],function(a){return a.Register.AutoCollection.extend({parse:function(a){return a.PostList?a.PostList:a},parseAttributes:function(a){return{lastCId:a.lastCId,offset:a.offset,offsetMore:a.offsetMore,total:a.total,limit:a.limit}},isCollectionDeleted:function(a){return"False"===a.get("IsPublished")},model:a.Register.Post},{register:"Posts"})});
define("models/blog",["gizmo/superdesk","collections/posts"],function(a){return a.Model.extend({url:new a.Url("LiveDesk/Blog"),defaults:{PostPublished:a.Register.Posts}},{register:"Blog"})});
define("tmpl!themeBase/container",["dust"],function(a){var c=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv id\x3d"livedesk-root" ').block(b.getBlock("additionalAttributes"),b,{block:e},null).write("\x3e").block(b.getBlock("main"),b,{block:f},null).write("\x3c/div\x3e")},e=function(a,b){b.shiftBlocks(u);return a},f=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-container"\x3e').block(b.getBlock("headerContainer"),b,{block:g},null).block(b.getBlock("contentContainer"),
b,{block:j},null).block(b.getBlock("footerContainer"),b,{block:Q},null).write("\x3c/div\x3e")},g=function(a,c){c=c.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-header"\x3e').block(c.getBlock("header"),c,{block:b},null).write("\x3c/div\x3e")},b=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("blogTitle"),b,{block:d},null).block(b.getBlock("blogDescription"),b,{block:m},null).block(b.getBlock("blogMedia"),b,{block:l},null)},d=function(a,b){b.shiftBlocks(u);return a},m=function(a,
b){b.shiftBlocks(u);return a},l=function(a,b){b.shiftBlocks(u);return a},j=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-content"\x3e').block(b.getBlock("userComment"),b,{block:w},null).block(b.getBlock("content"),b,{block:E},null)},w=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("userCommentBox"),b,{block:p},null).block(b.getBlock("userCommentBoxMessage"),b,{block:x},null).block(b.getBlock("userCommentBackdrop"),b,{block:y},null)},p=function(a,b){b.shiftBlocks(u);
return a},x=function(a,b){b.shiftBlocks(u);return a},y=function(a,b){b.shiftBlocks(u);return a},E=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("contentTopContainer"),b,{block:A},null).block(b.getBlock("contentMiddleContainer"),b,{block:G},null).block(b.getBlock("contentBottomContainer"),b,{block:M},null)},A=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-content-top"\x3e').block(b.getBlock("contentTop"),b,{block:B},null).write("\x3c/div\x3e")},B=function(a,
b){b=b.shiftBlocks(u);return a.block(b.getBlock("status"),b,{block:z},null).block(b.getBlock("statusNewPost"),b,{block:F},null).block(b.getBlock("actionUserComment"),b,{block:I},null).block(b.getBlock("actionTotop"),b,{block:C},null)},z=function(a,b){b.shiftBlocks(u);return a},F=function(a,b){b.shiftBlocks(u);return a},I=function(a,b){b.shiftBlocks(u);return a},C=function(a,b){b.shiftBlocks(u);return a},G=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-content-middle" id\x3d"wrapper"\x3e ').block(b.getBlock("contentMiddle"),
b,{block:D},null).write("\x3c/div\x3e")},D=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("postsList"),b,{block:J},null)},J=function(a,b){b.shiftBlocks(u);return a},M=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-content-bottom"\x3e').block(b.getBlock("contentBottom"),b,{block:N},null).write("\x3c/div\x3e")},N=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("actionUserComment"),b,{block:R},null).block(b.getBlock("actionTotop"),b,{block:S},null)},
R=function(a,b){b.shiftBlocks(u);return a},S=function(a,b){b.shiftBlocks(u);return a},Q=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-footer"\x3e').block(b.getBlock("footer"),b,{block:P},null).write("\x3c/div\x3e")},P=function(a,b){b.shiftBlocks(u);return a},K=function(a,b){b.shiftBlocks(u);return a.write(' style\x3d"display:none" ')},H=function(a,b){b.shiftBlocks(u);return a.write(' style\x3d"display:block" ')},L=function(a,b){b.shiftBlocks(u);return a.write(' style\x3d"display:none" ')},
O=function(a,b){b.shiftBlocks(u);return a.write(' style\x3d"display:block" ')},$=function(a,b){b=b.shiftBlocks(u);return a.partial(U,b)},U=function(a,b){b=b.shiftBlocks(u);return a.reference(b.getPath(!0,[]),b,"h")};a.register("themeBase/container",function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("mainContainer"),b,{block:c},null)});var u={blogTitle:function(a,b){b.shiftBlocks(u);return a.write('\x3ch3 data-gimme\x3d"blog.title"\x3e\x3c/h3\x3e')},blogMedia:function(a,b){b=b.shiftBlocks(u);
return a.write('\x3cdiv class\x3d"header-ad" data-gimme\x3d"blog.media-toggle" ').section(b.getPath(!1,["EmbedConfig","MediaToggle"]),b,{"else":K,block:H},null).write('\x3e\x3ca data-gimme\x3d"blog.media-url" href\x3d"').reference(b.getPath(!1,["EmbedConfig","MediaUrl"]),b,"h").write('" target\x3d"_blank"\x3e\x3cimg data-gimme\x3d"blog.media-image" src\x3d"').reference(b.getPath(!1,["EmbedConfig","MediaImage"]),b,"h").write('"\x3e\x3c/a\x3e\x3c/div\x3e')},blogDescription:function(a,b){b.shiftBlocks(u);
return a.write('\x3cp data-gimme\x3d"blog.description"\x3e\x3c/p\x3e')},status:function(a,b){b.shiftBlocks(u);return a.write('\x3cp data-gimme\x3d"blog.status" class\x3d"update-time"\x3e\x3c/p\x3e')},statusNewPost:function(a,b){b.shiftBlocks(u);return a.write('\x3ca data-gimme\x3d"posts.pending-message" class\x3d"new-posts-label"\x3e\x3c/a\x3e')},actionTotop:function(a,b){b=b.shiftBlocks(u);return a.write('\x3ca data-gimme\x3d"posts.to-top" class\x3d"pintotop button"\x3e').helper("i18n",b,{},{msgid:"to top"}).write("\x3c/a\x3e")},
actionUserComment:function(a,b){b=b.shiftBlocks(u);return a.write('\x3ca data-gimme\x3d"blog.comment" href\x3d"#" class\x3d"comment button" ').section(b.getPath(!1,["EmbedConfig","UserComments"]),b,{"else":L,block:O},null).write("\x3e").helper("i18n",b,{},{msgid:"comment"}).write("\x3c/a\x3e")},userCommentBox:function(a,b){b.shiftBlocks(u);return a.write('\x3cdiv data-gimme\x3d"blog.comment-box"\x3e\x3c/div\x3e')},userCommentBoxMessage:function(a,b){b.shiftBlocks(u);return a.write('\x3cdiv data-gimme\x3d"blog.comment-box-message"\x3e\x3c/div\x3e')},
userCommentBackdrop:function(a,b){b.shiftBlocks(u);return a.write('\x3cdiv data-gimme\x3d"blog.comment-box-backdrop"\x3e\x3c/div\x3e')},postsList:function(a,b){b=b.shiftBlocks(u);return a.write('\x3cul data-gimme\x3d"posts.list" class\x3d"liveblog-postlist"\x3e').section(b.getPath(!1,["Plugins","posts","list"]),b,{block:$},null).write("\x3c/ul\x3e")}};return{render:function(b,c){return a.render("themeBase/container",b,c)}}});
define("views/blog","jquery gizmo/view-events views/posts dispatcher jquery-path/tmpl models/blog tmpl!themeBase/container".split(" "),function(a,c,e){return function(){var f=e(),g=c.View.extend({events:{},_config:{timeInterval:1E4,idInterval:0,xfilter:"Description, Title, EmbedConfig, Language.Code"},init:function(){var a=this;a.model||(blog.url.decorate("%s/"+liveblog.id),blog.xfilter(a._config.xfilter));a.model.on("update",function(){a.ensureStatus();a.update()}).on("sync",function(){a.updateingStatus()}).on("synced",
function(){a.updateStatus()});a.auto();a.render()},auto:function(a){var c=this;ret=c.stop();c._config.idInterval=setInterval(function(){c.start(a)},c._config.timeInterval);return ret},start:function(){this.model.xfilter(this._config.xfilter).sync({force:!0});return this},stop:function(){clearInterval(this._config.idInterval);return this},ensureStatus:function(){var b;this.model.get("ClosedOn")&&(b=new Date(this.model.get("ClosedOn")),this.stop(),this.model.get("PostPublished").stop(),a('[data-gimme\x3d"blog.status"]',
this.el).html(_("The liveblog coverage was stopped ")+b.format(_("closed-date"))))},updateingStatus:function(){a('[data-gimme\x3d"blog.status"]',this.el).html(_("updating...")+"")},updateStatus:function(){var b=new Date;void 0===this.model.get("ClosedOn")&&(b='\x3ctime data-date\x3d"'+b.getTime()+'"\x3e'+b.format(_("status-date"))+"\x3c/time\x3e",a('[data-gimme\x3d"blog.status"]',this.el).html(_("updated at %s").format([b])))},hideNewPosts:function(){a('[data-gimme\x3d"posts.pending-message"]',self.el).html("").hide()},
showNewPosts:function(b){a('[data-gimme\x3d"posts.pending-message"]',this.el).html(ngettext("one new post","%(count)s new posts",b).format({count:b})).show()},render:function(){var b=this;b.el.tmpl("themeBase/container",b.model.feed(),function(){a.dispatcher.triggerHandler("rendered-before.blog-view",b);b.update();b.postsView=new f({el:a('[data-gimme\x3d"posts.list"]',b.el),collection:b.model.get("PostPublished"),_parent:b});b.ensureStatus();b.updateStatus();a.dispatcher.triggerHandler("rendered-after.blog-view",
b)})},update:function(){var b={};embCnfg=this.model.get("EmbedConfig");try{b=JSON.parse(embCnfg)}catch(c){}"undefined"!=typeof b.MediaToggle&&(b.MediaToggle?a('[data-gimme\x3d"blog.media-toggle"]',this.el).css("display","block"):a('[data-gimme\x3d"blog.media-toggle"]',this.el).css("display","none"));b.MediaUrl&&a('[data-gimme\x3d"blog.media-url"]',this.el).attr("href",b.MediaUrl);b.MediaImage&&a('[data-gimme\x3d"blog.media-image"]',this.el).attr("src",b.MediaImage);a('[data-gimme\x3d"blog.title"]',
this.el).html(this.model.get("Title"));a('[data-gimme\x3d"blog.description"]',this.el).html(this.model.get("Description"));a.isEmptyObject(b)||a.dispatcher.triggerHandler("config-updated.blog-view",{view:this,config:b})}});a.dispatcher.triggerHandler("class.blog-view",g);return g}});
define("utils/find-enviroment",[],function(){return function(){var a="desktop",c=!1,e=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,
4)))c=!0;c&&(a="mobile");Boolean(navigator.userAgent.match(/(Large Screen)|GoogleTV/i))&&(a="big-screen");return a}});define("plugins",[],function(){return{}});
define("jquery-path/xdomainrequest",["jquery"],function(a){a.support.cors=!0;var c=0,e=0;this.XDomainRequest&&a.ajaxTransport("+*",function(f){if(f.crossDomain&&f.async){f.timeout&&(f.xdrTimeout=f.timeout,delete f.timeout);var g,b;return{send:function(d,m){function l(b,c,d,e){g.onload=g.onerror=g.ontimeout=a.noop;g=void 0;m(b,c,d,e)}g=new XDomainRequest;if(f.dataType){var j="";for(i in f.headers)j+=i+"\x3d"+encodeURIComponent(f.headers[i])+"\x26";j=j.replace(/(\s+)?.$/,"");f.url=f.url+(-1===f.url.indexOf("?")?
"?":"\x26")+j}g.open(f.type,f.url);b=f.processTime?f.processTime:80*c++;g.onload=function(){setTimeout(function(){l(200,"OK",{text:g.responseText},"Content-Type: "+g.contentType);c=0},e)};e=b;g.onerror=function(){l(404,"Not Found")};f.xdrTimeout&&(g.ontimeout=function(){l(0,"timeout")},g.timeout=f.xdrTimeout);f.preprocessTime?setTimeout(function(){g.send(f.hasContent&&f.data||null)},f.preprocessTime):g.send(f.hasContent&&f.data||null)},abort:function(){g&&(g.onerror=a.noop(),g.abort())}}}})});
define("i18n",["jquery","jquery-path/i18n","jquery-path/utils","jquery-path/xdomainrequest"],function(a){var c={},e=liveblog.frontendServer,f=liveblog.language;return{load:function(g,b,d,m){a.support.cors=!0;var l=e+"/content/cache/locale/plugin-"+g+"-"+f+".json";g=e+"/resources/Admin/Plugin/"+g+"/JSONLocale/"+f;var l=b.toUrl(l),j=b.toUrl(g);options={dataType:"json",preprocessTime:250,processTime:400,tryCount:0,retryLimit:2,statusCode:{500:function(){console.log("Oops! There seems to be a server problem, please try again later.")},
302:function(){console.log("Redirect")}},success:function(b){m.isBuild?c[g]=b:a.i18n.load(b);d(b)},errorTimeout:function(b,c){if("timeout"==c){this.tryCount++;if(this.tryCount<=this.retryLimit)return a.ajax(this),!0;console.log("We have tried "+this.retryLimit+" times and it is still not working. We give in. Sorry.");return!1}},error:function(b,c,d){this.errorTimeout(b,c,d)||(options.url=j,options.error=this.errorTimeout,a.ajax(options))}};options.url=l;a.ajax(options)},write:function(a,b,d){b in
c&&d('define("'+a+"!"+b+'", function(){ return '+c[b]+";});\n")}}});
define("require/normalize",["require","module"],function(a){function c(a,b,c,j){if(0===a.indexOf("data:"))return a;a=a.replace(f,"$1/");if(a.match(/^\//)||a.match(g))return a;var w=c.match(g),p=b.match(g);if(p&&(!w||w[1]!=p[1]||w[2]!=p[2]))return e(a,b);if(j)return j+a;a=e(a,b);c=c.split("/");c.pop();c=c.join("/")+"/";for(i=0;c.substr(i,1)==a.substr(i,1);)i++;for(;"/"!=c.substr(i,1);)i--;c=c.substr(i+1);a=a.substr(i+1);c=c.split("/");a=a.split("/");for(out="";c.shift();)out+="../";for(;curPart=a.shift();)out+=
curPart+"/";return out.substr(0,out.length-1)}function e(a,b){"./"==a.substr(0,2)&&(a=a.substr(2));var c=b.split("/"),e=a.split("/");for(c.pop();curPart=e.shift();)".."==curPart?c.pop():c.push(curPart);return c.join("/")}var f=/([^:])\/+/g,g=/[^\:\/]*:\/\/([^\/])*/,b=function(b,e,g,j,w){e=e.replace(f,"$1/");g=g.replace(f,"$1/");for(var p=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/ig,x,y;x=p.exec(b);){y=x[3]||x[2]||x[5]||x[6]||x[4];var E;E=w?j&&"/"==y.substr(0,
1)?j+y:c(y,e,g,w):a.toUrl(y);x=x[5]||x[6]?1:0;b=b.substr(0,p.lastIndex-y.length-x-1)+E+b.substr(p.lastIndex-x-1);p.lastIndex+=E.length-y.length}return b};b.convertURIBase=c;return b});
define("css",["require/normalize"],function(a){function c(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}if("undefined"==typeof window)return{load:function(a,b,c){c()}};var e=document.getElementsByTagName("head")[0],f=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/),g=!1;f&&(f[1]||f[7]?(g=6>parseInt(f[1])||9>=parseInt(f[7]),f="trident"):f[2]?(g=!0,f="webkit"):!f[3]&&f[4]&&(g=18>parseInt(f[4]),
f="gecko"));var b={},d=/^\/|([^\:\/]*:)/;b.pluginBuilder="core/require/css-builder";var m=[],l={},j=[];b.addBuffer=function(a){-1==c(m,a)&&-1==c(j,a)&&(m.push(a),j.push(a))};b.setBuffer=function(c,e){var f=window.location.pathname.split("/");f.pop();var f=f.join("/")+"/",g=require.toUrl("base_url").split("/");g.pop();g=g.join("/")+"/";g=a.convertURIBase(g,f,"/");g.match(d)||(g="/"+g);"/"!=g.substr(g.length-1,1)&&(g+="/");b.inject(a(c,g,f));for(f=0;f<m.length;f++)if(e&&".less"==m[f].substr(m[f].length-
5,5)||!e&&".css"==m[f].substr(m[f].length-4,4))(function(a){l[a]=l[a]||!0;setTimeout(function(){if("function"==typeof l[a])l[a]();delete l[a]},7)})(m[f]),m.splice(f--,1)};b.attachBuffer=function(a,b){for(var d=0;d<m.length;d++)if(m[d]==a)return l[a]=b,!0;if(!0===l[a])return l[a]=b,!0;if(-1!=c(j,a))return b(),!0};var w=function(a,b){setTimeout(function(){for(var c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].href==a.href)return b();w(a,b)},10)},p=function(a,b){setTimeout(function(){try{return a.sheet.cssRules,
b()}catch(c){}p(a,b)},10)};if("trident"==f&&g)var x=[],y=[],E=0,A=function(a){var b=y.shift();if(b){a.onload=function(){b.cb(b.ss);A(a)};var c=a.styleSheet;b.ss=c.imports[c.addImport(b.url)]}else a.onload=z,x.push(a)};var B=function(a){var b=document.createElement("link");b.type="text/css";b.rel="stylesheet";b.href=a;return b},z=function(){};b.linkLoad=function(a,b){var c=setTimeout(function(){b()},1E3*N-100),d=function(){clearTimeout(c);l&&(l.onload=z);setTimeout(b,7)};if(g)if("webkit"==f)l=B(a),
w(l,d),e.appendChild(l);else if("gecko"==f){var j=document.createElement("style");j.textContent='@import "'+a+'"';p(j,d);e.appendChild(j)}else"trident"==f&&(y.push({url:a,cb:d}),d=x.shift(),!d&&12>E++&&(d=document.createElement("style"),e.appendChild(d)),A(d));else{var l=B(a);l.onload=d;e.appendChild(l)}};var F=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],I={},C=0,G;b.inject=function(a){31>C&&(G=document.createElement("style"),G.type="text/css",e.appendChild(G),C++);G.styleSheet?G.styleSheet.cssText+=
a:G.appendChild(document.createTextNode(a))};var D=/@import\s*(url)?\s*(('([^']*)'|"([^"]*)")|\(('([^']*)'|"([^"]*)"|([^\)]*))\))\s*;?/g,J=window.location.pathname.split("/");J.pop();var J=J.join("/")+"/",M=function(b,c,e){b.match(d)||(b="/"+a.convertURIBase(b,J,"/"));var f=b,g=function(d){d=a(d,b,J);for(var f=[],g=[],j=[],l;l=D.exec(d);)f.push(l[4]||l[5]||l[7]||l[8]||l[9]),g.push(D.lastIndex-l[0].length),j.push(l[0].length);var m=0;for(l=0;l<f.length;l++)(function(a){M(f[a],function(b){d=d.substr(0,
g[a])+b+d.substr(g[a]+j[a]);b=b.length-j[a];for(var e=a+1;e<f.length;e++)g[e]+=b;m++;m==f.length&&c(d)},e)})(l);0==f.length&&c(d)};if(I[f])g(I[f]);else{var j,l,m;if("undefined"!==typeof XMLHttpRequest)j=new XMLHttpRequest;else if("undefined"!==typeof ActiveXObject)for(l=0;3>l;l+=1){m=F[l];try{j=new ActiveXObject(m)}catch(p){}if(j){F=[m];break}}j.open("GET",f,requirejs.inlineRequire?!1:!0);j.onreadystatechange=function(){var a;4===j.readyState&&(a=j.status,399<a&&600>a?(a=Error(f+" HTTP status: "+
a),a.xhr=j,e(a)):(I[f]=j.responseText,g(j.responseText)))};j.send(null)}};b.normalize=function(a,b){".css"==a.substr(a.length-4,4)&&(a=a.substr(0,a.length-4));return b(a)};var N;b.load=function(a,c,d,e,f){N=N||e.waitSeconds||7;a+=!f?".css":".less";b.attachBuffer(a,d)||(fileUrl=c.toUrl(a),f?M(fileUrl,function(a){f&&(a=f(a,function(a){b.inject(a);setTimeout(d,7)}))}):b.linkLoad(fileUrl,d))};return b});
define("core","jquery utils/date-format views/blog utils/find-enviroment plugins jquery-path/xdomainrequest i18n css".split(" "),function(a,c,e,f,g){c.masks["post-date"]=_("mm/dd/yyyy HH:MM");c.masks["status-date"]=_("HH:MM");c.masks["closed-date"]=_("mm/dd/yyyy HH:MM");c.i18n={dayNames:_("Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday").toString().split(","),monthNames:_("Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,January,February,March,April,May,June,July,August,September,October,November,December").toString().split(",")};
return function(b){a.each(g,function(a,c){c(b.get("EmbedConfig"))});new (e())({el:liveblog.el,model:b})}});
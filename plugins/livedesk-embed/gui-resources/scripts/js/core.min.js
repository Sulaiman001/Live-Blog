define("gettext",[],function(){Gettext=function(a){this.domain="messages";this.locale_data=void 0;var c=["domain","locale_data"];if(this.isValidObject(a))for(var d in a)for(var j=0;j<c.length;j++)d==c[j]&&this.isValidObject(a[d])&&(this[d]=a[d]);this.try_load_lang();return this};Gettext.context_glue="\u0004";Gettext._locale_data={};Gettext.prototype.try_load_lang=function(){if("undefined"!=typeof this.locale_data){var a=this.locale_data;this.locale_data=void 0;this.parse_locale_data(a);if("undefined"==
typeof Gettext._locale_data[this.domain])throw Error("Error: Gettext 'locale_data' does not contain the domain '"+this.domain+"'");}a=this.get_lang_refs();if("object"==typeof a&&0<a.length)for(var c=0;c<a.length;c++){var d=a[c];if("application/json"==d.type){if(!this.try_load_lang_json(d.href))throw Error("Error: Gettext 'try_load_lang_json' failed. Unable to exec xmlhttprequest for link ["+d.href+"]");}else if("application/x-po"==d.type){if(!this.try_load_lang_po(d.href))throw Error("Error: Gettext 'try_load_lang_po' failed. Unable to exec xmlhttprequest for link ["+
d.href+"]");}else throw Error("TODO: link type ["+d.type+"] found, and support is planned, but not implemented at this time.");}};Gettext.prototype.parse_locale_data=function(a){"undefined"==typeof Gettext._locale_data&&(Gettext._locale_data={});for(var c in a)if(a.hasOwnProperty(c)&&this.isValidObject(a[c])){var d=!1,j;for(j in a[c]){d=!0;break}if(d){d=a[c];""==c&&(c="messages");this.isValidObject(Gettext._locale_data[c])||(Gettext._locale_data[c]={});this.isValidObject(Gettext._locale_data[c].head)||
(Gettext._locale_data[c].head={});this.isValidObject(Gettext._locale_data[c].msgs)||(Gettext._locale_data[c].msgs={});for(var g in d)if(""==g){var b=d[g],e;for(e in b){var m=e.toLowerCase();Gettext._locale_data[c].head[m]=b[e]}}else Gettext._locale_data[c].msgs[g]=d[g]}}for(c in Gettext._locale_data)if(this.isValidObject(Gettext._locale_data[c].head["plural-forms"])&&"undefined"==typeof Gettext._locale_data[c].head.plural_func)if(a=Gettext._locale_data[c].head["plural-forms"],/^(\s*nplurals\s*=\s*[0-9]+\s*;\s*plural\s*=\s*(?:\s|[-\?\|&=!<>+*/%:;a-zA-Z0-9_()])+)/m.test(a))a=
Gettext._locale_data[c].head["plural-forms"],/;\s*$/.test(a)||(a=a.concat(";")),Gettext._locale_data[c].head.plural_func=new Function("n","var plural; var nplurals; "+a+' return { "nplural" : nplurals, "plural" : (plural \x3d\x3d\x3d true ? 1 : plural ? plural : 0) };');else throw Error("Syntax error in language file. Plural-Forms header is invalid ["+a+"]");else"undefined"==typeof Gettext._locale_data[c].head.plural_func&&(Gettext._locale_data[c].head.plural_func=function(a){return{nplural:2,plural:1!=
a?1:0}})};Gettext.prototype.try_load_lang_po=function(a){var c=this.sjax(a);if(c){a=this.uri_basename(a);var c=this.parse_po(c),d={};c&&(c[""]||(c[""]={}),c[""].domain||(c[""].domain=a),a=c[""].domain,d[a]=c,this.parse_locale_data(d));return 1}};Gettext.prototype.uri_basename=function(a){if(a=a.match(/^(.*\/)?(.*)/)){var c;return(c=a[2].match(/^(.*)\..+$/))?c[1]:a[2]}return""};Gettext.prototype.parse_po=function(a){var c={},d={},j="",g=[],b=a.split("\n");for(a=0;a<b.length;a++){b[a]=b[a].replace(/(\n|\r)+$/,
"");var e;if(/^$/.test(b[a])){if("undefined"!=typeof d.msgid){var j="undefined"!=typeof d.msgctxt&&d.msgctxt.length?d.msgctxt+Gettext.context_glue+d.msgid:d.msgid,m="undefined"!=typeof d.msgid_plural&&d.msgid_plural.length?d.msgid_plural:null,f=[],l;for(l in d)if(e=l.match(/^msgstr_(\d+)/))f[parseInt(e[1])]=d[l];f.unshift(m);1<f.length&&(c[j]=f);d={};j=""}}else/^#/.test(b[a])||((e=b[a].match(/^msgctxt\s+(.*)/))?(j="msgctxt",d[j]=this.parse_po_dequote(e[1])):(e=b[a].match(/^msgid\s+(.*)/))?(j="msgid",
d[j]=this.parse_po_dequote(e[1])):(e=b[a].match(/^msgid_plural\s+(.*)/))?(j="msgid_plural",d[j]=this.parse_po_dequote(e[1])):(e=b[a].match(/^msgstr\s+(.*)/))?(j="msgstr_0",d[j]=this.parse_po_dequote(e[1])):(e=b[a].match(/^msgstr\[0\]\s+(.*)/))?(j="msgstr_0",d[j]=this.parse_po_dequote(e[1])):(e=b[a].match(/^msgstr\[(\d+)\]\s+(.*)/))?(j="msgstr_"+e[1],d[j]=this.parse_po_dequote(e[2])):/^"/.test(b[a])?d[j]+=this.parse_po_dequote(b[a]):g.push("Strange line ["+a+"] : "+b[a]))}if("undefined"!=typeof d.msgid){j=
"undefined"!=typeof d.msgctxt&&d.msgctxt.length?d.msgctxt+Gettext.context_glue+d.msgid:d.msgid;m="undefined"!=typeof d.msgid_plural&&d.msgid_plural.length?d.msgid_plural:null;f=[];for(l in d)if(e=l.match(/^msgstr_(\d+)/))f[parseInt(e[1])]=d[l];f.unshift(m);1<f.length&&(c[j]=f)}if(c[""]&&c[""][1]){d={};l=c[""][1].split(/\\n/);for(a=0;a<l.length;a++)l.length&&(e=l[a].indexOf(":",0),-1!=e?(b=l[a].substring(0,e),e=l[a].substring(e+1),b=b.toLowerCase(),d[b]&&d[b].length?g.push("SKIPPING DUPLICATE HEADER LINE: "+
l[a]):/#-#-#-#-#/.test(b)?g.push("SKIPPING ERROR MARKER IN HEADER: "+l[a]):(e=e.replace(/^\s+/,""),d[b]=e)):(g.push("PROBLEM LINE IN HEADER: "+l[a]),d[l[a]]=""));c[""]=d}else c[""]={};return c};Gettext.prototype.parse_po_dequote=function(a){var c;if(c=a.match(/^"(.*)"/))a=c[1];return a=a.replace(/\\"/g,'"')};Gettext.prototype.try_load_lang_json=function(a){if(a=this.sjax(a))return a=this.JSON(a),this.parse_locale_data(a),1};Gettext.prototype.get_lang_refs=function(){for(var a=[],c=document.getElementsByTagName("link"),
d=0;d<c.length;d++)if("gettext"==c[d].rel&&c[d].href){if("undefined"==typeof c[d].type||""==c[d].type)if(/\.json$/i.test(c[d].href))c[d].type="application/json";else if(/\.js$/i.test(c[d].href))c[d].type="application/json";else if(/\.po$/i.test(c[d].href))c[d].type="application/x-po";else if(/\.mo$/i.test(c[d].href))c[d].type="application/x-mo";else throw Error("LINK tag with rel\x3dgettext found, but the type and extension are unrecognized.");c[d].type=c[d].type.toLowerCase();if("application/json"==
c[d].type)c[d].type="application/json";else if("text/javascript"==c[d].type)c[d].type="application/json";else if("application/x-po"==c[d].type)c[d].type="application/x-po";else if("application/x-mo"==c[d].type)c[d].type="application/x-mo";else throw Error("LINK tag with rel\x3dgettext found, but the type attribute ["+c[d].type+"] is unrecognized.");a.push(c[d])}return a};Gettext.prototype.textdomain=function(a){a&&a.length&&(this.domain=a);return this.domain};Gettext.prototype.gettext=function(a){return this.dcnpgettext(null,
void 0,a,void 0,void 0,void 0)};Gettext.prototype.dgettext=function(a,c){return this.dcnpgettext(a,void 0,c,void 0,void 0,void 0)};Gettext.prototype.dcgettext=function(a,c,d){return this.dcnpgettext(a,void 0,c,void 0,void 0,d)};Gettext.prototype.ngettext=function(a,c,d){return this.dcnpgettext(null,void 0,a,c,d,void 0)};Gettext.prototype.dngettext=function(a,c,d,j){return this.dcnpgettext(a,void 0,c,d,j,void 0)};Gettext.prototype.dcngettext=function(a,c,d,j,g){return this.dcnpgettext(a,void 0,c,d,
j,g,g)};Gettext.prototype.pgettext=function(a,c){return this.dcnpgettext(null,a,c,void 0,void 0,void 0)};Gettext.prototype.dpgettext=function(a,c,d){return this.dcnpgettext(a,c,d,void 0,void 0,void 0)};Gettext.prototype.dcpgettext=function(a,c,d,j){return this.dcnpgettext(a,c,d,void 0,void 0,j)};Gettext.prototype.npgettext=function(a,c,d,j){return this.dcnpgettext(null,a,c,d,j,void 0)};Gettext.prototype.dnpgettext=function(a,c,d,j,g){return this.dcnpgettext(a,c,d,j,g,void 0)};Gettext.prototype.dcnpgettext=
function(a,c,d,j,g){if(!this.isValidObject(d))return"";var b=this.isValidObject(j);c=this.isValidObject(c)?c+Gettext.context_glue+d:d;var e=this.isValidObject(a)?a:this.isValidObject(this.domain)?this.domain:"messages";a=[];if("undefined"!=typeof Gettext._locale_data&&this.isValidObject(Gettext._locale_data[e]))a.push(Gettext._locale_data[e]);else if("undefined"!=typeof Gettext._locale_data)for(var m in Gettext._locale_data)a.push(Gettext._locale_data[m]);m=[];var e=!1,f;if(a.length)for(var l=0;l<
a.length;l++){var w=a[l];if(this.isValidObject(w.msgs[c])){for(f=0;f<w.msgs[c].length;f++)m[f]=w.msgs[c][f];m.shift();f=w;e=!0;if(0<m.length&&0!=m[0].length)break}}if(0==m.length||0==m[0].length)m=[d,j];d=m[0];b&&(e&&this.isValidObject(f.head.plural_func)?(g=f.head.plural_func(g),g.plural||(g.plural=0),g.nplural||(g.nplural=0),g.nplural<=g.plural&&(g.plural=0),g=g.plural):g=1!=g?1:0,this.isValidObject(m[g])&&(d=m[g]));return d};Gettext.strargs=function(a,c){null==c||"undefined"==typeof c?c=[]:c.constructor!=
Array&&(c=[c]);for(var d="";;){var j=a.indexOf("%"),g;if(-1==j){d+=a;break}d+=a.substr(0,j);if("%%"==a.substr(j,2))d+="%",a=a.substr(j+2);else if(g=a.substr(j).match(/^%(\d+)/)){var b=parseInt(g[1]);g=g[1].length;0<b&&(null!=c[b-1]&&"undefined"!=typeof c[b-1])&&(d+=c[b-1]);a=a.substr(j+1+g)}else d+="%",a=a.substr(j+1)}return d};Gettext.prototype.strargs=function(a,c){return Gettext.strargs(a,c)};Gettext.prototype.isArray=function(a){return this.isValidObject(a)&&a.constructor==Array};Gettext.prototype.isValidObject=
function(a){return null==a?!1:"undefined"==typeof a?!1:!0};Gettext.prototype.JSON=function(a){return eval("("+a+")")};return Gettext});define("utils/utf8-pass",[],function(){return{encode:function(a){return a},decode:function(a){return a}}});
define("utils/str",["utils/utf8-pass"],function(a){str=function(a){this.init(a)};str.prototype={init:function(a){this.str=a},format:function(){var c=arguments,d=0;1==c.length&&"object"==typeof c[0]&&(c=c[0]);return a.decode(this.str.replace(/%?%(?:\(([^\)]+)\))?([disr])/g,function(a,g,b){if(a[0]&&a[0]==a[1])return a.substring(1);g=c[g||d++];return"undefined"===typeof g?a:"i"==b||"d"==b?+g:g}))},toString:function(){return a.decode(this.str)}};return str});
define("jquery-path/utils",["jquery"],function(a){a.trimTag=function(a,d){function j(a,c){for(var j=c,f=0;;){f++;var j=a,l=c;"string"!=typeof l&&(l="");var d=l.length,g=j.length;0===l.indexOf(j)&&(l=l.substr(g,d));d=l.length;l.substr(d-g,d)==j&&(l=l.substr(0,d-g));j=l;if(j==c)break;c=j;if(100<f)break}return j}if("string"===typeof a)d=j(a,d);else for(var g=0;g<a.length;g++)d=j(a[g],d);return d};a.isString=function(a){return a&&"string"===typeof a};a.isObject=function(a){return a&&"object"===typeof a};
a.isDefined=function(a){return a&&"undefined"!==typeof a};a.combineObj=function(c,d){var j={};if(a.isArray(d))for(i=0;i<c.length;i++)j[c[i]]=d[i];if(a.isFunction(d))for(i=0;i<c.length;i++)j[c[i]]=d;return j};a.arrayValues=function(a){var d=[];for(i in a)d.push(a[i]);return d};a.mergeObj=function(c,d){if(2<arguments.length)for(i=2;i<arguments.length;i++)if(map=arguments[i],a.isString(map)&&(map=map.split(",")),a.isArray(map))for(k=0;k<map.length;k++)c[map[k]]=d[map[k]];else{if(a.isObject(map))for(k in map)c[k]=
a.isFunction(map[k])?map[k](d,k):d[map[k]]}else for(i in c)c[i]=d[i]};a.styledNodeHtml=function(c){c=a(c);if(c.attr("style")&&""!==c.attr("style")){var d=a("\x3cspan/\x3e");a('\x3cspan style\x3d"'+c.attr("style")+'" /\x3e').append(c.html()).appendTo(d);return d.html()}return c.html()};a.socialShareWindow=function(a,d,j){window.open(a,"","resizable, height\x3d"+d+", width\x3d"+j).focus();return!1};a.extend(a.browser,{language:window.navigator.userLanguage||window.navigator.language})});
define("jquery-path/i18n",["gettext","utils/str","jquery","jquery-path/utils"],function(a,c,d){i18n=function(){this.init()};i18n.prototype={gt:{},dataUrl:{},mapper:"gettext ngettext pgettext dgettext npgettext dngettext dpgettext dnpgettext dcnpgettext".split(" "),mapperGenerator:function(a,d){return function(){return new c(a[d].apply(a,arguments))}},init:function(){this.gt=new a;a.context_glue=":";aux=d.combineObj(this.mapper,this.mapperGenerator);d.mergeObj(this,this.gt,d.combineObj(this.mapper,
this.mapperGenerator))},load:function(a){this.gt.parse_locale_data(a);return this},install:function(){d.mergeObj(window,this,this.mapper,{_:"gettext",C_:"pgettext",N_:function(){return function(a){return new c(a)}},NC_:function(){return function(a,d){return new c(d)}}})}};I18n=new i18n;I18n.install();d.extend(d,{i18n:I18n})});
define("utils/date-format",["jquery","jquery-path/i18n"],function(){var a,c=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,d=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,j=/[^-+\dA-Z]/g,g=function(a,c){a=String(a);for(c=c||2;a.length<c;)a="0"+a;return a};a=function(b,e,m){1==arguments.length&&("[object String]"==Object.prototype.toString.call(b)&&!/\d/.test(b))&&(e=b,b=void 0);b=b?new Date(b):
new Date;if(isNaN(b))throw SyntaxError("invalid date");e=String(a.masks[e]||e||a.masks["default"]);"UTC:"==e.slice(0,4)&&(e=e.slice(4),m=!0);var f=m?"getUTC":"get",l=b[f+"Date"](),w=b[f+"Day"](),p=b[f+"Month"](),x=b[f+"FullYear"](),y=b[f+"Hours"](),E=b[f+"Minutes"](),A=b[f+"Seconds"](),f=b[f+"Milliseconds"](),B=m?0:b.getTimezoneOffset(),z={d:l,dd:g(l),ddd:a.i18n.dayNames[w],dddd:a.i18n.dayNames[w+7],m:p+1,mm:g(p+1),mmm:a.i18n.monthNames[p],mmmm:a.i18n.monthNames[p+12],yy:String(x).slice(2),yyyy:x,
h:y%12||12,hh:g(y%12||12),H:y,HH:g(y),M:E,MM:g(E),s:A,ss:g(A),l:g(f,3),L:g(99<f?Math.round(f/10):f),t:12>y?"a":"p",tt:12>y?"am":"pm",T:12>y?"A":"P",TT:12>y?"AM":"PM",Z:m?"UTC":(String(b).match(d)||[""]).pop().replace(j,""),o:(0<B?"-":"+")+g(100*Math.floor(Math.abs(B)/60)+Math.abs(B)%60,4),S:["th","st","nd","rd"][3<l%10?0:(10!=l%100-l%10)*l%10]};return e.replace(c,function(a){return a in z?z[a]:a.slice(1,a.length-1)})};a.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",
longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};a.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
Date.prototype.format=function(b,c){return a(this,b,c)};return a});define("utils/class",[],function(){var a=!1,c=function(){};c.extend=function(c,j){function g(){if(!a&&(this._constructor||this._construct))try{return(this._construct||this._constructor).apply(this,arguments)}catch(b){console.error(b)}}a=!0;var b=new this;a=!1;for(var e in c)b[e]=c[e];g.prototype=b;g.prototype.constructor=g;g.extend=arguments.callee;return g};return c});
define("utils/extend",[],function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var e=0;1<arguments.length&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&(Infinity!=e&&-Infinity!=e)&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=c)return-1;for(e=0<=e?e:Math.max(c-Math.abs(e),0);e<c;e++)if(e in b&&b[e]===a)return e;return-1});if(!Object.keys){var a=Object,c=Object.prototype.hasOwnProperty,d=!{toString:null}.propertyIsEnumerable("toString"),
j="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),g=j.length;a.keys=function(a){if("object"!==typeof a&&"function"!==typeof a||null===a)throw new TypeError("Object.keys called on non-object");var b=[],e;for(e in a)c.call(a,e)&&b.push(e);if(d)for(e=0;e<g;e++)c.call(a,j[e])&&b.push(j[e]);return b}}Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=0,e=this.length;c<e;++c)a.call(b||this,this[c],c,this)});Function.prototype.bind||
(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,e=function(){},f=function(){return c.apply(this instanceof e?this:a,b.concat(Array.prototype.slice.call(arguments)))};e.prototype=this.prototype;f.prototype=new e;return f});String.prototype.trim||(String.prototype.trim=function(){for(var a=this.replace(/^\s\s*/,""),b=/\s/,c=a.length;b.test(a.charAt(--c)););
return a.slice(0,c+1)});var b=Date,e=b.parse,m=[1,4,5,6,7,10,11];b.parse=function(a){var c,f=0;if(c=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(a)){a=0;for(var j;j=m[a];++a)c[j]=+c[j]||0;c[2]=(+c[2]||1)-1;c[3]=+c[3]||1;"Z"!==c[8]&&void 0!==c[9]&&(f=60*c[10]+c[11],"+"===c[9]&&(f=0-f));c=b.UTC(c[1],c[2],c[3],c[4],c[5]+f,c[6],c[7])}else c=e?e(a):NaN;return c};if(!Date.prototype.toISOString){var f=function(a){a=
String(a);1===a.length&&(a="0"+a);return a};Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}}String.prototype.trunc=function(a,c){var b=this.length>a,e=b?this.substr(0,a-1):this,e=c&&b?e.substr(0,e.lastIndexOf(" ")):e;return b?e+"...":e}});
define("gizmo",["jquery","utils/class","utils/extend"],function(a,c){function d(a,c){var b;if("undefined"==typeof a||"undefined"==typeof c)return!0;for(b in c)if("undefined"==typeof a[b])return!0;for(b in a)if("undefined"==typeof c[b])return!0;for(b in c)if(c[b])switch(typeof c[b]){case "object":if(d(c[b],a[b]))return!0;break;case "function":if("undefined"==typeof a[b]||c[b].toString()!=a[b].toString())return!0;break;default:if(c[b]!=a[b])return!0}else if(a[b])return!0;return!1}var j=function(){},
g=function(){},b=function(){this.items={}},e=function(){},m=c.extend({_construct:function(b){this.data=!this.data?{root:""}:{root:this.data.root};switch(a.type(b)){case "string":this.data.url=b;break;case "array":this.data.url=b[0];void 0!==b[1]&&(this.data.xfilter=url[0]);break;case "object":this.data.url=b.url,void 0!==b.xfilter&&(this.data.xfilter=b.xfilter)}return this},xfilter:function(){this.data.xfilter=1<arguments.length?a.makeArray(arguments).join(","):a.isArray(arguments[0])?arguments[0].join(","):
arguments[0];return this},root:function(a){this.data.root=a;return this},get:function(){return this.data.root+this.data.url},getUrl:function(){return this.data.root+this.data.url},set:function(a){this.data.url=a},order:function(a,b){this.data.order=b+"\x3d"+a;return this},filter:function(a,b){this.data.filter=a+"\x3d"+b;return this},decorate:function(a){this.data.url=a.replace(/(%s)/g,this.data.url)},options:function(){var a={};this.data.xfilter&&(a.headers={"X-Filter":this.data.xfilter});return a}}),
f={request:function(b){var c=this,e=function(e,f,j){a.support.cors=!0;b instanceof m?(f=a.extend(!0,{},f,c.options,j,{data:e},b.options()),e=a.ajax(c.href(b.get()),f)):(f=a.extend(!0,{},f,c.options,j,"object"==a.type(e)&&Object.keys(e).length?{data:e}:null),e=a.ajax(c.href(b),f));c.reset();f.fail&&e.fail(f.fail);f.done&&e.done(f.done);f.always&&e.always(f.always);return e};return{read:function(a){return e({},c.readOptions,a)},update:function(a,b){return e(a,c.updateOptions,b)},insert:function(a,b){return e(a,
c.insertOptions,b)},remove:function(a){return e({},c.removeOptions,a)}}},href:function(a){return a},reset:a.noop,options:{},readOptions:{dataType:"json",type:"get",headers:{Accept:"text/json"}},updateOptions:{type:"post",headers:{"X-HTTP-Method-Override":"PUT"}},insertOptions:{dataType:"json",type:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}},removeOptions:{type:"get",headers:{"X-HTTP-Method-Override":"DELETE"}}},l=0;g.prototype={_changed:!1,_new:!1,defaults:{},
data:{},_construct:function(b,c){this._clientId=l++;this.data={};this._parseHash(b);this._new=!0;var e=this.pushUnique?this.pushUnique():this;e._forDelete=!1;e.clearChangeset();e._clientHash=null;"object"==typeof b&&e._parse(b);e._setExpiration();e.isDeleted()?e._remove():a.isEmptyObject(e.changeset)?e.clearChangeset().triggerHandler("read"):e.triggerHandler("update",e.changeset).clearChangeset();c=a.extend({},{init:!0},this.options);c.init&&this.init.apply(this,arguments);return e},init:function(){},
syncAdapter:f,feed:function(a,b,c){var e={};b="boolean"==typeof a?a:b;a=c?c:this.data;for(var f in a)a[f]instanceof g?e[f]=b?a[f].feed(b):a[f].relationHash()||a[f].hash():"function"!==typeof a[f]&&(e[f]=a[f]);return e},setHref:function(a){this.href=a;return this},_setToUrl:function(){!this.href&&this.url&&this.setHref(this.url.get())},sync:function(b,c){var e=this,f=a.Deferred(),j=function(){return e.syncAdapter.request.apply(e.syncAdapter,arguments)};e._setToUrl();this.hash();e.triggerHandler("sync");
if(this._forDelete)return j(b||this.href).remove().done(function(){e._remove()});if(this._clientHash){var f=b||this.href,d=this.feed();if(this.insertExcludes)for(var l=0;l<this.insertExcludes.length;l++)delete d[this.insertExcludes[l]];return j(f).insert(d).done(function(a){e._changed=!1;e._parseHash(a);e._parse(a);e._uniq&&e._uniq.replace(e._clientHash,e.hash(),e);e._clientHash=null;e.triggerHandler("insert").Class.triggerHandler("insert",e);e.triggerHandler("synced")})}if(this._changed)if(a.isEmptyObject(this.changeset))f.resolve();
else{d=c?this.feed():this.feed("json",!1,this.changeset);if(this.insertExcludes)for(l=0;l<this.insertExcludes.length;l++)delete d[this.insertExcludes[l]];f=this.href&&j(this.href).update(d).done(function(){e.triggerHandler("update",e.changeset).clearChangeset();e.triggerHandler("synced")})}else(!b||!b.force)&&this.exTime&&this.exTime>new Date?e.isDeleted()||(e.triggerHandler("update"),e.triggerHandler("synced")):f=this.href&&j(this.href).read(b).done(function(b){e._parse(b);e.isDeleted()?e._remove():
a.isEmptyObject(e.changeset)?e.clearChangeset().triggerHandler("read"):e.triggerHandler("update",e.changeset).clearChangeset();e.triggerHandler("synced")});this._setExpiration();return f},_setExpiration:function(){this.exTime=new Date;this.exTime.setSeconds(this.exTime.getSeconds()+5)},_remove:function(){this.triggerHandler("delete");this._uniq&&this._uniq.remove(this.hash())},remove:function(){this._forDelete=!0;return this},isDeleted:function(){return this._forDelete},modelDataBuild:function(a){return a},
parse:function(a){return a},_parse:function(b){b=b instanceof g?b.data:this.parse(b);if(!b._parsed){for(var c in b){if(this.defaults[c])switch(!0){case "function"===typeof this.defaults[c]&&void 0===this.data[c]:var f=this.modelDataBuild(new this.defaults[c](b[c]));!this._new&&(f!=this.data[c]&&!(f instanceof e))&&(this.changeset[c]=f);this.data[c]=f;!b[c].href&&this.data[c].relationHash&&this.data[c].relationHash(b[c]);continue;case a.isArray(this.defaults[c]):this.data[c]=this.modelDataBuild(new e(this.defaults[c][0],
b[c].href));delete this.data[c];continue;case this.defaults[c]instanceof e:case this.defaults[c]instanceof g:this.data[c]=this.defaults[c];continue}else this._new||("object"===a.type(b[c])?d(this.data[c],b[c])&&(this.changeset[c]=b[c]):this.data[c]!=b[c]&&(this.changeset[c]=b[c]));"object"===a.type(b[c])&&"object"===a.type(this.data[c])?a.extend(!0,this.data[c],b[c]):this.data[c]=b[c]}if(this._new)for(c in this.defaults)"undefined"===a.type(this.data[c])&&(this.data[c]=this.defaults[c]);this._new=
this.href?!1:!0;b._parsed=!0}},_parseHash:function(a){"string"==typeof a?this.href=a:a&&void 0!==a.href?this.href=a.href:a&&(void 0!==a.id&&void 0!==this.url)&&(this.href=this.url+a.id);return this},isChanged:function(){return!a.isEmptyObject(this.changeset)},clearChangeset:function(){this._changed=!1;this.changeset={};return this},get:function(a){return this.data[a]},set:function(b,c,e){var f={};"string"===a.type(b)?f[b]=c:(f=b,e=c);e=a.extend({},{silent:!1},e);this.clearChangeset()._parse(f);this._changed=
!0;a.isEmptyObject(this.changeset)||e.silent||this.triggerHandler("set",this.changeset);return this},_getClientHash:function(){this._clientHash||(this._clientHash="mcid-"+String(this._clientId));return this._clientHash},hash:function(){!this.href&&this.data.href&&(this.href=this.data.href);return this.data.href||this.href||this._getClientHash()},relationHash:function(a){a&&(this.data.Id=a);return this.data.Id},off:function(b,c){a(this).off(b,c);return this},one:function(b,c,e){if(void 0===e)a(this).off(b,
c),a(this).one(b,c);else{var f=function(){c.apply(e,arguments)};a(this).off(b,f);a(this).one(b,f)}return this},on:function(b,c,e){if(void 0===e)a(this).off(b,c),a(this).on(b,c);else{var f=function(){c.apply(e,arguments)};a(this).off(b,f);a(this).on(b,f)}return this},trigger:function(b,c){a(this).trigger(b,c);return this},triggerHandler:function(b,c){a(this).triggerHandler(b,c);return this}};b.prototype={items:{},garbageTime:1500,refresh:function(a){a._exTime||(a._exTime=new Date);a._exTime.setTime(a._exTime.getTime()+
this.garbageTime)},set:function(b,c){var e=this;a(c).on("sync get get-prop set-prop",function(){e.refresh(this)});e.refresh(c);this.items[b]||(this.items[b]=c);return this.items[b]},replace:function(a,b,c){delete this.items[a];return this.set(b,c)},garbage:function(){for(var b in this.items)this.items[b]._exTime&&this.items[b]._exTime<new Date&&(a(this.items[b]).triggerHandler("garbage"),delete this.items[b])},remove:function(a){delete this.items[a]}};var w=g.options={},p,x;g.extend=p=function(b,
e){var f;f=c.extend.call(this,b);f.extend=p;f.prototype.Class=f;f.on=function(b,c,e){a(f).on(b,function(){c.apply(e,arguments)});return f};f.off=function(b,c){a(f).off(b,c);return f};f.triggerHandler=function(b,c){a(f).triggerHandler(b,c)};e&&e.register&&(j[e.register]=f,delete e.register);f.prototype.options=a.extend({},e);return f};var y=0;e.prototype={_list:[],_events:{},getList:function(){return this._list},count:function(){return this._list.length},_construct:function(){this._clientId=y++;this.model||
(this.model=g);this._list=[];this._events={};this.desynced=!0;for(var b=buildOptions=function(){void 0},c=0,e=arguments.length;c<e;c++)switch(a.type(arguments[c])){case "function":this.model=arguments[c];break;case "string":this.href=arguments[c];break;case "array":b=function(a){return function(){this._list=this._parse(a)}}(arguments[c]);break;case "object":buildOptions=function(a){return function(){this.options=a;a.href&&(this.href=a.href)}}(arguments[c])}buildOptions.call(this);b.call(this);w=a.extend({},
{init:!0},this.options);w.init&&this.init.apply(this,arguments)},init:function(){},reset:function(b){a.isArray(b)||(b=[b]);this._list=b=this._parse(b);return this},get:function(b){var c=a.Deferred(),e=this;searchKey=function(){for(var a=0;a<e._list.length;a++)if(b==e._list[a].hash()||b==e._list[a].relationHash())return c.resolve(e._list[a]);c.reject()};this.desynced&&this.sync().done(function(){c.resolve(searchKey())})?c:searchKey();return c},remove:function(a){for(var b in this._list)if(a==this._list[b].hash()||
a==this._list[b].relationHash()){Array.prototype.splice.call(this._list,b,1);break}return this},syncAdapter:f,setHref:function(a){this.href=a;return this},each:function(b){a.each(this._list,b)},forwardEach:function(a,b){this._list.forEach(a,b)},reverseEach:function(a,b){for(var c=this._list.length;0<c;++c)a.call(b||this,this[c],c,this)},feed:function(a,b){var c=[],e;for(e in this._list)c[e]=this._list[e].feed(a,b);return c},_setToUrl:function(){!this.href&&this.url&&this.setHref(this.url.get())},
sync:function(a){var b=this;b._setToUrl();return this.href&&this.syncAdapter.request.call(this.syncAdapter,this.href).read(a).done(function(a){var c=b.parseAttributes(a);b.parse(a);list=b._parse(a);changeset=[];removeings=[];updates=[];addings=[];count=b._list.length;for(a=0;a<list.length;a++){for(var e=!1,f=0;f<count;f++)if(list[a].hash()==b._list[f].hash()){e=list[a];break}if(e)if(b.hasEvent("updates")&&updates.push(e),b.isCollectionDeleted(e))b._list.splice(f,1),b.hasEvent("removeings")&&removeings.push(e);
else if(e.isDeleted())e._remove();else if(e.isChanged())changeset.push(e);else e.on("delete",function(){b.remove(this.hash())}).on("garbage",function(){this.desynced=!0});else list[a].isDeleted()?list[a].isDeleted()?b.hasEvent("updates")&&updates.push(list[a]):(b._list.push(list[a]),changeset.push(list[a]),b.hasEvent("addings")&&addings.push(list[a])):(b._list.push(list[a]),changeset.push(list[a]),b.hasEvent("addings")&&addings.push(list[a]),b.hasEvent("updates")&&updates.push(list[a]))}b.desynced=
!1;0===count?b.triggerHandler("read",[b._list,c]):(updates.length&&b.hasEvent("updates")&&b.triggerHandler("updates",[updates,c]),addings.length&&b.hasEvent("addings")&&b.triggerHandler("addings",[addings,c]),removeings.length&&b.hasEvent("removeings")&&b.triggerHandler("removeings",[removeings,c]),b.hasEvent("modified")&&b.triggerHandler("modified",[list,c]),b.triggerHandler("update",[changeset,c]))})},isCollectionDeleted:function(){return!1},modelDataBuild:function(a){return a},parseAttributes:function(a){return a},
parse:function(b){var c=b;if(!Array.isArray(b))for(i in b)if(a.isArray(b[i])){c=b[i];delete b[i];break}return c},_parse:function(a){a=this.parse(a);for(var b=[],c=0,e=a.length;c<e;c++)b.push(this.modelDataBuild(new this.model(a[c])));return b},insert:function(a){this.desynced=!1;a instanceof g||(a=this.modelDataBuild(new this.model(a)));this._list.push(a);a.hash();this._setToUrl();return a.sync(this.href)},off:function(b,c){a(this).off(b,c);for(var e=b.split(" "),f=0,j=e.length;f<j;f++)delete this._events[e[f]];
return this},one:function(b,c,e){if(void 0===e)a(this).off(b,c),a(this).one(b,c);else{var f=function(){c.apply(e,arguments)};a(this).off(b,f);a(this).one(b,f)}b=b.split(" ");for(var f=0,j=b.length;f<j;f++)this._events[b[f]]=!0;return this},on:function(b,c,e){if(void 0===e)a(this).off(b,c),a(this).on(b,c);else{var f=function(){c.apply(e,arguments)};a(this).off(b,f);a(this).on(b,f)}b=b.split(" ");for(var f=0,j=b.length;f<j;f++)this._events[b[f]]=!0;return this},trigger:function(b,c){a(this).trigger(b,
c);return this},triggerHandler:function(b,c){a(this).triggerHandler(b,c);return this},hasEvent:function(b){return"undefined"===a.type(this._events[b])?!1:this._events[b]}};e.extend=x=function(b,e){var f;f=c.extend.call(this,b);f.extend=x;e&&e.register&&(j[e.register]=f,delete e.register);f.prototype.options=a.extend({},e);return f};var E=0,A=c.extend({getProperty:function(a){return!this[a]?null:"function"===typeof this[a]?this[a]():this[a]}}).extend({tagName:"div",attributes:{className:"",id:""},
namespace:"view",_constructor:function(b,c){this.events&&(b&&b.events)&&a.extend(b.events,this.events);a.extend(this,b);this._clientId=E++;c=a.extend({},{init:!0,events:!0,ensure:!0},c);c.ensure&&this._ensureElement();c.init&&this.init.apply(this,arguments);c.events&&this.resetEvents()},_ensureElement:function(){var b=this.attributes.className,c=this.attributes.id,e="";a(this.el).length?this.el=a(this.el):("string"===a.type(this.el)&&("."==this.el[0]&&(b+=this.el.substr(0,1)),"#"==this.el[0]&&(c=
this.el.substr(0,1))),e="\x3c"+this.tagName,""!==b&&(e=e+' class\x3d"'+b+'"'),""!==c&&(e=e+' id\x3d"'+c+'"'),e=e+"\x3e\x3c/"+this.tagName+"\x3e",this.el=a(e))},init:function(){return this},resetEvents:function(){this.undelegateEvents();this.delegateEvents()},delegateEvents:function(b){if(b||(b=this.getProperty("events")))for(var c in b){var e=b[c],f;for(f in e){var j=e[f];if("string"===typeof j&&a.isFunction(this[j]))a(this.el).on(this.getEvent(f),c,this[j].bind(this))}}},undelegateEvents:function(){a(this.el).off(this.getNamespace());
return this},getEvent:function(a){return a+this.getNamespace()},getNamespace:function(){return"."+this.getProperty("namespace")},render:function(){this.delegateEvents();return this},remove:function(){a(this.el).remove();this.destroy();return this},destroy:function(){this.model&&this.model.trigger("destroy");this.collection&&this.collection.trigger("destroy");return this},checkElement:function(){return void 0===this.el?!1:void 0!==this.el.selector&&""!=this.el.selector?1===a(this.el.selector).length:
a(this.el).is(":visible")},setElement:function(b){this.undelegateEvents();b=a(b);var c=this.el.data();this.el.replaceWith(b);this.el=b;this.el.data(c);this.delegateEvents();return this},resetElement:function(b){this.el=a(b);this._ensureElement();this.delegateEvents()}});return{Model:g,Collection:e,Sync:f,UniqueContainer:b,View:A,Url:m,Register:j}});
define("gizmo/superdesk",["jquery","gizmo"],function(a,c){var d=a.extend({},c.Sync,{reset:function(){try{delete this.options.headers["X-Filter"],this.options.data={}}catch(a){}}}),j=a.extend({},d,{options:{fail:function(a){401==a.status&&authLock.apply(j,arguments);404==a.status&&ErrorApp.require.apply(this,arguments)}},href:function(a){return-1===a.indexOf("my/")?a.replace("resources/","resources/my/"):a}}),g=function(){this.syncAdapter.options.headers||(this.syncAdapter.options.headers={});this._xfilter=
1<arguments.length?a.makeArray(arguments).join(","):a.isArray(arguments[0])?arguments[0].join(","):arguments[0];this.syncAdapter.options.headers["X-Filter"]=this._xfilter;this.syncAdapter.options.headers["X-Format-DateTime"]="yyyy-MM-ddTHH:mm:ss'Z'";return this},b=function(a,b){void 0===a?delete this.syncAdapter.options.data[b]:(void 0===this.syncAdapter.options.data&&(this.syncAdapter.options.data={}),this.syncAdapter.options.data[b]=a);return this},e=function(a,c){void 0===c&&(c="CId");return b.call(this,
a,c+".since")},m=function(a,c){void 0===c&&(c="CId");return b.call(this,a,c+".until")},f=function(a,c){void 0===c&&(c="CId");return b.call(this,a,c+".start")},l=function(a,c){void 0===c&&(c="CId");return b.call(this,a,c+".end")},w=c.Model.extend({isDeleted:function(){return this._forDelete||this.data.DeletedOn},syncAdapter:d,xfilter:g,since:e,until:m,start:f,end:l}),p=function(a){"object"===typeof a&&(a.syncAdapter=j);a.modelDataBuild=function(a){return p(a)};return a},x=c.Model.extend({syncAdapter:j,
xfilter:g,since:e,until:m}),y=c.Collection.extend({xfilter:g,since:e,until:m,start:f,end:l,asc:function(a){return b.call(this,a,"asc")},desc:function(a){return b.call(this,a,"desc")},limit:function(a){return b.call(this,a,"limit")},offset:function(a){return b.call(this,a,"offset")},syncAdapter:d}),g=c.Collection.extend({xfilter:g,since:e,until:m,start:f,end:l,syncAdapter:j}),e=c.Url.extend({_construct:function(){this.data=!this.data?{root:(liveblog.restServer?liveblog.restServer:liveblog.frontendServer)+
"/resources/"}:this.data;c.Url.prototype._construct.apply(this,arguments)}});w.extend=function(){var b=c.Model.extend.apply(this,arguments),e=new c.UniqueContainer;a.extend(b.prototype,{_uniq:e,pushUnique:function(){return e.set(this.hash(),this)}},arguments[0]);return b};return{Auth:p,Model:w,AuthModel:x,Collection:y,AuthCollection:g,Sync:d,AuthSync:j,View:c.View,Url:e,Register:c.Register}});
define("gizmo/view-events",["jquery","gizmo/superdesk"],function(a,c){var d=c.View.extend({off:function(c,d){a(this).off(c,d);return this},on:function(c,d,b){if(void 0===b)a(this).off(c,d),a(this).on(c,d);else a(this).on(c,function(){d.apply(b,arguments)});return this},one:function(c,d,b){if(void 0===b)a(this).off(c,d),a(this).one(c,d);else a(this).one(c,function(){d.apply(b,arguments)});return this},trigger:function(c,d){a(this).trigger(c,d);return this},triggerHandler:function(c,d){a(this).triggerHandler(c,
d);return this}});c.View=d;return c});
define("dust/dust",[],function(){var a={};(function(a){function d(a,b,c){this.stack=a;this.global=b;this.blocks=c}function j(b,e,f,d){this.tail=e;this.isObject=!a.isArray(b)&&b&&"object"===typeof b;this.head=b;this.index=f;this.of=d}function g(a){this.head=new e(this);this.callback=a;this.out=""}function b(){this.head=new e(this)}function e(a,b,c){this.root=a;this.next=b;this.data="";this.flushable=!1;this.taps=c}function m(a,b){this.head=a;this.tail=b}a.cache={};a.isRegistred=a.defined=function(b){return a.cache[b]?
!0:!1};a.register=function(b,e){b&&(a.cache[b]=e)};a.render=function(b,e,f){f=(new g(f)).head;a.load(b,f,d.wrap(e)).end()};a.stream=function(e,f){var j=new b;a.nextTick(function(){a.load(e,j.head,d.wrap(f)).end()});return j};a.renderSource=function(b,e,f){return a.compileFn(b)(e,f)};a.compileFn=function(e,f){var j=a.loadSource(a.compile(e,f));return function(e,f){var l=f?new g(f):new b;a.nextTick(function(){j(l.head,d.wrap(e)).end()});return l}};a.load=function(b,e,f){var d=a.cache[b];return d?d(e,
f):a.onLoad?e.map(function(e){a.onLoad(b,function(d,j){if(d)return e.setError(d);a.cache[b]||a.loadSource(a.compile(j,b));a.cache[b](e,f).end()})}):e.setError(Error("Template Not Found: "+b))};a.loadSource=function(a){return eval(a)};a.isArray=Array.isArray?Array.isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)};a.nextTick=function(a){setTimeout(a,0)};a.isEmpty=function(b){return a.isArray(b)&&!b.length?!0:0===b?!1:!b};a.filter=function(b,e,f){if(f)for(var d=0,j=f.length;d<
j;d++){var l=f[d];"s"===l?e=null:b=a.filters[l](b)}e&&(b=a.filters[e](b));return b};a.filters={h:function(b){return a.escapeHtml(b)},j:function(b){return a.escapeJs(b)},u:encodeURI,uc:encodeURIComponent};a.makeBase=function(a){return new d(new j,a)};d.wrap=function(a){return a instanceof d?a:new d(new j(a))};d.prototype.get=function(a){for(var b=this.stack,c;b;){if(b.isObject&&(c=b.head[a],void 0!==c))return c;b=b.tail}return this.global?this.global[a]:void 0};d.prototype.getPath=function(a,b){var c=
this.stack,e=b.length;if(a&&0===e)return c.head;if(c.isObject){for(var c=c.head,f=0;c&&f<e;)c=c[b[f]],f++;return c}};d.prototype.push=function(a,b,c){a&&(a.$idx=b,a.$len=c);return new d(new j(a,this.stack,b,c),this.global,this.blocks)};d.prototype.rebase=function(a){return new d(new j(a),this.global,this.blocks)};d.prototype.current=function(){return this.stack.head};d.prototype.getBlock=function(a){var b=this.blocks;if(b)for(var c=b.length,e;c--;)if(e=b[c][a])return e};d.prototype.shiftBlocks=function(a){var b=
this.blocks;return a?(newBlocks=b?b.concat([a]):[a],new d(this.stack,this.global,newBlocks)):this};g.prototype.flush=function(){for(var a=this.head;a;){if(a.flushable)this.out+=a.data;else{a.error&&(this.callback(a.error),this.flush=function(){});return}this.head=a=a.next}this.callback(null,this.out)};b.prototype.flush=function(){for(var a=this.head;a;){if(a.flushable)this.emit("data",a.data);else{a.error&&(this.emit("error",a.error),this.flush=function(){});return}this.head=a=a.next}this.emit("end")};
b.prototype.emit=function(a,b){var c=this.events;if(c&&c[a])c[a](b)};b.prototype.on=function(a,b){this.events||(this.events={});this.events[a]=b;return this};e.prototype.write=function(a){var b=this.taps;b&&(a=b.go(a));this.data+=a;return this};e.prototype.end=function(a){a&&this.write(a);this.flushable=!0;this.root.flush();return this};e.prototype.map=function(a){var b=new e(this.root,this.next,this.taps),c=new e(this.root,b,this.taps);this.next=c;this.flushable=!0;a(c);return b};e.prototype.tap=
function(a){var b=this.taps;this.taps=b?b.push(a):new m(a);return this};e.prototype.untap=function(){this.taps=this.taps.tail;return this};e.prototype.render=function(a,b){return a(this,b)};e.prototype.reference=function(b,f,d,j){return"function"===typeof b&&(b=b(this,f,null,{auto:d,filters:j}),b instanceof e)?b:a.isEmpty(b)?this:this.write(a.filter(b,d,j))};e.prototype.section=function(b,f,d,j){if("function"===typeof b&&(b=b(this,f,d,j),b instanceof e))return b;var l=d.block;d=d["else"];j&&(f=f.push(j));
if(a.isArray(b)){if(l){j=b.length;d=this;for(var m=0;m<j;m++)d=l(d,f.push(b[m],m,j));return d}}else if(!0===b){if(l)return l(this,f)}else if(b||0===b){if(l)return l(this,f.push(b))}else if(d)return d(this,f);return this};e.prototype.exists=function(b,e,f){var d=f.block;f=f["else"];if(a.isEmpty(b)){if(f)return f(this,e)}else if(d)return d(this,e);return this};e.prototype.notexists=function(b,e,f){var d=f.block;f=f["else"];if(a.isEmpty(b)){if(d)return d(this,e)}else if(f)return f(this,e);return this};
e.prototype.block=function(a,b,c){c=c.block;a&&(c=a);return c?c(this,b):this};e.prototype.partial=function(b,e){return"function"===typeof b?this.capture(b,e,function(b,f){a.load(b,f,e).end()}):a.load(b,this,e)};e.prototype.helper=function(b,e,f,d){return a.helpers[b](this,e,f,d)};e.prototype.capture=function(a,b,c){return this.map(function(e){var f=new g(function(a,b){a?e.setError(a):c(b,e)});a(f.head,b).end()})};e.prototype.setError=function(a){this.error=a;this.root.flush();return this};m.prototype.push=
function(a){return new m(a,this)};m.prototype.go=function(a){for(var b=this;b;)a=b.head(a),b=b.tail;return a};var f=RegExp(/[&<>\"]/),l=/&/g,w=/</g,p=/>/g,x=/\"/g;a.escapeHtml=function(a){return"string"===typeof a?!f.test(a)?a:a.replace(l,"\x26amp;").replace(w,"\x26lt;").replace(p,"\x26gt;").replace(x,"\x26quot;"):a};var y=/\\/g,E=/\r/g,A=/\u2028/g,B=/\u2029/g,z=/\n/g,F=/\f/g,I=/'/g,C=/"/g,G=/\t/g;a.escapeJs=function(a){return"string"===typeof a?a.replace(y,"\\\\").replace(C,'\\"').replace(I,"\\'").replace(E,
"\\r").replace(A,"\\u2028").replace(B,"\\u2029").replace(z,"\\n").replace(F,"\\f").replace(G,"\\t"):a}})(a);return a});define("dust",["dust/dust"],function(a){return a});
define("utils/twitter",[],function(){return{link:{anchor:function(a){return a.replace(/[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z]+:\/\/[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z0-9-_]+\.[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z0-9-_:%&\?\/.=]+/g,function(a){a=a.link(a);return a=a.replace('href\x3d"','target\x3d"_blanka" href\x3d"')})},user:function(a){return a.replace(/[@]+[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z0-9-_]+/g,function(a){var d=a.replace("@",
"");a=a.link("http://twitter.com/"+d);return a=a.replace('href\x3d"','target\x3d"_blankb" onclick\x3d"loadProfile(\''+d+'\');return(false);"  href\x3d"')})},tag:function(a){return a.replace(/[#]+[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z0-9-_]+/g,function(a){var d=a.replace("#","%23");a=a.link("http://twitter.com/search?q\x3d"+d);return a=a.replace('href\x3d"','target\x3d"_blank" href\x3d"')})},all:function(a){a=this.anchor(a);a=this.user(a);return a=this.tag(a)}}}});
define("dust/dust-helpers",["dust/dust","jquery","utils/twitter","jquery-path/i18n","jquery-path/utils"],function(a,c,d){function j(a){return function(c){try{return c=JSON.parse(c),c.annotation[a]}catch(d){}return""}}var g=function(a,e,d,f){if(c.isDefined(f.param1)){var j=[],g;c.each(f,function(c,f){"function"===typeof f&&(val="",a.tap(function(a){val+=a;return""}).render(f,e).untap(),f=val);g=parseInt(c.slice(5))-1;if(isNaN(g)&&window.console)return window.console.log("Invalid parameter "+c+" given!"),
[];j[g]=f});return j}c.each(f,function(c,d){"function"===typeof d&&(val="",a.tap(function(a){val+=a;return""}).render(d,e).untap(),f[c]=val)});return f};a.helpers={i18n:function(a,e,d,f){msgid=f.msgid;msgid_plural=f.msgid_plural;n=f.n;domain=f.domain;msgctxt=f.msgctxt;f&&f.msgid?(delete f.msgid,a.write(c.i18n.dcnpgettext(domain,msgctxt,msgid,msgid_plural,n).format(g(a,e,d,f)))):window.console&&window.console.log("No expression given!");return a},sep:function(a,c,d){return c.stack.index===c.stack.of-
1?a:d.block(a,c)},idx:function(a,c,d){return d.block(a,c.push(c.stack.index))},"if":function(a,c,d,f){var j=f.cond;if(f&&f.cond){"function"===typeof j&&(j="",a.tap(function(a){j+=a;return""}).render(f.cond,c).untap(),""===j&&(j=!1));if(eval(j))return a.render(d.block,c);if(d["else"])return a.render(d["else"],c)}else window.console&&window.console.log("No expression given!");return a}};a.filters.t=function(a){return c("\x3cdiv\x3e"+a+"\x3c/div\x3e").text()};a.filters.trim50=function(a){return a.trunc(50,
!0)};a.filters.trim150=function(a){return a.trunc(150,!0)};a.filters.trim200=function(a){return a.trunc(200,!0)};a.filters.twitter_all=function(a){return d.link.all(a)};a.filters.twitter_annotation_before=j(0);a.filters.twitter_annotation_after=j(1);return a});define("dust/core",["dust/dust","dust/dust-helpers"],function(a){return a});
define("jquery-path/tmpl",["jquery","dust/core"],function(a,c){a.fn.extend({tmpl:function(c,j,g){if(""!==c)return"#"===c[0]&&(c=c.slice(1)),a.isFunction(j)&&(g=j),this.each(function(){$that=a(this);a.tmpl(c,j,function(b,c){b?window.console&&window.console.log(b):$that.html(c);a.isFunction(g)&&g.apply($that)})})}});a.extend({tmpl:function(a,j,g){if(-1!==a.indexOf("themeBase")){var b=a.replace("themeBase","theme");c.isRegistred(b)&&(a=b)}c.render(a,j,g)},tmplFn:function(a){return c.compileFn(a)}})});
define("utils/encode_url",[],function(){encodeURL=function(a){return encodeURIComponent(a).replace(/'/g,"%27").replace(/~/g,"%7E").replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29")}});
define("dust/parser",["dust/dust"],function(a){var c,d={parse:function(a,d){function b(a){var b=a.charCodeAt(0);if(255>=b){a="x";var c=2}else a="u",c=4;a="\\"+a;for(var e=b.toString(16).toUpperCase(),b=e,c=c-e.length,e=0;e<c;e++)b="0"+b;return a+b}function e(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,b)+'"'}function m(a){h<T||(h>T&&(T=h,Y=[]),Y.push(a))}function f(){var a="body@"+h,b=v[a];if(b)return h=b.nextPos,b.result;
for(var b=h,c=[],e=l();null!==e;)c.push(e),e=l();c=null!==c?["body"].concat(c):null;null===c&&(c=null,h=b);v[a]={nextPos:h,result:c};return c}function l(){var a="part@"+h,b=v[a];if(b)return h=b.nextPos,b.result;b=Q();null===b&&(b=w(),null===b&&(b=z(),null===b&&(b=I(),null===b&&(b=B(),null===b&&(b=N(),b=null!==b?b:null)))));v[a]={nextPos:h,result:b};return b}function w(){var b="section@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var e=h,d=h,l=p();if(null!==l){var g=H();if(null!==g){var Z=
f();if(null!==Z){var r=A();if(null!==r){var t=x();if(null!==t)if(s=!s||s[1].text===Z.text?"":null,null!==s)var s=[l,g,Z,r,t,s];else s=null,h=d;else s=null,h=d}else s=null,h=d}else s=null,h=d}else s=null,h=d}else s=null,h=d;null!==s?(d=s[0],l=s[3],l.push(["param",["literal","block"],s[2]]),d.push(l),s=d):s=null;null===s&&(s=null,h=e);null!==s?e=s:(s=e=h,d=p(),null!==d?("/"===a.substr(h,1)?(l="/",h+=1):(l=null,q&&m('"/"')),null!==l?(g=H(),null!==g?d=[d,l,g]:(d=null,h=s)):(d=null,h=s)):(d=null,h=s),
null!==d?(s=d[0],s.push(["bodies"])):s=null,null===s&&(s=null,h=e),e=null!==s?s:null);(q=c)&&null===e&&m("section");v[b]={nextPos:h,result:e};return e}function p(){var b="sec_tag_start@"+h,c=v[b];if(c)return h=c.nextPos,c.result;var e=c=h,f=K();if(null!==f){if(null!==a.substr(h).match(/^[#?^<+@%]/)){var d=a.charAt(h);h++}else d=null,q&&m("[#?^\x3c+@%]");if(null!==d){var l=C();if(null!==l){var g=y();if(null!==g){var r=E();null!==r?f=[f,d,l,g,r]:(f=null,h=e)}else f=null,h=e}else f=null,h=e}else f=null,
h=e}else f=null,h=e;e=null!==f?[f[1],f[2],f[3],f[4]]:null;null===e&&(e=null,h=c);v[b]={nextPos:h,result:e};return e}function x(){var b="end_tag@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var e=h,f=h,d=K();if(null!==d){if("/"===a.substr(h,1)){var l="/";h+=1}else l=null,q&&m('"/"');if(null!==l){var g=C();if(null!==g){var r=H();null!==r?d=[d,l,g,r]:(d=null,h=f)}else d=null,h=f}else d=null,h=f}else d=null,h=f;f=null!==d?d[2]:null;null===f&&(f=null,h=e);(q=c)&&null===f&&m("end tag");v[b]={nextPos:h,
result:f};return f}function y(){var b="context@"+h,c=v[b];if(c)return h=c.nextPos,c.result;var e=c=h,f=h;if(":"===a.substr(h,1)){var d=":";h+=1}else d=null,q&&m('":"');if(null!==d){var l=C();null!==l?d=[d,l]:(d=null,h=f)}else d=null,h=f;f=null!==d?d[1]:null;null===f&&(f=null,h=e);e=null!==f?f:"";e=null!==e?e?["context",e]:["context"]:null;null===e&&(e=null,h=c);v[b]={nextPos:h,result:e};return e}function E(){var b="params@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var e=h,f=[],d=h,l=h,g=
O();if(null!==g){var r=D();if(null!==r){if("\x3d"===a.substr(h,1)){var t="\x3d";h+=1}else t=null,q&&m('"\x3d"');if(null!==t){var s=C();null===s&&(s=J(),s=null!==s?s:null);null!==s?g=[g,r,t,s]:(g=null,h=l)}else g=null,h=l}else g=null,h=l}else g=null,h=l;l=null!==g?["param",["literal",g[1]],g[3]]:null;null===l&&(l=null,h=d);for(;null!==l;)f.push(l),l=d=h,g=O(),null!==g?(r=D(),null!==r?("\x3d"===a.substr(h,1)?(t="\x3d",h+=1):(t=null,q&&m('"\x3d"')),null!==t?(s=C(),null===s&&(s=J(),s=null!==s?s:null),
null!==s?g=[g,r,t,s]:(g=null,h=l)):(g=null,h=l)):(g=null,h=l)):(g=null,h=l),l=null!==g?["param",["literal",g[1]],g[3]]:null,null===l&&(l=null,h=d);f=null!==f?["params"].concat(f):null;null===f&&(f=null,h=e);(q=c)&&null===f&&m("params");v[b]={nextPos:h,result:f};return f}function A(){var b="bodies@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var e=h,d=[],l=h,g=h,p=K();if(null!==p){if(":"===a.substr(h,1)){var r=":";h+=1}else r=null,q&&m('":"');if(null!==r){var t=D();if(null!==t){var s=H();if(null!==
s){var w=f();null!==w?p=[p,r,t,s,w]:(p=null,h=g)}else p=null,h=g}else p=null,h=g}else p=null,h=g}else p=null,h=g;g=null!==p?["param",["literal",p[2]],p[4]]:null;null===g&&(g=null,h=l);for(;null!==g;)d.push(g),g=l=h,p=K(),null!==p?(":"===a.substr(h,1)?(r=":",h+=1):(r=null,q&&m('":"')),null!==r?(t=D(),null!==t?(s=H(),null!==s?(w=f(),null!==w?p=[p,r,t,s,w]:(p=null,h=g)):(p=null,h=g)):(p=null,h=g)):(p=null,h=g)):(p=null,h=g),g=null!==p?["param",["literal",p[2]],p[4]]:null,null===g&&(g=null,h=l);d=null!==
d?["bodies"].concat(d):null;null===d&&(d=null,h=e);(q=c)&&null===d&&m("bodies");v[b]={nextPos:h,result:d};return d}function B(){var a="reference@"+h,b=v[a];if(b)return h=b.nextPos,b.result;b=q;q=!1;var c=h,e=h,f=K();if(null!==f){var d=C();if(null!==d){var l=F();if(null!==l){var j=H();null!==j?f=[f,d,l,j]:(f=null,h=e)}else f=null,h=e}else f=null,h=e}else f=null,h=e;e=null!==f?["reference",f[1],f[2]]:null;null===e&&(e=null,h=c);(q=b)&&null===e&&m("reference");v[a]={nextPos:h,result:e};return e}function z(){var b=
"partial@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var e=h,f=h,d=K();if(null!==d){if("\x3e"===a.substr(h,1)){var l="\x3e";h+=1}else l=null,q&&m('"\x3e"');if(null!==l){var g=h,p=D(),p=null!==p?["literal",p]:null;null===p&&(p=null,h=g);null!==p?g=p:(g=J(),g=null!==g?g:null);if(null!==g)if(p=y(),null!==p){if("/"===a.substr(h,1)){var t="/";h+=1}else t=null,q&&m('"/"');if(null!==t){var s=H();null!==s?d=[d,l,g,p,t,s]:(d=null,h=f)}else d=null,h=f}else d=null,h=f;else d=null,h=f}else d=null,h=
f}else d=null,h=f;f=null!==d?["partial",d[2],d[3]]:null;null===f&&(f=null,h=e);(q=c)&&null===f&&m("partial");v[b]={nextPos:h,result:f};return f}function F(){var b="filters@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var e=h,f=[],d=h,l=h;if("|"===a.substr(h,1)){var g="|";h+=1}else g=null,q&&m('"|"');if(null!==g){var p=D();null!==p?g=[g,p]:(g=null,h=l)}else g=null,h=l;l=null!==g?g[1]:null;null===l&&(l=null,h=d);for(;null!==l;)f.push(l),l=d=h,"|"===a.substr(h,1)?(g="|",h+=1):(g=null,q&&m('"|"')),
null!==g?(p=D(),null!==p?g=[g,p]:(g=null,h=l)):(g=null,h=l),l=null!==g?g[1]:null,null===l&&(l=null,h=d);f=null!==f?["filters"].concat(f):null;null===f&&(f=null,h=e);(q=c)&&null===f&&m("filters");v[b]={nextPos:h,result:f};return f}function I(){var b="special@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var e=h,f=h,d=K();if(null!==d){if("~"===a.substr(h,1)){var l="~";h+=1}else l=null,q&&m('"~"');if(null!==l){var g=D();if(null!==g){var p=H();null!==p?d=[d,l,g,p]:(d=null,h=f)}else d=null,h=f}else d=
null,h=f}else d=null,h=f;f=null!==d?["special",d[2]]:null;null===f&&(f=null,h=e);(q=c)&&null===f&&m("special");v[b]={nextPos:h,result:f};return f}function C(){var a="identifier@"+h,b=v[a];if(b)return h=b.nextPos,b.result;b=q;q=!1;var c=h,e=G(),e=null!==e?U(["path"].concat(e),a):null;null===e&&(e=null,h=c);null!==e?c=e:(c=h,e=D(),e=null!==e?U(["key",e],a):null,null===e&&(e=null,h=c),c=null!==e?e:null);(q=b)&&null===c&&m("identifier");v[a]={nextPos:h,result:c};return c}function G(){var b="path@"+h,
c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var e=h,f=h,d=D(),d=null!==d?d:"";if(null!==d){var l=h,g=h;if("."===a.substr(h,1)){var p=".";h+=1}else p=null,q&&m('"."');if(null!==p){var t=D();null!==t?p=[p,t]:(p=null,h=g)}else p=null,h=g;g=null!==p?p[1]:null;null===g&&(g=null,h=l);if(null!==g)for(var s=[];null!==g;)s.push(g),g=l=h,"."===a.substr(h,1)?(p=".",h+=1):(p=null,q&&m('"."')),null!==p?(t=D(),null!==t?p=[p,t]:(p=null,h=g)):(p=null,h=g),g=null!==p?p[1]:null,null===g&&(g=null,h=l);else s=null;
null!==s?d=[d,s]:(d=null,h=f)}else d=null,h=f;null!==d?(f=d[0],d=d[1],f?(d.unshift(f),f=[!1,d]):f=[!0,d]):f=null;null===f&&(f=null,h=e);null!==f?e=f:(e=h,"."===a.substr(h,1)?(f=".",h+=1):(f=null,q&&m('"."')),f=null!==f?[!0,[]]:null,null===f&&(f=null,h=e),e=null!==f?f:null);(q=c)&&null===e&&m("path");v[b]={nextPos:h,result:e};return e}function D(){var b="key@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var e=h,f=h;if(null!==a.substr(h).match(/^[a-zA-Z_$]/)){var d=a.charAt(h);h++}else d=null,
q&&m("[a-zA-Z_$]");if(null!==d){var l=[];if(null!==a.substr(h).match(/^[0-9a-zA-Z_$]/)){var g=a.charAt(h);h++}else g=null,q&&m("[0-9a-zA-Z_$]");for(;null!==g;)l.push(g),null!==a.substr(h).match(/^[0-9a-zA-Z_$]/)?(g=a.charAt(h),h++):(g=null,q&&m("[0-9a-zA-Z_$]"));null!==l?d=[d,l]:(d=null,h=f)}else d=null,h=f;f=null!==d?d[0]+d[1].join(""):null;null===f&&(f=null,h=e);(q=c)&&null===f&&m("key");v[b]={nextPos:h,result:f};return f}function J(){var b="inline@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=
q;q=!1;var e=h,f=h;if('"'===a.substr(h,1)){var d='"';h+=1}else d=null,q&&m('"\\""');if(null!==d){if('"'===a.substr(h,1)){var l='"';h+=1}else l=null,q&&m('"\\""');null!==l?d=[d,l]:(d=null,h=f)}else d=null,h=f;f=null!==d?["literal",""]:null;null===f&&(f=null,h=e);if(null!==f)e=f;else{f=e=h;'"'===a.substr(h,1)?(d='"',h+=1):(d=null,q&&m('"\\""'));if(null!==d)if(l=R(),null!==l){if('"'===a.substr(h,1)){var g='"';h+=1}else g=null,q&&m('"\\""');null!==g?d=[d,l,g]:(d=null,h=f)}else d=null,h=f;else d=null,
h=f;f=null!==d?["literal",d[1]]:null;null===f&&(f=null,h=e);if(null!==f)e=f;else{f=e=h;'"'===a.substr(h,1)?(d='"',h+=1):(d=null,q&&m('"\\""'));if(null!==d){g=M();if(null!==g)for(l=[];null!==g;)l.push(g),g=M();else l=null;null!==l?('"'===a.substr(h,1)?(g='"',h+=1):(g=null,q&&m('"\\""')),null!==g?d=[d,l,g]:(d=null,h=f)):(d=null,h=f)}else d=null,h=f;f=null!==d?["body"].concat(d[1]):null;null===f&&(f=null,h=e);e=null!==f?f:null}}(q=c)&&null===e&&m("inline");v[b]={nextPos:h,result:e};return e}function M(){var a=
"inline_part@"+h,b=v[a];if(b)return h=b.nextPos,b.result;b=I();if(null===b&&(b=B(),null===b)){var b=h,c=R(),c=null!==c?["buffer",c]:null;null===c&&(c=null,h=b);b=null!==c?c:null}v[a]={nextPos:h,result:b};return b}function N(){var b="buffer@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var e=h,f=h,d=L();if(null!==d){for(var l=[],g=O();null!==g;)l.push(g),g=O();null!==l?d=[d,l]:(d=null,h=f)}else d=null,h=f;f=null!==d?["format",d[0],d[1].join("")]:null;null===f&&(f=null,h=e);if(null!==f)e=f;else{var p=
l=f=e=h,g=q;q=!1;var t=P();q=g;null===t?g="":(g=null,h=p);if(null!==g){t=h;p=q;q=!1;var s=L();q=p;null===s?p="":(p=null,h=t);if(null!==p){t=h;s=q;q=!1;var w=Q();q=s;null===w?s="":(s=null,h=t);null!==s?(a.length>h?(t=a.charAt(h),h++):(t=null,q&&m("any character")),null!==t?g=[g,p,s,t]:(g=null,h=l)):(g=null,h=l)}else g=null,h=l}else g=null,h=l;l=null!==g?g[3]:null;null===l&&(l=null,h=f);if(null!==l)for(d=[];null!==l;)d.push(l),p=l=f=h,g=q,q=!1,t=P(),q=g,null===t?g="":(g=null,h=p),null!==g?(t=h,p=q,
q=!1,s=L(),q=p,null===s?p="":(p=null,h=t),null!==p?(t=h,s=q,q=!1,w=Q(),q=s,null===w?s="":(s=null,h=t),null!==s?(a.length>h?(t=a.charAt(h),h++):(t=null,q&&m("any character")),null!==t?g=[g,p,s,t]:(g=null,h=l)):(g=null,h=l)):(g=null,h=l)):(g=null,h=l),l=null!==g?g[3]:null,null===l&&(l=null,h=f);else d=null;f=null!==d?["buffer",d.join("")]:null;null===f&&(f=null,h=e);e=null!==f?f:null}(q=c)&&null===e&&m("buffer");v[b]={nextPos:h,result:e};return e}function R(){var b="literal@"+h,c=v[b];if(c)return h=
c.nextPos,c.result;c=q;q=!1;var e=h,f=h,d=h,l=h,g=q;q=!1;var p=P();q=g;null===p?g="":(g=null,h=l);if(null!==g){p=h;l=q;q=!1;var t=L();q=l;null===t?l="":(l=null,h=p);null!==l?(p=S(),null===p&&(null!==a.substr(h).match(/^[^"]/)?(p=a.charAt(h),h++):(p=null,q&&m('[^"]')),p=null!==p?p:null),null!==p?g=[g,l,p]:(g=null,h=d)):(g=null,h=d)}else g=null,h=d;d=null!==g?g[2]:null;null===d&&(d=null,h=f);if(null!==d)for(var s=[];null!==d;)s.push(d),l=d=f=h,g=q,q=!1,p=P(),q=g,null===p?g="":(g=null,h=l),null!==g?
(p=h,l=q,q=!1,t=L(),q=l,null===t?l="":(l=null,h=p),null!==l?(p=S(),null===p&&(null!==a.substr(h).match(/^[^"]/)?(p=a.charAt(h),h++):(p=null,q&&m('[^"]')),p=null!==p?p:null),null!==p?g=[g,l,p]:(g=null,h=d)):(g=null,h=d)):(g=null,h=d),d=null!==g?g[2]:null,null===d&&(d=null,h=f);else s=null;f=null!==s?s.join(""):null;null===f&&(f=null,h=e);(q=c)&&null===f&&m("literal");v[b]={nextPos:h,result:f};return f}function S(){var b="esc@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=h;if('\\"'===a.substr(h,2)){var f=
'\\"';h+=2}else f=null,q&&m('"\\\\\\""');f=null!==f?'"':null;null===f&&(f=null,h=c);v[b]={nextPos:h,result:f};return f}function Q(){var b="comment@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var f=h,e=h;if("{!"===a.substr(h,2)){var d="{!";h+=2}else d=null,q&&m('"{!"');if(null!==d){var l=[],g=h,p=h,t=h,s=q;q=!1;if("!}"===a.substr(h,2)){var w="!}";h+=2}else w=null,q&&m('"!}"');q=s;null===w?s="":(s=null,h=t);null!==s?(a.length>h?(t=a.charAt(h),h++):(t=null,q&&m("any character")),null!==t?t=
[s,t]:(t=null,h=p)):(t=null,h=p);p=null!==t?t[1]:null;null===p&&(p=null,h=g);for(;null!==p;)l.push(p),t=p=g=h,s=q,q=!1,"!}"===a.substr(h,2)?(w="!}",h+=2):(w=null,q&&m('"!}"')),q=s,null===w?s="":(s=null,h=t),null!==s?(a.length>h?(t=a.charAt(h),h++):(t=null,q&&m("any character")),null!==t?t=[s,t]:(t=null,h=p)):(t=null,h=p),p=null!==t?t[1]:null,null===p&&(p=null,h=g);null!==l?("!}"===a.substr(h,2)?(g="!}",h+=2):(g=null,q&&m('"!}"')),null!==g?d=[d,l,g]:(d=null,h=e)):(d=null,h=e)}else d=null,h=e;e=null!==
d?["comment",d[1].join("")]:null;null===e&&(e=null,h=f);(q=c)&&null===e&&m("comment");v[b]={nextPos:h,result:e};return e}function P(){var b="tag@"+h,c=v[b];if(c)return h=c.nextPos,c.result;var c=h,f=K();if(null!==f){if(null!==a.substr(h).match(/^[#?^><+%:@\/~%]/)){var e=a.charAt(h);h++}else e=null,q&&m("[#?^\x3e\x3c+%:@\\/~%]");if(null!==e){var d=h,l=h,g=q;q=!1;var p=H();q=g;null===p?g="":(g=null,h=l);if(null!==g){l=h;p=q;q=!1;var t=L();q=p;null===t?p="":(p=null,h=l);null!==p?(a.length>h?(l=a.charAt(h),
h++):(l=null,q&&m("any character")),null!==l?g=[g,p,l]:(g=null,h=d)):(g=null,h=d)}else g=null,h=d;if(null!==g)for(var s=[];null!==g;)s.push(g),l=d=h,g=q,q=!1,p=H(),q=g,null===p?g="":(g=null,h=l),null!==g?(l=h,p=q,q=!1,t=L(),q=p,null===t?p="":(p=null,h=l),null!==p?(a.length>h?(l=a.charAt(h),h++):(l=null,q&&m("any character")),null!==l?g=[g,p,l]:(g=null,h=d)):(g=null,h=d)):(g=null,h=d);else s=null;null!==s?(d=H(),null!==d?f=[f,e,s,d]:(f=null,h=c)):(f=null,h=c)}else f=null,h=c}else f=null,h=c;null!==
f?c=f:(c=B(),c=null!==c?c:null);v[b]={nextPos:h,result:c};return c}function K(){var b="ld@"+h,c=v[b];if(c)return h=c.nextPos,c.result;"{"===a.substr(h,1)?(c="{",h+=1):(c=null,q&&m('"{"'));v[b]={nextPos:h,result:c};return c}function H(){var b="rd@"+h,c=v[b];if(c)return h=c.nextPos,c.result;"}"===a.substr(h,1)?(c="}",h+=1):(c=null,q&&m('"}"'));v[b]={nextPos:h,result:c};return c}function L(){var b="eol@"+h,c=v[b];if(c)return h=c.nextPos,c.result;"\n"===a.substr(h,1)?(c="\n",h+=1):(c=null,q&&m('"\\n"'));
null===c&&("\r\n"===a.substr(h,2)?(c="\r\n",h+=2):(c=null,q&&m('"\\r\\n"')),null===c&&("\r"===a.substr(h,1)?(c="\r",h+=1):(c=null,q&&m('"\\r"')),null===c&&("\u2028"===a.substr(h,1)?(c="\u2028",h+=1):(c=null,q&&m('"\\u2028"')),null===c&&("\u2029"===a.substr(h,1)?(c="\u2029",h+=1):(c=null,q&&m('"\\u2029"')),c=null!==c?c:null))));v[b]={nextPos:h,result:c};return c}function O(){var b="ws@"+h,c=v[b];if(c)return h=c.nextPos,c.result;null!==a.substr(h).match(/^[\t\x0B\f \xA0\uFEFF]/)?(c=a.charAt(h),h++):
(c=null,q&&m("[\t\x0B\f \\xA0\\uFEFF]"));v[b]={nextPos:h,result:c};return c}function $(){var b;a:{b=Y;b.sort();for(var c=null,f=[],d=0;d<b.length;d++)b[d]!==c&&(f.push(b[d]),c=b[d]);switch(f.length){case 0:b="end of input";break a;case 1:b=f[0];break a;default:b=f.slice(0,f.length-1).join(", ")+" or "+f[f.length-1]}}c=Math.max(h,T);c=c<a.length?e(a.charAt(c)):"end of input";return"Expected "+b+" but "+c+" found."}function U(b,c){b.text=a.substring(c.split("@")[1],h);return b}var u={bodies:A,body:f,
buffer:N,comment:Q,context:y,end_tag:x,eol:L,esc:S,filters:F,identifier:C,inline:J,inline_part:M,key:D,ld:K,literal:R,params:E,part:l,partial:z,path:G,rd:H,reference:B,sec_tag_start:p,section:w,special:I,tag:P,ws:O};if(void 0!==d){if(void 0===u[d])throw Error("Invalid rule name: "+e(d)+".");}else d="body";var h=0,q=!0,T=0,Y=[],v={},u=u[d]();if(null===u||h!==a.length){for(var V=u=1,W=!1,aa=0;aa<T;aa++){var X=a.charAt(aa);"\n"===X?(W||u++,V=1,W=!1):"\r"===X|"\u2028"===X||"\u2029"===X?(u++,V=1,W=!0):
(V++,W=!1)}throw new c.SyntaxError($(),u,V);}return u},toSource:function(){return this._source},SyntaxError:function(a,c,b){this.name="SyntaxError";this.message=a;this.line=c;this.column=b}};d.SyntaxError.prototype=Error.prototype;c=d;a.parse=c.parse;return a});
define("dust/compiler",["dust/parser"],function(a){function c(b,c){for(var e=[c[0]],d=1,g=c.length;d<g;d++){var j=a.filterNode(b,c[d]);j&&e.push(j)}return e}function d(a,b){return b}function j(){}function g(b,c){for(var e="",d=1,g=c.length;d<g;d++)e+=a.compileNode(b,c[d]);return e}function b(b,c,e){return"."+e+"("+a.compileNode(b,c[1])+","+a.compileNode(b,c[2])+","+a.compileNode(b,c[4])+","+a.compileNode(b,c[3])+")"}a.compile=function(b,c){try{var e,d=a.parse(b);e=a.filterNode({},d);var d={name:c,
bodies:[],blocks:{},index:0,auto:"h"},g="(function(){dust.register("+(c?'"'+c+'"':"null")+","+a.compileNode(d,e)+");",j;e=[];var m=d.blocks,A;for(A in m)e.push(A+":"+m[A]);e.length?(d.blocks="ctx\x3dctx.shiftBlocks(blocks);",j="var blocks\x3d{"+e.join(",")+"};"):j=d.blocks="";var g=g+j,B;j=[];for(var z=d.bodies,F=d.blocks,d=0,I=z.length;d<I;d++)j[d]="function body_"+d+"(chk,ctx){"+F+"return chk"+z[d]+";}";B=j.join("");return g+B+"return body_0;})();"}catch(C){if(!C.line||!C.column)throw C;throw new SyntaxError(C.message+
" At line : "+C.line+", column : "+C.column);}};a.filterNode=function(b,c){return a.optimizers[c[0]](b,c)};a.optimizers={body:function(b,c){for(var e=[c[0]],d,g=1,j=c.length;g<j;g++){var m=a.filterNode(b,c[g]);m&&("buffer"===m[0]?d?d[1]+=m[1]:(d=m,e.push(m)):(d=null,e.push(m)))}return e},buffer:d,special:function(a,b){return["buffer",e[b[1]]]},format:j,reference:c,"#":c,"?":c,"^":c,"\x3c":c,"+":c,"@":c,"%":c,partial:c,context:c,params:c,bodies:c,param:c,filters:d,key:d,path:d,literal:d,comment:j};
a.pragmas={esc:function(a,b,c){var e=a.auto;b||(b="h");a.auto="s"===b?"":b;b=g(a,c.block);a.auto=e;return b}};var e={s:" ",n:"\n",r:"\r",lb:"{",rb:"}"};a.compileNode=function(b,c){return a.nodes[c[0]](b,c)};a.nodes={body:function(a,b){var c=a.index++,e="body_"+c;a.bodies[c]=g(a,b);return e},buffer:function(a,b){return".write("+m(b[1])+")"},format:function(a,b){return".write("+m(b[1]+b[2])+")"},reference:function(b,c){return".reference("+a.compileNode(b,c[1])+",ctx,"+a.compileNode(b,c[2])+")"},"#":function(a,
c){return b(a,c,"section")},"?":function(a,c){return b(a,c,"exists")},"^":function(a,c){return b(a,c,"notexists")},"\x3c":function(b,c){for(var e=c[4],d=1,g=e.length;d<g;d++){var j=e[d];if("block"===j[1][1]){b.blocks[c[1].text]=a.compileNode(b,j[2]);break}}return""},"+":function(b,c){return".block(ctx.getBlock("+m(c[1].text)+"),"+a.compileNode(b,c[2])+","+a.compileNode(b,c[4])+","+a.compileNode(b,c[3])+")"},"@":function(b,c){return".helper("+m(c[1].text)+","+a.compileNode(b,c[2])+","+a.compileNode(b,
c[4])+","+a.compileNode(b,c[3])+")"},"%":function(b,c){var e=c[1][1];if(!a.pragmas[e])return"";for(var d=c[4],g={},j=1,m=d.length;j<m;j++){var A=d[j];g[A[1][1]]=A[2]}d=c[3];A={};j=1;for(m=d.length;j<m;j++){var B=d[j];A[B[1][1]]=B[2][1]}return a.pragmas[e](b,c[2][1]?c[2][1].text:null,g,A)},partial:function(b,c){return".partial("+a.compileNode(b,c[1])+","+a.compileNode(b,c[2])+")"},context:function(b,c){return c[1]?"ctx.rebase("+a.compileNode(b,c[1])+")":"ctx"},params:function(b,c){for(var e=[],d=1,
g=c.length;d<g;d++)e.push(a.compileNode(b,c[d]));return e.length?"{"+e.join(",")+"}":"null"},bodies:function(b,c){for(var e=[],d=1,g=c.length;d<g;d++)e.push(a.compileNode(b,c[d]));return"{"+e.join(",")+"}"},param:function(b,c){return a.compileNode(b,c[1])+":"+a.compileNode(b,c[2])},filters:function(a,b){for(var c=[],e=1,d=b.length;e<d;e++)c.push('"'+b[e]+'"');return'"'+a.auto+'"'+(c.length?",["+c.join(",")+"]":"")},key:function(a,b){return'ctx.get("'+b[1]+'")'},path:function(a,b){for(var c=b[1],e=
b[2],d=[],g=0,j=e.length;g<j;g++)d.push('"'+e[g]+'"');return"ctx.getPath("+c+",["+d.join(",")+"])"},literal:function(a,b){return m(b[1])}};var m="undefined"===typeof JSON?function(b){return'"'+a.escapeJs(b)+'"'}:JSON.stringify;return a});
define("utils/json_parse",[],function(){var a,c,d={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},j,g=function(b){throw{name:"SyntaxError",message:b,at:a,text:j};},b=function(b){b&&b!==c&&g("Expected '"+b+"' instead of '"+c+"'");c=j.charAt(a);a+=1;return c},e=function(){var a;a="";"-"===c&&(a="-",b("-"));for(;"0"<=c&&"9">=c;)a+=c,b();if("."===c)for(a+=".";b()&&"0"<=c&&"9">=c;)a+=c;if("e"===c||"E"===c){a+=c;b();if("-"===c||"+"===c)a+=c,b();for(;"0"<=c&&"9">=c;)a+=c,b()}a=+a;
if(isFinite(a))return a;g("Bad number")},m=function(){var a,e,f="",l;if('"'===c)for(;b();){if('"'===c)return b(),f;if("\\"===c)if(b(),"u"===c){for(e=l=0;4>e;e+=1){a=parseInt(b(),16);if(!isFinite(a))break;l=16*l+a}f+=String.fromCharCode(l)}else if("string"===typeof d[c])f+=d[c];else break;else f+=c}else if("'"===c)for(;b();){if("'"===c)return b(),f;if("\\"===c)if(b(),"u"===c){for(e=l=0;4>e;e+=1){a=parseInt(b(),16);if(!isFinite(a))break;l=16*l+a}f+=String.fromCharCode(l)}else if("string"===typeof d[c])f+=
d[c];else break;else f+=c}g("Bad string")},f=function(){var a,e,f="",l;if('"'===c)for(;b();){if('"'===c)return b(),f;if("\\"===c)if(b(),"u"===c){for(e=l=0;4>e;e+=1){a=parseInt(b(),16);if(!isFinite(a))break;l=16*l+a}f+=String.fromCharCode(l)}else if("string"===typeof d[c])f+=d[c];else break;else f+=c}else if("'"===c)for(;b();){if("'"===c)return b(),f;if("\\"===c)if(b(),"u"===c){for(e=l=0;4>e;e+=1){a=parseInt(b(),16);if(!isFinite(a))break;l=16*l+a}f+=String.fromCharCode(l)}else if("string"===typeof d[c])f+=
d[c];else break;else f+=c}else for(f+=c;b();){if(" "===c||":"===c||"}"===c)return f;if("\\"===c)if(b(),"u"===c){for(e=l=0;4>e;e+=1){a=parseInt(b(),16);if(!isFinite(a))break;l=16*l+a}f+=String.fromCharCode(l)}else if("string"===typeof d[c])f+=d[c];else break;else f+=c}g("Bad key")},l=function(){for(;c&&" ">=c;)b()},w=function(){switch(c){case "t":return b("t"),b("r"),b("u"),b("e"),!0;case "f":return b("f"),b("a"),b("l"),b("s"),b("e"),!1;case "n":return b("n"),b("u"),b("l"),b("l"),null}g("Unexpected '"+
c+"'")},p,x=function(){var a,e={};if("{"===c){b("{");l();if("}"===c)return b("}"),e;for(;c;)if(a=f(),l(),":"===c){b(":");e.hasOwnProperty.call(e,a)&&g('Duplicate key "'+a+'"');e[a]=p();l();if("}"===c)return b("}"),e;b(",");l()}else{if("}"===c)return b("}"),"{"+a+"}";g("Bad object")}}g("Bad injection")};p=function(){l();switch(c){case "{":return x();case "[":var a;a:{a=[];if("["===c){b("[");l();if("]"===c){b("]");break a}for(;c;){a.push(p());l();if("]"===c){b("]");break a}b(",");l()}}g("Bad array");
a=void 0}return a;case '"':return m();case "'":return m();case "-":return e();default:return"0"<=c&&"9">=c?e():w()}};return function(b,e){var f;j=b;a=0;c=" ";f=p();l();c&&g("Syntax error");return"function"===typeof e?function z(a,b){var c,f,d=a[b];if(d&&"object"===typeof d)for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&(f=z(d,c),void 0!==f?d[c]=f:delete d[c]);return e.call(a,b,d)}({"":f},""):f}});
define("dust/i18n_parse",["utils/json_parse","utils/extend"],function(a){function c(a){return a.replace(/\{/g,"{~lb").replace(/\}/g,"{~rb}").replace(/\{~lb/g,"{~lb}").replace(/((^|[^\\])(\\\\)*)"/g,'$1\\"')}function d(c,d,b){c=RegExp(c+"\\((.*?)(\\);)","gi");return d.replace(c,function(c,d){fstr="";if(-1<d.indexOf(").format(")){arr=d.split(").format(");d=arr[0];fparams=arr[1].trim();if("["!==fparams[0]||"{"!==fparams[0])fparams="["+fparams+"]";fparams=a(fparams);for(i in fparams)fstr=isNaN(i)?fstr+
(" "+i+'\x3d"'+fparams[i]+'"'):fstr+(" param"+(parseInt(i)+1)+'\x3d"'+fparams[i]+'"')}return b(a("["+d+"]"),fstr)})}return function(a){a=d("pgettext",a,function(a,b){return'{@i18n msgctxt\x3d"'+a[0]+'" msgid\x3d"'+c(a[1])+'"'+b+"/}"});a=d("ngettext",a,function(a,b){return'{@i18n msgid\x3d"'+c(a[0])+'" msgid_plural\x3d"'+c(a[1])+'" n\x3d"'+a[2]+'"'+b+"/}"});a=d("gettext",a,function(a,b){return'{@i18n msgid\x3d"'+c(a[0])+'"'+b+"/}"});return a=d("_",a,function(a,b){return'{@i18n msgid\x3d"'+c(a[0])+
'"'+b+"/}"})}});
define("tmpl",["jquery","dust/compiler","dust/i18n_parse","jquery-path/xdomainrequest"],function(a,c,d){var j=function(){throw Error("Environment unsupported.");},g={};if("undefined"!==typeof window&&window.navigator&&window.document||"undefined"!==typeof importScripts)j=function(b,c){a.ajax({url:b,error:function(a,b){console.log("err");"parsererror"==b&&c(a.responseText)},success:function(a){c(a)}})};return{pluginBuilder:"core/require/tmpl-builder",write:function(a,c,d){g.hasOwnProperty(c)&&d.asModule(a+
"!"+c,g[c])},load:function(a,e,m,f){var l=e.toUrl(a+".dust");j(l,function(e){e=d(e);try{e="define(['dust'],function(dust){"+c.compile(e,a)+" return {render: function(context, callback) {return dust.render('"+a+"', context, callback)}}})"}catch(j){throw j.message="In "+l+", "+j.message,j;}f.isBuild&&(g[a]=e);m.fromText("tmpl!"+a,e)})}}});
define("tmpl!themeBase/item/base",["dust"],function(a){var c=function(a,b){b=b.shiftBlocks(r);return a.write('\x3cli class\x3d"').block(b.getBlock("itemClass"),b,{block:d},null).write('" ').block(b.getBlock("additionalAttributes"),b,{block:j},null).write("\x3e").block(b.getBlock("main"),b,{block:g},null).write("\x3c/li\x3e")},d=function(a,b){b.shiftBlocks(r);return a},j=function(a,b){b.shiftBlocks(r);return a},g=function(a,c){c=c.shiftBlocks(r);return a.write('\x3ca name\x3d"').reference(c.get("Order"),
c,"h").write('"\x3e\x3c/a\x3e').block(c.getBlock("headerContainer"),c,{block:b},null).block(c.getBlock("contentContainer"),c,{block:p},null).block(c.getBlock("footerContainer"),c,{block:N},null)},b=function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-header"\x3e').block(b.getBlock("header"),b,{block:e},null).write("\x3c/div\x3e")},e=function(a,b){b=b.shiftBlocks(r);return a.block(b.getBlock("verificationLabel"),b,{block:m},null).block(b.getBlock("postDateContainer"),b,{block:f},
null).block(b.getBlock("userNameContainer"),b,{block:l},null).block(b.getBlock("shareContainer"),b,{block:w},null)},m=function(a,b){b.shiftBlocks(r);return a},f=function(a,b){b.shiftBlocks(r);return a},l=function(a,b){b.shiftBlocks(r);return a},w=function(a,b){b.shiftBlocks(r);return a},p=function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-content"\x3e').block(b.getBlock("content"),b,{block:x},null).write("\x3c/div\x3e")},x=function(a,b){b=b.shiftBlocks(r);return a.block(b.getBlock("contentSideContainer"),
b,{block:y},null).block(b.getBlock("contentMainContainer"),b,{block:B},null)},y=function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-content-side"\x3e').block(b.getBlock("contentSide"),b,{block:E},null).write("\x3c/div\x3e")},E=function(a,b){b=b.shiftBlocks(r);return a.block(b.getBlock("userAvatar"),b,{block:A},null)},A=function(a,b){b.shiftBlocks(r);return a},B=function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-content-main"\x3e').block(b.getBlock("contentMainBody"),
b,{block:z},null).write("\x3c/div\x3e")},z=function(a,b){b=b.shiftBlocks(r);return a.block(b.getBlock("commentBefore"),b,{block:F},null).block(b.getBlock("contentMainFull"),b,{block:I},null).block(b.getBlock("commentAfter"),b,{block:M},null)},F=function(a,b){b.shiftBlocks(r);return a},I=function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-content-full"\x3e').block(b.getBlock("contentFull"),b,{block:C},null).write("\x3c/div\x3e")},C=function(a,b){b=b.shiftBlocks(r);return a.block(b.getBlock("contentCoreContainer"),
b,{block:G},null).block(b.getBlock("contentAttrContainer"),b,{block:J},null)},G=function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-core-content"\x3e').block(b.getBlock("contentCore"),b,{block:D},null).write("\x3c/div\x3e")},D=function(a,b){b.shiftBlocks(r);return a},J=function(a,b){b.shiftBlocks(r);return a},M=function(a,b){b.shiftBlocks(r);return a},N=function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-footer"\x3e').block(b.getBlock("footer"),b,{block:R},
null).write("\x3c/div\x3e")},R=function(a,b){b.shiftBlocks(r);return a},S=function(a,b){b.shiftBlocks(r);return a},Q=function(a,b){b.shiftBlocks(r);return a},P=function(a,b){b=b.shiftBlocks(r);return a.reference(b.getPath(!1,["Creator","FullName"]),b,"h")},K=function(a,b){b.shiftBlocks(r);return a},H=function(a,b){b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-publisher-avatar"\x3e\x3c/div\x3e')},L=function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-publisher-avatar"\x3e\x3cspan class\x3d"post-publisher-avatar-img" style\x3d"background:url(\'').reference(b.getPath(!1,
["AuthorImage","href"]),b,"h").write("');\"\x3e\x3c/span\x3e\x3c/div\x3e")},O=function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-comment comment-before"\x3e').reference(b.getPath(!1,["Meta","annotation","before"]),b,"h",["s"]).write("\x3c/div\x3e")},$=function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-comment comment-after"\x3e').reference(b.getPath(!1,["Meta","annotation","after"]),b,"h",["s"]).write("\x3c/div\x3e")},U=function(a,b){b=b.shiftBlocks(r);return a.write("\x3cspan\x3e").block(b.getBlock("contentAttrName"),
b,{block:u},null).write("\x3c/span\x3e")},u=function(a,b){b=b.shiftBlocks(r);return a.reference(b.getPath(!1,["Author","Source","Name"]),b,"h")},h=function(a,b){b.shiftBlocks(r);return a},q=function(a,b){b.shiftBlocks(r);return a},T=function(a,b){b.shiftBlocks(r);return a},Y=function(a,b){b.shiftBlocks(r);return a},v=function(a,b){b.shiftBlocks(r);return a},V=function(a,b){b.shiftBlocks(r);return a},W=function(a,b){b.shiftBlocks(r);return a},aa=function(a,b){b.shiftBlocks(r);return a},X=function(a,
b){b.shiftBlocks(r);return a},ba=function(a,b){b.shiftBlocks(r);return a},ca=function(a,b){b.shiftBlocks(r);return a},da=function(a,b){b=b.shiftBlocks(r);return a.block(b.getBlock("socialShare"),b,{block:ea},null).block(b.getBlock("permanentLinkShare"),b,{block:fa},null)},ea=function(a,b){b.shiftBlocks(r);return a},fa=function(a,b){b.shiftBlocks(r);return a},ga=function(a,b){b=b.shiftBlocks(r);return a.write('\x3ca data-gimme\x3d"post.permalink" href\x3d"').reference(b.get("permalink"),b,"h").write('" rel\x3d"bookmark" class\x3d"permalink"\x3e#\x3c/a\x3e\x3cinput data-gimme\x3d"post.share-permalink" type\x3d"text" style\x3d"visibility:hidden" value\x3d"').reference(b.get("permalink"),
b,"h").write('"\x3e')},Z=function(a,b){b=b.shiftBlocks(r);return a.write('\x3ca data-gimme\x3d"post.social" href\x3d"#" class\x3d"sf-share"\x3e').helper("i18n",b,{},{msgid:"Share"}).write("\x3c/a\x3e")};a.register("themeBase/item/base",function(a,b){b=b.shiftBlocks(r);return a.block(b.getBlock("mainContainer"),b,{block:c},null)});var r={createdDateContainer:function(a,b){b=b.shiftBlocks(r);return a.write('\x3cspan class\x3d"post-datetime"\x3e\x3ctime data-date\x3d"').reference(b.get("CreatedOnISO"),
b,"h").write('"\x3e').reference(b.get("CreatedOn"),b,"h").write("\x3c/time\x3e\x3c/span\x3e")},publishedDateContainer:function(a,b){b=b.shiftBlocks(r);return a.write('\x3cspan class\x3d"post-datetime"\x3e\x3ctime data-date\x3d"').reference(b.get("PublishedOnISO"),b,"h").write('"\x3e').reference(b.get("PublishedOn"),b,"h").write("\x3c/time\x3e\x3c/span\x3e")},postDateContainer:function(a,b){b=b.shiftBlocks(r);return a.block(b.getBlock("publishedDateContainer"),b,{block:S},null)},userNameContainer:function(a,
b){b=b.shiftBlocks(r);return a.block(b.getBlock("publisherNameContainer"),b,{block:Q},null)},publisherNameContainer:function(a,b){b=b.shiftBlocks(r);return a.write('\x3cspan class\x3d"post-publisher-name"\x3e').block(b.getBlock("publisherName"),b,{block:P},null).write("\x3c/span\x3e")},verificationLabel:function(a,b){b.shiftBlocks(r);return a.write('\x3ca class\x3d"verification-label" title\x3d"verification status"\x3e\x3c/a\x3e')},userAvatar:function(a,b){b=b.shiftBlocks(r);return a.block(b.getBlock("publisherAvatar"),
b,{block:K},null)},publisherAvatar:function(a,b){b=b.shiftBlocks(r);return a.exists(b.get("AuthorImage"),b,{"else":H,block:L},null)},commentBefore:function(a,b){b=b.shiftBlocks(r);return a.exists(b.getPath(!1,["Meta","annotation","before"]),b,{block:O},null)},commentAfter:function(a,b){b=b.shiftBlocks(r);return a.exists(b.getPath(!1,["Meta","annotation","after"]),b,{block:$},null)},contentAttr:function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"attributes"\x3e\x3ci class\x3d"source-icon"\x3e\x3c/i\x3e').block(b.getBlock("contentAttrCode"),
b,{block:U},null).write("\x3c/div\x3e")},contentText:function(a,b){b=b.shiftBlocks(r);return a.write('\x3cp class\x3d"post-text"\x3e').reference(b.get("Content"),b,"h",["s"]).write("\x3c/p\x3e")},wrapupIcon:function(a,b){b.shiftBlocks(r);return a.write('\x3cspan class\x3d"big-toggle"\x3e\x3c/span\x3e')},contentExternalContainer:function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-external"\x3e').block(b.getBlock("contentExternal"),b,{block:h},null).write("\x3c/div\x3e")},externalAvatar:function(a,
b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-external-avatar"\x3e\x3cimg class\x3d"post-external-avatar-img" src\x3d"').block(b.getBlock("externalAvatarSrc"),b,{block:q},null).write('"\x3e\x3c/div\x3e')},extenalImageContainer:function(a,b){b=b.shiftBlocks(r);return a.write('\x3ca class\x3d"post-external-image-link" href\x3d"').block(b.getBlock("externalImageLink"),b,{block:T},null).write('" target\x3d"_blank"\x3e\x3cdiv class\x3d"post-external-image"\x3e\x3cimg alt\x3d"').block(b.getBlock("externalImageAlt"),
b,{block:Y},null).write('" class\x3d"post-external-image-img" src\x3d"').block(b.getBlock("externalImageSrc"),b,{block:v},null).write('"\x3e\x3c/div\x3e\x3c/a\x3e')},externalIframeContainer:function(a,b){b=b.shiftBlocks(r);return a.write('\x3cdiv class\x3d"post-frame-container"\x3e').block(b.getBlock("externalIframe"),b,{block:V},null).write("\x3c/div\x3e")},externalInfoTitleContainer:function(a,b){b=b.shiftBlocks(r);return a.write('\x3ca href\x3d"').block(b.getBlock("externalInfoTitleSrc"),b,{block:W},
null).write('"\x3e').block(b.getBlock("externalInfoTitle"),b,{block:aa},null).write("\x3c/a\x3e  ")},externalInfoNameContainer:function(a,b){b=b.shiftBlocks(r);return a.write('\x3ca href\x3d"post-creator-name"\x3e').block(b.getBlock("externalInfoName"),b,{block:X},null).write("\x3c/a\x3e ")},externalInfoContainer:function(b,a){a=a.shiftBlocks(r);return b.write("\x3ch5\x3e").block(a.getBlock("externalInfo"),a,{block:ba},null).write("\x3c/h5\x3e")},externalTextContainer:function(a,b){b=b.shiftBlocks(r);
return a.write('\x3cdiv class\x3d"post-text"\x3e').block(b.getBlock("externalText"),b,{block:ca},null).write("\x3c/div\x3e")},shareContainer:function(b,a){a=a.shiftBlocks(r);return b.write('\x3cdiv class\x3d"post-buttons"\x3e').block(a.getBlock("share"),a,{block:da},null).write("\x3c/div\x3e")},permanentLinkShare:function(a,b){b=b.shiftBlocks(r);return a.block(b.getBlock("permanentLink"),b,{block:ga},null)},socialShare:function(b,a){a=a.shiftBlocks(r);return b.block(a.getBlock("social"),a,{block:Z},
null)}};return{render:function(b,c){return a.render("themeBase/item/base",b,c)}}});
define("tmpl!themeBase/item/social-share",["dust"],function(a){var c=function(a,c){return a.write('\x3ca href\x3d"#" class\x3d\'social pinterest\' title\x3d"').helper("i18n",c,{},{msgid:"Share this post on Pinterest"}).write('" onclick\x3d"').reference(c.get("pinclick"),c,"h").write('"\x3e\x3c/a\x3e')};a.register("themeBase/item/social-share",function(a,j){return a.write('\x3cdiv data-gimme\x3d"post.share-social" class\x3d"share-box" style\x3d"visibility:hidden"\x3e\x3ca href\x3d"#" class\x3d\'social facebook\' target\x3d\'_blank\' title\x3d"').helper("i18n",j,
{},{msgid:"Share this post on Facebook"}).write('" onclick\x3d"').reference(j.get("fbclick"),j,"h").write("\"\x3e\x3c/a\x3e\x3ca href\x3d\"#\" class\x3d'social twitter' target\x3d'_blank' title\x3d\"").helper("i18n",j,{},{msgid:"Share this post on Twitter"}).write('" onclick\x3d"').reference(j.get("twtclick"),j,"h").write('"\x3e\x3c/a\x3e\x3ca href\x3d"#" class\x3d\'social linkedin\' title\x3d"').helper("i18n",j,{},{msgid:"Share this post on Linkedin"}).write('" onclick\x3d"').reference(j.get("linclick"),
j,"h").write('"\x3e\x3c/a\x3e').section(j.get("showPin"),j,{block:c},null).write('\x3ca href\x3d"#" class\x3d\'social google\' title\x3d"').helper("i18n",j,{},{msgid:"Share this post on Google+"}).write('" onclick\x3d"').reference(j.get("gglclick"),j,"h").write('"\x3e\x3c/a\x3e\x3ca href\x3d"').reference(j.get("emailurl"),j,"h").write("\" class\x3d'social email' title\x3d\"").helper("i18n",j,{},{msgid:"Share this post via Email"}).write('" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e')});return{render:function(c,
j){return a.render("themeBase/item/social-share",c,j)}}});
define("tmpl!themeBase/item/posttype/base",["dust"],function(a){var c=function(a,c){c=c.shiftBlocks(g);return a.reference(c.get("baseItem"),c,"h")},d=function(a,c){c.shiftBlocks(g);return a},j=function(a,c){c.shiftBlocks(g);return a};a.register("themeBase/item/posttype/base",function(a,e){e=e.shiftBlocks(g);return a.partial(c,e)});var g={contentCore:function(a,c){c=c.shiftBlocks(g);return a.block(c.getBlock("contenteBaseBefore"),c,{block:d},null).block(c.getBlock("contentText"),c,{block:j},null)}};
return{render:function(b,c){return a.render("themeBase/item/posttype/base",b,c)}}});define("tmpl!themeBase/item/posttype/normal",["dust"],function(a){a.register("themeBase/item/posttype/normal",function(a,j){j=j.shiftBlocks(c);return a.partial("themeBase/item/posttype/base",j)});var c={itemClass:function(a,j){j.shiftBlocks(c);return a.write("normal")}};return{render:function(c,j){return a.render("themeBase/item/posttype/normal",c,j)}}});
define("tmpl!themeBase/item/posttype/image",["dust"],function(a){a.register("themeBase/item/posttype/image",function(a,j){j=j.shiftBlocks(c);return a.partial("themeBase/item/posttype/base",j)});var c={item_class:function(a,j){j.shiftBlocks(c);return a.write("normal")}};return{render:function(c,j){return a.render("themeBase/item/posttype/image",c,j)}}});
define("tmpl!themeBase/item/posttype/wrapup",["dust"],function(a){var c=function(a,c){c.shiftBlocks(d);return a};a.register("themeBase/item/posttype/wrapup",function(a,c){c=c.shiftBlocks(d);return a.partial("themeBase/item/posttype/base",c)});var d={additionalAttributes:function(a,c){c.shiftBlocks(d);return a.write('data-gimme\x3d"post.wrapup" data-wrapup-open\x3d"wrapup-open"')},itemClass:function(a,c){c.shiftBlocks(d);return a.write("wrapup wrapup-open")},contenteBaseBefore:function(a,g){g=g.shiftBlocks(d);
return a.block(g.getBlock("wrapupIcon"),g,{block:c},null)}};return{render:function(c,d){return a.render("themeBase/item/posttype/wrapup",c,d)}}});define("tmpl!themeBase/item/posttype/quote",["dust"],function(a){a.register("themeBase/item/posttype/quote",function(a,j){j=j.shiftBlocks(c);return a.partial("themeBase/item/posttype/base",j)});var c={itemClass:function(a,j){j.shiftBlocks(c);return a.write("quote")}};return{render:function(c,j){return a.render("themeBase/item/posttype/quote",c,j)}}});
define("tmpl!themeBase/item/posttype/link",["dust"],function(a){a.register("themeBase/item/posttype/link",function(a,j){j=j.shiftBlocks(c);return a.partial("themeBase/item/posttype/base",j)});var c={itemClass:function(a,j){j.shiftBlocks(c);return a.write("link")}};return{render:function(c,j){return a.render("themeBase/item/posttype/link",c,j)}}});
define("tmpl!themeBase/item/posttype/infomercial",["dust"],function(a){a.register("themeBase/item/posttype/infomercial",function(a,j){j=j.shiftBlocks(c);return a.partial("themeBase/item/posttype/base",j)});var c={itemClass:function(a,j){j.shiftBlocks(c);return a.write("advertisement")}};return{render:function(c,j){return a.render("themeBase/item/posttype/infomercial",c,j)}}});
define("tmpl!themeBase/item/source/base",["dust"],function(a){var c=function(a,c){return a.reference(c.get("baseItem"),c,"h")};a.register("themeBase/item/source/base",function(a,j){return a.partial(c,j)});return{render:function(c,j){return a.render("themeBase/item/source/base",c,j)}}});
define("tmpl!themeBase/item/source/infomercial",["dust"],function(a){a.register("themeBase/item/source/infomercial",function(a,j){j=j.shiftBlocks(c);return a.partial("themeBase/item/source/base",j)});var c={itemClass:function(a,j){j.shiftBlocks(c);return a.write("advertisement")}};return{render:function(c,j){return a.render("themeBase/item/source/infomercial",c,j)}}});
define("tmpl!themeBase/item/source/google",["dust"],function(a){var c=function(a,c){c.shiftBlocks(d);return a};a.register("themeBase/item/source/google",function(a,c){c=c.shiftBlocks(d);return a.partial("themeBase/item/source/base",c)});var d={itemClass:function(a,g){g=g.shiftBlocks(d);return a.write("google ").block(g.getBlock("itemClassAdditional"),g,{block:c},null)},contentAttrName:function(a,c){c.shiftBlocks(d);return a.write("google.com")}};return{render:function(c,d){return a.render("themeBase/item/source/google",
c,d)}}});
define("tmpl!themeBase/item/source/google/web",["dust"],function(a){var c=function(a,b){b.shiftBlocks(e);return a},d=function(a,b){b.shiftBlocks(e);return a},j=function(a,b){b.shiftBlocks(e);return a},g=function(a,b){b.shiftBlocks(e);return a},b=function(a,b){b.shiftBlocks(e);return a};a.register("themeBase/item/source/google/web",function(a,b){b=b.shiftBlocks(e);return a.partial("themeBase/item/source/google",b)});var e={itemClassAdditional:function(a,b){b.shiftBlocks(e);return a.write("googlesearch")},contentCore:function(a,
b){b=b.shiftBlocks(e);return a.block(b.getBlock("contentExternalContainer"),b,{block:c},null).block(b.getBlock("contentAttr"),b,{block:d},null)},contentExternal:function(a,b){b=b.shiftBlocks(e);return a.block(b.getBlock("externalInfoContainer"),b,{block:j},null).block(b.getBlock("externalTextContainer"),b,{block:g},null)},externalInfo:function(a,c){c=c.shiftBlocks(e);return a.block(c.getBlock("externalInfoTitleContainer"),c,{block:b},null)},externalInfoTitle:function(a,b){b=b.shiftBlocks(e);return a.reference(b.getPath(!1,
["Meta","title"]),b,"h",["s"])},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(e);return a.reference(b.getPath(!1,["Meta","unescapedUrl"]),b,"h")},externalText:function(a,b){b=b.shiftBlocks(e);return a.reference(b.get("Content"),b,"h",["s"])}};return{render:function(b,c){return a.render("themeBase/item/source/google/web",b,c)}}});
define("tmpl!themeBase/item/source/google/news",["dust"],function(a){var c=function(a,b){b.shiftBlocks(e);return a},d=function(a,b){b.shiftBlocks(e);return a},j=function(a,b){b.shiftBlocks(e);return a},g=function(a,b){b.shiftBlocks(e);return a},b=function(a,b){b.shiftBlocks(e);return a};a.register("themeBase/item/source/google/news",function(a,b){b=b.shiftBlocks(e);return a.partial("themeBase/item/source/google",b)});var e={itemClassAdditional:function(a,b){b.shiftBlocks(e);return a.write("googlenews")},
contentCore:function(a,b){b=b.shiftBlocks(e);return a.block(b.getBlock("contentExternalContainer"),b,{block:c},null).block(b.getBlock("contentAttr"),b,{block:d},null)},contentExternal:function(a,b){b=b.shiftBlocks(e);return a.block(b.getBlock("externalInfoContainer"),b,{block:j},null).block(b.getBlock("externalTextContainer"),b,{block:g},null)},externalInfo:function(a,c){c=c.shiftBlocks(e);return a.block(c.getBlock("externalInfoTitleContainer"),c,{block:b},null)},externalInfoTitle:function(a,b){b=
b.shiftBlocks(e);return a.reference(b.getPath(!1,["Meta","title"]),b,"h",["s"])},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(e);return a.reference(b.getPath(!1,["Meta","unescapedUrl"]),b,"h")},externalText:function(a,b){b=b.shiftBlocks(e);return a.reference(b.get("Content"),b,"h",["s"])}};return{render:function(b,c){return a.render("themeBase/item/source/google/news",b,c)}}});
define("tmpl!themeBase/item/source/google/images",["dust"],function(a){var c=function(a,b){b.shiftBlocks(m);return a},d=function(a,b){b.shiftBlocks(m);return a},j=function(a,b){b.shiftBlocks(m);return a},g=function(a,b){b.shiftBlocks(m);return a},b=function(a,b){b.shiftBlocks(m);return a},e=function(a,b){b.shiftBlocks(m);return a};a.register("themeBase/item/source/google/images",function(a,b){b=b.shiftBlocks(m);return a.partial("themeBase/item/source/google",b)});var m={itemClassAdditional:function(a,
b){b.shiftBlocks(m);return a.write("googleimage")},contentCore:function(a,b){b=b.shiftBlocks(m);return a.block(b.getBlock("contentExternalContainer"),b,{block:c},null).block(b.getBlock("contentAttr"),b,{block:d},null)},contentExternal:function(a,c){c=c.shiftBlocks(m);return a.block(c.getBlock("extenalImageContainer"),c,{block:j},null).block(c.getBlock("externalInfoContainer"),c,{block:g},null).block(c.getBlock("externalTextContainer"),c,{block:b},null)},externalInfo:function(a,b){b=b.shiftBlocks(m);
return a.block(b.getBlock("externalInfoTitleContainer"),b,{block:e},null)},externalImageLink:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","originalContextUrl"]),b,"h")},externalImageSrc:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","url"]),b,"h")},externalImageAlt:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","visibleUrl"]),b,"h")},externalInfoTitle:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta",
"title"]),b,"h",["s"])},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","originalContextUrl"]),b,"h")},externalText:function(a,b){b=b.shiftBlocks(m);return a.reference(b.get("Content"),b,"h",["s"])}};return{render:function(b,c){return a.render("themeBase/item/source/google/images",b,c)}}});
define("tmpl!themeBase/item/source/twitter",["dust"],function(a){var c=function(b,a){a.shiftBlocks(l);return b},d=function(b,a){a.shiftBlocks(l);return b},j=function(b,a){a.shiftBlocks(l);return b},g=function(b,a){a.shiftBlocks(l);return b},b=function(b,a){a.shiftBlocks(l);return b},e=function(b,a){a.shiftBlocks(l);return b},m=function(b,a){a.shiftBlocks(l);return b},f=function(b,a){a.shiftBlocks(l);return b};a.register("themeBase/item/source/twitter",function(b,a){a=a.shiftBlocks(l);return b.partial("themeBase/item/source/base",
a)});var l={itemClass:function(a,b){b.shiftBlocks(l);return a.write("twitter")},contentCore:function(a,b){b=b.shiftBlocks(l);return a.block(b.getBlock("contentExternalContainer"),b,{block:c},null).block(b.getBlock("contentAttr"),b,{block:d},null)},contentExternal:function(a,c){c=c.shiftBlocks(l);return a.block(c.getBlock("externalAvatar"),c,{block:j},null).block(c.getBlock("externalInfoContainer"),c,{block:g},null).block(c.getBlock("externalTextContainer"),c,{block:b},null).block(c.getBlock("externalTwitterActions"),
c,{block:e},null)},externalInfo:function(b,a){a=a.shiftBlocks(l);return b.block(a.getBlock("externalInfoTitleContainer"),a,{block:m},null).block(a.getBlock("externalInfoUser"),a,{block:f},null)},externalInfoTitle:function(a,b){b=b.shiftBlocks(l);return a.reference(b.getPath(!1,["Meta","from_user_name"]),b,"h")},externalInfoTitleSrc:function(b,a){a=a.shiftBlocks(l);return b.write("//twitter.com/").reference(a.getPath(!1,["Meta","from_user"]),a,"h")},externalText:function(a,b){b=b.shiftBlocks(l);return a.reference(b.getPath(!1,
["Meta","text"]),b,"h",["twitter_all","s"])},externalInfoUser:function(b,a){a=a.shiftBlocks(l);return b.write("\x3cspan\x3e@").reference(a.getPath(!1,["Meta","from_user"]),a,"h").write("\x3c/span\x3e")},externalAvatarSrc:function(a,b){b=b.shiftBlocks(l);return a.reference(b.getPath(!1,["Meta","user","profile_image_url"]),b,"h")},externalTwitterActions:function(b,a){a=a.shiftBlocks(l);return b.write('\x3cdiv class\x3d"twitter-controls"\x3e \x3c!-- twitter buttons --\x3e\x3ca href\x3d"//twitter.com/intent/favorite?tweet_id\x3d').reference(a.getPath(!1,
["Meta","id_str"]),a,"h").write('" target\x3d"_blank" class\x3d"twitter-button favorites"\x3e').helper("i18n",a,{},{msgid:"Favorites"}).write('\x3c/a\x3e\x3ca href\x3d"//twitter.com/intent/retweet?tweet_id\x3d').reference(a.getPath(!1,["Meta","id_str"]),a,"h").write('" target\x3d"_blank" class\x3d"twitter-button retweet"\x3e').helper("i18n",a,{},{msgid:"Retweet"}).write('\x3c/a\x3e\x3ca href\x3d"//twitter.com/intent/tweet?in_reply_to\x3d').reference(a.getPath(!1,["Meta","id_str"]),a,"h").write('" target\x3d"_blank" class\x3d"twitter-button reply"\x3e').helper("i18n",
a,{},{msgid:"Reply"}).write("\x3c/a\x3e\x3c/div\x3e")},contentAttrName:function(a,b){b.shiftBlocks(l);return a.write("twitter.com")}};return{render:function(b,c){return a.render("themeBase/item/source/twitter",b,c)}}});
define("tmpl!themeBase/item/source/facebook",["dust"],function(a){var c=function(a,b){b.shiftBlocks(m);return a},d=function(a,b){b.shiftBlocks(m);return a},j=function(a,b){b.shiftBlocks(m);return a},g=function(a,b){b.shiftBlocks(m);return a},b=function(a,b){b.shiftBlocks(m);return a},e=function(a,b){b.shiftBlocks(m);return a};a.register("themeBase/item/source/facebook",function(a,b){b=b.shiftBlocks(m);return a.partial("themeBase/item/source/base",b)});var m={itemClass:function(a,b){b.shiftBlocks(m);
return a.write("facebook")},contentCore:function(a,b){b=b.shiftBlocks(m);return a.block(b.getBlock("contentExternalContainer"),b,{block:c},null).block(b.getBlock("contentAttr"),b,{block:d},null)},contentExternal:function(a,c){c=c.shiftBlocks(m);return a.block(c.getBlock("externalAvatar"),c,{block:j},null).block(c.getBlock("externalInfoContainer"),c,{block:g},null).block(c.getBlock("externalTextContainer"),c,{block:b},null)},externalInfo:function(a,b){b=b.shiftBlocks(m);return a.block(b.getBlock("externalInfoTitleContainer"),
b,{block:e},null)},externalInfoTitle:function(b,a){a=a.shiftBlocks(m);return b.reference(a.getPath(!1,["Meta","from","name"]),a,"h")},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","permalink"]),b,"h")},externalText:function(b,a){a=a.shiftBlocks(m);return b.reference(a.getPath(!1,["Meta","message"]),a,"h",["s"])},contentAttrName:function(a,b){b.shiftBlocks(m);return a.write("facebook.com")},externalAvatarSrc:function(a,b){b=b.shiftBlocks(m);return a.write("//graph.facebook.com/").reference(b.getPath(!1,
["Meta","from","id"]),b,"h").write("/picture")}};return{render:function(b,c){return a.render("themeBase/item/source/facebook",b,c)}}});
define("tmpl!themeBase/item/source/youtube",["dust"],function(a){var c=function(b,a){a.shiftBlocks(m);return b},d=function(b,a){a.shiftBlocks(m);return b},j=function(b,a){a.shiftBlocks(m);return b},g=function(b,a){a.shiftBlocks(m);return b},b=function(b,a){a.shiftBlocks(m);return b},e=function(b,a){a.shiftBlocks(m);return b};a.register("themeBase/item/source/youtube",function(b,a){a=a.shiftBlocks(m);return b.partial("themeBase/item/source/base",a)});var m={itemClass:function(b,a){a.shiftBlocks(m);
return b.write("youtube")},contentCore:function(b,a){a=a.shiftBlocks(m);return b.block(a.getBlock("contentExternalContainer"),a,{block:c},null).block(a.getBlock("contentAttr"),a,{block:d},null)},contentExternal:function(a,c){c=c.shiftBlocks(m);return a.block(c.getBlock("externalIframeContainer"),c,{block:j},null).block(c.getBlock("externalTextContainer"),c,{block:g},null).block(c.getBlock("externalInfoContainer"),c,{block:b},null)},externalInfo:function(a,b){b=b.shiftBlocks(m);return a.block(b.getBlock("externalInfoTitleContainer"),
b,{block:e},null)},externalInfoTitle:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","title"]),b,"h",["s"])},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(m);return a.write("//youtube.com/watch?v\x3d").reference(b.getPath(!1,["Meta","id"]),b,"h")},externalIframe:function(b,a){a=a.shiftBlocks(m);return b.write('\x3ciframe src\x3d"//youtube.com/embed/').reference(a.getPath(!1,["Meta","id"]),a,"h").write('?wmode\x3dopaque" class\x3d\'youtube-content\' width\x3d"560" height\x3d"315" frameborder\x3d"0" allowfullscreen\x3d"" \x3e\x3c/iframe\x3e')},
externalTextContainer:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","description"]),b,"h")},contentAttrName:function(b,a){a.shiftBlocks(m);return b.write("youtube.com")}};return{render:function(b,c){return a.render("themeBase/item/source/youtube",b,c)}}});
define("tmpl!themeBase/item/source/flickr",["dust"],function(a){var c=function(b,a){a.shiftBlocks(g);return b},d=function(b,a){a.shiftBlocks(g);return b},j=function(b,a){a.shiftBlocks(g);return b};a.register("themeBase/item/source/flickr",function(a,c){c=c.shiftBlocks(g);return a.partial("themeBase/item/source/base",c)});var g={itemClass:function(a,c){c.shiftBlocks(g);return a.write("flickr")},contentCore:function(a,e){e=e.shiftBlocks(g);return a.block(e.getBlock("contentExternalContainer"),e,{block:c},
null).block(e.getBlock("contentAttr"),e,{block:d},null)},contentExternal:function(a,c){c=c.shiftBlocks(g);return a.block(c.getBlock("extenalImageContainer"),c,{block:j},null)},externalImageLink:function(a,c){c=c.shiftBlocks(g);return a.write("//farm").reference(c.getPath(!1,["Meta","farm"]),c,"h").write(".staticflickr.com/").reference(c.getPath(!1,["Meta","server"]),c,"h").write("/").reference(c.getPath(!1,["Meta","id"]),c,"h").write("_").reference(c.getPath(!1,["Meta","secret"]),c,"h").write(".jpg")},
externalImageSrc:function(a,c){c=c.shiftBlocks(g);return a.write("//farm").reference(c.getPath(!1,["Meta","farm"]),c,"h").write(".staticflickr.com/").reference(c.getPath(!1,["Meta","server"]),c,"h").write("/").reference(c.getPath(!1,["Meta","id"]),c,"h").write("_").reference(c.getPath(!1,["Meta","secret"]),c,"h").write(".jpg")},externalImageAlt:function(a,c){c=c.shiftBlocks(g);return a.reference(c.getPath(!1,["Meta","title"]),c,"h")},contentAttrName:function(a,c){c.shiftBlocks(g);return a.write("flickr.com")}};
return{render:function(b,c){return a.render("themeBase/item/source/flickr",b,c)}}});
define("tmpl!themeBase/item/source/comments",["dust"],function(a){var c=function(a,b){b.shiftBlocks(e);return a},d=function(a,b){b.shiftBlocks(e);return a},j=function(a,b){b.shiftBlocks(e);return a},g=function(a,b){b=b.shiftBlocks(e);return a.reference(b.get("AuthorName"),b,"h")},b=function(a,b){b=b.shiftBlocks(e);return a.reference(b.getPath(!1,["Meta","AuthorName"]),b,"h")};a.register("themeBase/item/source/comments",function(a,b){b=b.shiftBlocks(e);return a.partial("themeBase/item/source/base",
b)});var e={itemClass:function(a,b){b.shiftBlocks(e);return a.write("usercomments")},contentCore:function(a,b){b=b.shiftBlocks(e);return a.block(b.getBlock("contenteBaseBefore"),b,{block:c},null).block(b.getBlock("contentText"),b,{block:d},null)},postDateContainer:function(a,b){b=b.shiftBlocks(e);return a.block(b.getBlock("createdDateContainer"),b,{block:j},null)},publisherName:function(a,c){c=c.shiftBlocks(e);return a.exists(c.getPath(!1,["Meta","AuthorName"]),c,{"else":g,block:b},null)}};return{render:function(b,
c){return a.render("themeBase/item/source/comments",b,c)}}});
define("tmpl!themeBase/item/source/soundcloud",["dust"],function(a){var c=function(a,c){c.shiftBlocks(g);return a},d=function(a,c){c.shiftBlocks(g);return a},j=function(a,c){c.shiftBlocks(g);return a};a.register("themeBase/item/source/soundcloud",function(a,c){c=c.shiftBlocks(g);return a.partial("themeBase/item/source/base",c)});var g={itemClass:function(a,c){c.shiftBlocks(g);return a.write("soundcloud")},contentCore:function(a,e){e=e.shiftBlocks(g);return a.block(e.getBlock("contentExternalContainer"),
e,{block:c},null).block(e.getBlock("contentAttr"),e,{block:d},null)},contentExternal:function(a,c){c=c.shiftBlocks(g);return a.block(c.getBlock("externalIframeContainer"),c,{block:j},null)},externalIframe:function(a,c){c=c.shiftBlocks(g);return a.write('\x3ciframe width\x3d"100%" height\x3d"166" scrolling\x3d"no" frameborder\x3d"no" src\x3d"//w.soundcloud.com/player/?url\x3d%2F%2Fapi.soundcloud.com%2Ftracks%2F').reference(c.getPath(!1,["Meta","id"]),c,"h").write('\x26show_artwork\x3dtrue"\x3e\x3c/iframe\x3e')},
contentAttrName:function(a,c){c.shiftBlocks(g);return a.write("soundcloud.com")}};return{render:function(b,c){return a.render("themeBase/item/source/soundcloud",b,c)}}});
define("tmpl!themeBase/item/source/instagram",["dust"],function(a){var c=function(a,c){c.shiftBlocks(b);return a},d=function(a,c){c.shiftBlocks(b);return a},j=function(a,c){c.shiftBlocks(b);return a},g=function(a,c){c.shiftBlocks(b);return a};a.register("themeBase/item/source/instagram",function(a,c){c=c.shiftBlocks(b);return a.partial("themeBase/item/source/base",c)});var b={itemClass:function(a,c){c.shiftBlocks(b);return a.write("instagram")},contentCore:function(a,g){g=g.shiftBlocks(b);return a.block(g.getBlock("contentExternalContainer"),
g,{block:c},null).block(g.getBlock("contentAttr"),g,{block:d},null)},contentExternal:function(a,c){c=c.shiftBlocks(b);return a.block(c.getBlock("extenalImageContainer"),c,{block:j},null).block(c.getBlock("externalTextContainer"),c,{block:g},null)},externalImageLink:function(a,c){c=c.shiftBlocks(b);return a.reference(c.getPath(!1,["Meta","images","standard_resolution","url"]),c,"h")},externalImageSrc:function(a,c){c=c.shiftBlocks(b);return a.reference(c.getPath(!1,["Meta","images","standard_resolution",
"url"]),c,"h")},externalImageAlt:function(a,c){c=c.shiftBlocks(b);return a.reference(c.getPath(!1,["Meta","caption","text"]),c,"h",["trim50"])},externalText:function(a,c){c=c.shiftBlocks(b);return a.reference(c.getPath(!1,["Meta","caption","text"]),c,"h")},contentAttrName:function(a,c){c.shiftBlocks(b);return a.write("instagram.com")}};return{render:function(b,c){return a.render("themeBase/item/source/instagram",b,c)}}});
define("tmpl!themeBase/item/source/sms",["dust"],function(a){var c=function(a,c){c.shiftBlocks(g);return a},d=function(a,c){c.shiftBlocks(g);return a},j=function(a,c){c.shiftBlocks(g);return a};a.register("themeBase/item/source/sms",function(a,c){c=c.shiftBlocks(g);return a.partial("themeBase/item/source/base",c)});var g={itemClass:function(a,c){c.shiftBlocks(g);return a.write("sms")},contentCore:function(a,e){e=e.shiftBlocks(g);return a.block(e.getBlock("contenteBaseBefore"),e,{block:c},null).block(e.getBlock("contentText"),
e,{block:d},null)},postDateContainer:function(a,c){c=c.shiftBlocks(g);return a.block(c.getBlock("createdDateContainer"),c,{block:j},null)},publisherName:function(a,c){c=c.shiftBlocks(g);return a.reference(c.getPath(!1,["Meta","Creator","Name"]),c,"h")}};return{render:function(b,c){return a.render("themeBase/item/source/sms",b,c)}}});
define("tmpl!themeBase/plugins/user-comment",["dust"],function(a){a.register("themeBase/plugins/user-comment",function(a,d){return a.write('\x3cdiv class\x3d"comment-box"\x3e\x3cform name\x3d"comment"\x3e\x3cdiv class\x3d"content"\x3e\x3cinput type\x3d"text" placeholder\x3d"').helper("i18n",d,{},{msgid:"Nickname"}).write('" id\x3d"comment-nickname"\x3e\x3cdiv class\x3d"error"\x3e').helper("i18n",d,{},{msgid:"Please fill in your Nickname."}).write('\x3c/div\x3e\x3ctextarea placeholder\x3d"').helper("i18n",
d,{},{msgid:"Your Comment"}).write('" id\x3d"comment-text"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"error"\x3e').helper("i18n",d,{},{msgid:"Please fill in your Comment text."}).write('\x3c/div\x3e\x3cdiv id\x3d"comment-token" data-public-key\x3d"6Le3_OISAAAAAFHYywwPBTceM563QA62HOSvxz4B"\x3e\x3c/div\x3e\x3cdiv class\x3d"error"\x3e').helper("i18n",d,{},{msgid:"Please fill in text from image."}).write('\x3c/div\x3e\x3cbutton type\x3d"submit" class\x3d"button send"\x3e').helper("i18n",d,{},{msgid:"Send"}).write('\x3c/button\x3e\x3cbutton type\x3d"reset" class\x3d"button cancel"\x3e').helper("i18n",
d,{},{msgid:"Cancel"}).write("\x3c/button\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e")});return{render:function(c,d){return a.render("themeBase/plugins/user-comment",c,d)}}});
define("views/post-templates","tmpl!themeBase/item/base tmpl!themeBase/item/social-share tmpl!themeBase/item/posttype/base tmpl!themeBase/item/posttype/normal tmpl!themeBase/item/posttype/image tmpl!themeBase/item/posttype/wrapup tmpl!themeBase/item/posttype/quote tmpl!themeBase/item/posttype/link tmpl!themeBase/item/posttype/infomercial tmpl!themeBase/item/source/base tmpl!themeBase/item/source/infomercial tmpl!themeBase/item/source/google tmpl!themeBase/item/source/google/web tmpl!themeBase/item/source/google/news tmpl!themeBase/item/source/google/images tmpl!themeBase/item/source/twitter tmpl!themeBase/item/source/facebook tmpl!themeBase/item/source/youtube tmpl!themeBase/item/source/flickr tmpl!themeBase/item/source/comments tmpl!themeBase/item/source/soundcloud tmpl!themeBase/item/source/instagram tmpl!themeBase/item/source/sms tmpl!themeBase/plugins/user-comment".split(" "),function(){});
define("views/post","jquery gizmo/superdesk dust jquery-path/tmpl jquery-path/utils utils/encode_url utils/date-format views/post-templates".split(" "),function(a,c,d){return function(){var j=c.View.extend({data:{},init:function(){var a=this;a.model.on("read update",function(b,c){a._parent.collection.isCollectionDeleted(a.model)||a.render(b,c)}).on("delete",a.remove,a);a.render()},remove:function(){this._parent.removeOne(this);this.el.remove();this.model.off("read update delete");return this},render:function(c,
b){var e=this;b=e.model.feed(!0);var j=parseFloat(e.model.get("Order"));e.templateData=b;!isNaN(e.order)&&j!=e.order&&e._parent.orderOne(e);b.Meta&&(b.Meta=b.Meta.replace(RegExp("http://","g"),"//"),b.Meta=a.parseJSON(b.Meta),b.AuthorName&&(b.Meta.Creator={Name:b.AuthorName}));b.Meta&&b.Meta.annotation&&(null===b.Meta.annotation[1]&&(b.Meta.annotation=b.Meta.annotation[0],b.Meta.annotation=a.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],b.Meta.annotation)),"string"!==typeof b.Meta.annotation?b.Meta.annotation[0]?
(j=b.Meta.annotation,b.Meta.annotation={before:a.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],j[0]),after:a.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],j[1])}):b.Meta.annotation={before:a.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],b.Meta.annotation.before),after:a.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],b.Meta.annotation.after)}:b.Meta.annotation=a.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],b.Meta.annotation));"smsblog"===b.Author.Source.Type.Key&&(e.item="/item/source/sms");e.item="embed"===b.Author.Source.Name?"/item/source/comments":
"True"===b.Author.Source.IsModifiable||"internal"===b.Author.Source.Name?"advertisement"===b.Type.Key?"/item/posttype/infomercial":"/item/posttype/"+b.Type.Key:"google"===b.Author.Source.Name?"/item/source/google/"+b.Meta.type:"advertisement"===b.Author.Source.Name?"/item/source/infomercial":"/item/source/"+b.Author.Source.Name;b.CreatedOn&&(j=new Date(Date.parse(b.CreatedOn)),b.CreatedOn=j.format(_("post-date")),b.CreatedOnISO=j.getTime());b.PublishedOn&&(j=new Date(Date.parse(b.PublishedOn)),b.PublishedOn=
j.format(_("post-date")),b.PublishedOnISO=j.getTime());b.Content&&liveblog.adminServer&&(b.Content=b.Content.replace(liveblog.adminServer,livedesk.frontendServer));"/item/source/comments"===e.item&&(b.Meta&&b.Meta.AuthorName)&&(j=b.Meta.AuthorName.replace("commentator",""),b.Meta.AuthorName=_("%(full_name)s commentator").format({full_name:j}));"/item/source/comments"===e.item&&b.AuthorName&&(j=b.AuthorName.replace("commentator",""),b.AuthorName=_("%(full_name)s commentator").format({full_name:j}));
j=e.item;e.item=d.defined("theme"+e.item)?"theme"+e.item:"themeBase"+e.item;b.baseItem=d.defined("theme/item/base")?"theme/item/base":"themeBase/item/base";b.frontendServer=liveblog.frontendServer;e.shortItem=j;a.dispatcher.triggerHandler("render.post-view",e);a.each(e.data,function(c,d){b[c]=a.isFunction(d)?d.call(e,b):d});a.tmpl(e.item,b,function(c,d){e.setElement(d);a(".sf-share",e.el).on(e.getEvent("click"),function(c){c.preventDefault();var d=a(this);if("yes"!=d.attr("data-added")){c=encodeURL(e._parent._parent.model.get("Title"));
var f=encodeURL(b.permalink),g=a(".result-content img:first",e.el).attr("src");g||(g=a("img:first").attr("src"));var j=encodeURL(a(".result-content .result-text:last",e.el).text()),g="http://pinterest.com/pin/create/button/?url\x3d"+f+"\x26media\x3d"+g+"\x26description\x3d"+c,l="https://plus.google.com/share?url\x3d"+f+"\x26t\x3d",m="mailto:?to\x3d\x26subject\x3d"+_("Check out this Live Blog")+"\x26body\x3d"+f,z="http://www.facebook.com/sharer.php?s\x3d100",z=z+("\x26p[title]\x3d"+c),z=z+("\x26p[summary]\x3d"+
j),z=z+("\x26p[url]\x3d"+f),F=0;a(".result-content img",e.el).each(function(){var b=a(this).attr("src");z+="\x26p[images]["+F+"]\x3d"+b;F++});c={fbclick:"liveblog.$.socialShareWindow('"+z+"',400,570); return false;",twtclick:"liveblog.$.socialShareWindow('http://twitter.com/home?status\x3d"+_("Now reading ")+c+": "+f+"',400,570); return false;",linclick:"liveblog.$.socialShareWindow('http://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d"+f+"\x26title\x3d"+c+"\x26summary\x3d"+j+"', 400, 570); return false;",
pinclick:"liveblog.$.socialShareWindow('"+g+"', 400, 700); return false;",gglclick:"liveblog.$.socialShareWindow('"+l+"', 400, 570); return false;",emailclick:"liveblog.$.socialShareWindow('"+m+"', 1024, 768); return false;",emailurl:m};a.tmpl("themeBase/item/social-share",c,function(a,b){d.after(b);d.attr("data-added","yes")})}c=a('[data-gimme\x3d"post.share-social"]',e.el);"visible"===c.css("visibility")?c.css("visibility","hidden"):(a('[data-gimme^\x3d"post.share"]',e.el).css("visibility","hidden"),
c.css("visibility","visible"))});a.dispatcher.triggerHandler("rendered-after.post-view",e)})}});a.dispatcher.triggerHandler("class.post-view",j);return j}});define("dispatcher",["jquery"],function(a){var c=function(){};c.prototype={on:function(c,j){a(this).on(c,function(a,b){j.call(b)})},triggerHandler:function(c,j){a(this).triggerHandler(c,[j])}};a.dispatcher=new c});
define("views/posts",["jquery","gizmo/view-events","views/post","dispatcher"],function(a,c,d){return function(){var j=d(),g=c.View.extend({events:{},_flags:{autoRender:!0,addAllPending:!1},_config:{timeInterval:1E4,data:{thumbSize:"medium"},collection:{xfilter:"PublishedOn, DeletedOn, Order, Id,CId, Content, CreatedOn, Type, AuthorName, Author.Source.Name, Author.Source.Id, Author.Source.IsModifiable,IsModified, AuthorImage,AuthorPerson.EMail, AuthorPerson.FirstName, AuthorPerson.LastName, AuthorPerson.Id,Meta, IsPublished, Creator.FullName, Author.Source.Type.Key"}},
pendingAutoupdates:[],init:function(){var b=this;b._views=[];a.each(b._config.collection,function(c,d){if(a.isArray(d))b.collection[c].apply(b.collection,d);else b.collection[c](d)});b.collection.on("read readauto",b.render,b).on("addings",b.addAll,b).on("addingsauto",b.addingsAuto,b).on("removeingsauto",b.removeAllAutoupdate,b).auto().autosync({data:b._config.data,preprocessTime:775})},removeOne:function(a){var c=this._views.indexOf(a),d=this.collection._list.indexOf(a.model);-1!==c&&(this.collection._stats.total--,
this._views.splice(c,1),-1!==d&&this.collection._list.splice(d,1));this.triggerHandler("remove",[a.model]);return this},addOne:function(a){var c=new j({model:a,_parent:this});a.postView=c;return this.orderOne(c)},orderOne:function(b){var c=this._views.indexOf(b);b.order=parseFloat(b.model.get("Order"));-1===c&&this._views.push(b);this._views.sort(function(a,b){return b.order-a.order});c=this._views.indexOf(b);if(0===c)if(1===this._views.length)if(this.el.children().length){var c=a('[data-gimme\x3d"posts.beforePage"]:last',
this.el),d=a('[data-gimme\x3d"posts.afterPage"]:first',this.el);c.length?c.after(b.el):d.length?d.before(b.el):this.el.prepend(b.el)}else this.el.append(b.el);else b.el.insertBefore(this._views[1].el);else b.el.insertAfter(this._views[c-1].el);return b},addingsAuto:function(a,c){c.length&&(this.pendingAutoupdates=this.pendingAutoupdates.concat(c));this.addAllAutoupdate(a)},addAllPending:function(){if(!this._flags.addAllPending&&this.pendingAutoupdates.length){this._flags.addAllPending=!0;this._parent.hideNewPosts();
for(var b=0,c=this.pendingAutoupdates.length;b<c;b++)this.addOne(this.pendingAutoupdates[b]);a.dispatcher.triggerHandler("added-pending.posts-view",this);this.triggerHandler("addingsauto",[this.pendingAutoupdates]);this.pendingAutoupdates=[]}this._flags.addAllPending=!1},removeAllAutoupdate:function(a,c){for(var d in c)"postView"in c[d]&&c[d].postView.remove()},addAllAutoupdate:function(b){this._flags.autoRender?(this.addAllPending(b),a.dispatcher.triggerHandler("added-auto.posts-view",this)):this._parent.showNewPosts(this.pendingAutoupdates.length)},
addAll:function(b,c){this.triggerHandler("addings",[c]);for(var d=0,f=c.length;d<f;d++)this.addOne(c[d]);c.length&&a.dispatcher.triggerHandler("add-all.posts-view",this)},render:function(b,c){this.collection.triggerHandler("rendered");this.addAll(b,c);a.dispatcher.triggerHandler("rendered-after.posts-view",this)}});a.dispatcher.triggerHandler("class.posts-view",g);return g}});
define("collections/autocollection",["jquery","gizmo/superdesk"],function(a,c){return c.Collection.extend({_timeInterval:1E4,_idInterval:0,_stats:{limit:15,offset:0,lastCId:0,firstOrder:Infinity,total:0},limit:function(a){this._stats.limit=a;return c.Collection.prototype.limit.call(this,a)},offset:function(a){this._stats.offset=a;return c.Collection.prototype.offset.call(this,a)},keep:!1,resetStats:function(){this._stats={limit:15,offset:0,lastCId:0,firstOrder:Infinity,total:0}},init:function(){var a=
this;a.model.on("publish reorder",function(c,g){a._stats.lastCId+1===parseInt(g.get("CId"))&&a._stats.lastCId++});a.on("read readauto",function(c,g,b){a._stats.offset=a._stats.limit;a._stats.total=parseInt(b.total);b.lastCId=parseInt(b.lastCId);b.lastCId>a._stats.lastCId&&(a._stats.lastCId=b.lastCId);a.getFirstOrder(g)}).on("readauto updatesauto addingsauto removeingsauto update",function(c,g){a.getLastCid(g);a.getFirstOrder(g)}).on("addingsauto",function(c,g){a._stats.total+=g.length;a._stats.offset+=
g.length}).on("removeingsauto",function(c,g){a._stats.total-=g.length;a._stats.offset-=g.length}).on("addings",function(c,g){a._stats.offset+=g.length})},destroy:function(){this.stop()},auto:function(a){var c=this;this.stop();this._idInterval=setInterval(function(){c.start(a)},this._timeInterval);return c},start:function(c){c=c||{};c=a.extend(!0,{data:{"cId.since":this._stats.lastCId},headers:{"X-Filter":this._xfilter,"X-Format-DateTime":"yyyy-MM-ddTHH:mm:ss'Z'"}},c);0===this._stats.lastCId&&delete c.data["cId.since"];
if(!this.keep&&this.view&&!this.view.checkElement())this.stop();else return this.autosync(c)},stop:function(){clearInterval(this._idInterval);return this},getFirstOrder:function(a){for(var c=0,g,b=a.length;c<b;c++)g=parseFloat(a[c].get("Order")),!isNaN(g)&&this._stats.firstOrder>g&&(this._stats.firstOrder=g)},getLastCid:function(a){for(var c=0,g,b=a.length;c<b;c++)g=parseInt(a[c].get("CId")),!isNaN(g)&&this._stats.lastCId<g&&(this._stats.lastCId=g)},autosync:function(a){var c=this;return this.href&&
this.syncAdapter.request.call(this.syncAdapter,this.href).read(a).done(function(a){var b=c.parseAttributes(a);a=c._parse(a);for(var d=[],m=[],f=[],l=[],w=c._list.length,p=0;p<a.length;p++){for(var x=!1,y=0;y<c._list.length;y++)if(a[p].hash()==c._list[y].hash()){x=a[p];break}if(x)if(c.hasEvent("updatesauto")&&f.push(x),c.isCollectionDeleted(x)&&(c._list.splice(y,1),c.hasEvent("removeingsauto")&&m.push(x)),x.isDeleted())x._remove();else if(x.isChanged())d.push(x);else x.on("delete",function(){c.remove(this.hash())}).on("garbage",
function(){this.desynced=!0});else c.isCollectionDeleted(a[p])?c.hasEvent("removeingsauto")&&c.hasEvent("removeingsauto")&&m.push(a[p]):a[p].isDeleted()?c.hasEvent("updatesauto")&&f.push(a[p]):(c._list.push(a[p]),d.push(a[p]),c.hasEvent("addingsauto")&&(Infinity===c._stats.firstOrder||c._stats.firstOrder<parseFloat(a[p].get("Order"))?l.push(a[p]):c.remove(a[p].hash())))}c.desynced=!1;0===w?c.triggerHandler("readauto",[c._list,b]):(f.length&&c.hasEvent("updatesauto")&&c.triggerHandler("updatesauto",
[f,b]),l.length&&c.hasEvent("addingsauto")&&c.triggerHandler("addingsauto",[l,b]),m.length&&c.hasEvent("removeingsauto")&&c.triggerHandler("removeingsauto",[m,b]),c.triggerHandler("updateauto",[d,b]))})}},{register:"AutoCollection"})});define("models/user",["gizmo/superdesk"],function(a){return a.Model.extend({},{register:"User"})});
define("models/post",["gizmo/superdesk","models/user","utils/extend"],function(a){return a.Model.extend({defaults:{Creator:a.Register.User},services:{flickr:!0,google:!0,twitter:!0,facebook:!0,youtube:!0},getClass:function(){switch(this.get("Type").Key){case "wrapup":return"wrapup";case "quote":return"quotation";case "advertisement":return"advertisement";default:return this.isService()?"service":"tw"}},isService:function(){return this.get("AuthorName")in this.services},isQuote:function(){return"quotation"==
this.getClass()},twitter:{link:{anchor:function(a){return a.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+/g,function(a){a=a.link(a);return a=a.replace('href\x3d"','target\x3d"_blank" href\x3d"')})},user:function(a){return a.replace(/[@]+[A-Za-z0-9-_]+/g,function(a){var c=a.replace("@","");a=a.link("http://twitter.com/"+c);return a=a.replace('href\x3d"','target\x3d"_blank" onclick\x3d"loadProfile(\''+c+'\');return(false);"  href\x3d"')})},tag:function(a){return a.replace(/[#]+[A-Za-z0-9-_]+/g,
function(a){var c=a.replace(" #"," %23");a=a.link("http://summize.com/search?q\x3d"+c);return a=a.replace('href\x3d"','target\x3d"_blank" href\x3d"')})},all:function(a){a=this.anchor(a);a=this.user(a);return a=this.tag(a)}}}},{register:"Post"})});
define("collections/posts",["gizmo/superdesk","collections/autocollection","models/post"],function(a){return a.Register.AutoCollection.extend({parse:function(a){return a.PostList?a.PostList:a},parseAttributes:function(a){return{lastCId:a.lastCId,offset:a.offset,offsetMore:a.offsetMore,total:a.total,limit:a.limit}},isCollectionDeleted:function(a){return"False"===a.get("IsPublished")},model:a.Register.Post},{register:"Posts"})});
define("models/blog",["gizmo/superdesk","collections/posts"],function(a){return a.Model.extend({url:new a.Url("LiveDesk/Blog"),defaults:{PostPublished:a.Register.Posts}},{register:"Blog"})});
define("tmpl!themeBase/container",["dust"],function(a){var c=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv id\x3d"livedesk-root" ').block(b.getBlock("additionalAttributes"),b,{block:d},null).write("\x3e").block(b.getBlock("main"),b,{block:j},null).write("\x3c/div\x3e")},d=function(a,b){b.shiftBlocks(u);return a},j=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-container"\x3e').block(b.getBlock("headerContainer"),b,{block:g},null).block(b.getBlock("contentContainer"),
b,{block:l},null).block(b.getBlock("footerContainer"),b,{block:Q},null).write("\x3c/div\x3e")},g=function(a,c){c=c.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-header"\x3e').block(c.getBlock("header"),c,{block:b},null).write("\x3c/div\x3e")},b=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("blogTitle"),b,{block:e},null).block(b.getBlock("blogDescription"),b,{block:m},null).block(b.getBlock("blogMedia"),b,{block:f},null)},e=function(a,b){b.shiftBlocks(u);return a},m=function(a,
b){b.shiftBlocks(u);return a},f=function(a,b){b.shiftBlocks(u);return a},l=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-content"\x3e').block(b.getBlock("userComment"),b,{block:w},null).block(b.getBlock("content"),b,{block:E},null)},w=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("userCommentBox"),b,{block:p},null).block(b.getBlock("userCommentBoxMessage"),b,{block:x},null).block(b.getBlock("userCommentBackdrop"),b,{block:y},null)},p=function(a,b){b.shiftBlocks(u);
return a},x=function(a,b){b.shiftBlocks(u);return a},y=function(a,b){b.shiftBlocks(u);return a},E=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("contentTopContainer"),b,{block:A},null).block(b.getBlock("contentMiddleContainer"),b,{block:G},null).block(b.getBlock("contentBottomContainer"),b,{block:M},null)},A=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-content-top"\x3e').block(b.getBlock("contentTop"),b,{block:B},null).write("\x3c/div\x3e")},B=function(a,
b){b=b.shiftBlocks(u);return a.block(b.getBlock("status"),b,{block:z},null).block(b.getBlock("statusNewPost"),b,{block:F},null).block(b.getBlock("actionUserComment"),b,{block:I},null).block(b.getBlock("actionTotop"),b,{block:C},null)},z=function(a,b){b.shiftBlocks(u);return a},F=function(a,b){b.shiftBlocks(u);return a},I=function(a,b){b.shiftBlocks(u);return a},C=function(a,b){b.shiftBlocks(u);return a},G=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-content-middle" id\x3d"wrapper"\x3e ').block(b.getBlock("contentMiddle"),
b,{block:D},null).write("\x3c/div\x3e")},D=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("postsList"),b,{block:J},null)},J=function(a,b){b.shiftBlocks(u);return a},M=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-content-bottom"\x3e').block(b.getBlock("contentBottom"),b,{block:N},null).write("\x3c/div\x3e")},N=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("actionUserComment"),b,{block:R},null).block(b.getBlock("actionTotop"),b,{block:S},null)},
R=function(a,b){b.shiftBlocks(u);return a},S=function(a,b){b.shiftBlocks(u);return a},Q=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-footer"\x3e').block(b.getBlock("footer"),b,{block:P},null).write("\x3c/div\x3e")},P=function(a,b){b.shiftBlocks(u);return a},K=function(a,b){b.shiftBlocks(u);return a.write(' style\x3d"display:none" ')},H=function(a,b){b.shiftBlocks(u);return a.write(' style\x3d"display:block" ')},L=function(a,b){b.shiftBlocks(u);return a.write(' style\x3d"display:none" ')},
O=function(a,b){b.shiftBlocks(u);return a.write(' style\x3d"display:block" ')},$=function(a,b){b=b.shiftBlocks(u);return a.partial(U,b)},U=function(a,b){b=b.shiftBlocks(u);return a.reference(b.getPath(!0,[]),b,"h")};a.register("themeBase/container",function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("mainContainer"),b,{block:c},null)});var u={blogTitle:function(a,b){b.shiftBlocks(u);return a.write('\x3ch3 data-gimme\x3d"blog.title"\x3e\x3c/h3\x3e')},blogMedia:function(a,b){b=b.shiftBlocks(u);
return a.write('\x3cdiv class\x3d"header-ad" data-gimme\x3d"blog.media-toggle" ').section(b.getPath(!1,["EmbedConfig","MediaToggle"]),b,{"else":K,block:H},null).write('\x3e\x3ca data-gimme\x3d"blog.media-url" href\x3d"').reference(b.getPath(!1,["EmbedConfig","MediaUrl"]),b,"h").write('" target\x3d"_blank"\x3e\x3cimg data-gimme\x3d"blog.media-image" src\x3d"').reference(b.getPath(!1,["EmbedConfig","MediaImage"]),b,"h").write('"\x3e\x3c/a\x3e\x3c/div\x3e')},blogDescription:function(a,b){b.shiftBlocks(u);
return a.write('\x3cp data-gimme\x3d"blog.description"\x3e\x3c/p\x3e')},status:function(a,b){b.shiftBlocks(u);return a.write('\x3cp data-gimme\x3d"blog.status" class\x3d"update-time"\x3e\x3c/p\x3e')},statusNewPost:function(a,b){b.shiftBlocks(u);return a.write('\x3ca data-gimme\x3d"posts.pending-message" class\x3d"new-posts-label"\x3e\x3c/a\x3e')},actionTotop:function(a,b){b=b.shiftBlocks(u);return a.write('\x3ca data-gimme\x3d"posts.to-top" class\x3d"pintotop button"\x3e').helper("i18n",b,{},{msgid:"to top"}).write("\x3c/a\x3e")},
actionUserComment:function(a,b){b=b.shiftBlocks(u);return a.write('\x3ca data-gimme\x3d"blog.comment" href\x3d"#" class\x3d"comment button" ').section(b.getPath(!1,["EmbedConfig","UserComments"]),b,{"else":L,block:O},null).write("\x3e").helper("i18n",b,{},{msgid:"comment"}).write("\x3c/a\x3e")},userCommentBox:function(a,b){b.shiftBlocks(u);return a.write('\x3cdiv data-gimme\x3d"blog.comment-box"\x3e\x3c/div\x3e')},userCommentBoxMessage:function(a,b){b.shiftBlocks(u);return a.write('\x3cdiv data-gimme\x3d"blog.comment-box-message"\x3e\x3c/div\x3e')},
userCommentBackdrop:function(a,b){b.shiftBlocks(u);return a.write('\x3cdiv data-gimme\x3d"blog.comment-box-backdrop"\x3e\x3c/div\x3e')},postsList:function(a,b){b=b.shiftBlocks(u);return a.write('\x3cul data-gimme\x3d"posts.list" class\x3d"liveblog-postlist"\x3e').section(b.getPath(!1,["Plugins","posts","list"]),b,{block:$},null).write("\x3c/ul\x3e")}};return{render:function(b,c){return a.render("themeBase/container",b,c)}}});
define("views/blog","jquery gizmo/view-events views/posts dispatcher jquery-path/tmpl models/blog tmpl!themeBase/container".split(" "),function(a,c,d){return function(){var j=d(),g=c.View.extend({events:{},_config:{timeInterval:1E4,idInterval:0,xfilter:"Description, Title, EmbedConfig, Language.Code"},init:function(){var a=this;a.model||(blog.url.decorate("%s/"+liveblog.id),blog.xfilter(a._config.xfilter));a.model.on("update",function(){a.ensureStatus();a.update()}).on("sync",function(){a.updateingStatus()}).on("synced",
function(){a.updateStatus()});a.auto();a.render()},auto:function(a){var c=this;ret=c.stop();c._config.idInterval=setInterval(function(){c.start(a)},c._config.timeInterval);return ret},start:function(){this.model.xfilter(this._config.xfilter).sync({force:!0});return this},stop:function(){clearInterval(this._config.idInterval);return this},ensureStatus:function(){var b;this.model.get("ClosedOn")&&(b=new Date(this.model.get("ClosedOn")),this.stop(),this.model.get("PostPublished").stop(),a('[data-gimme\x3d"blog.status"]',
this.el).html(_("The liveblog coverage was stopped ")+b.format(_("closed-date"))))},updateingStatus:function(){a('[data-gimme\x3d"blog.status"]',this.el).html(_("updating...")+"")},updateStatus:function(){var b=new Date;this.model.get("PostPublished");void 0===this.model.get("ClosedOn")&&(b='\x3ctime data-date\x3d"'+b.getTime()+'"\x3e'+b.format(_("status-date"))+"\x3c/time\x3e",a('[data-gimme\x3d"blog.status"]',this.el).html(_("updated at %s").format([b])));a.dispatcher.triggerHandler("update-status.blog-view",
this)},hideNewPosts:function(){a('[data-gimme\x3d"posts.pending-message"]',self.el).html("").hide()},showNewPosts:function(b){a('[data-gimme\x3d"posts.pending-message"]',this.el).html(ngettext("one new post","%(count)s new posts",b).format({count:b})).show()},render:function(){var b=this;b.el.tmpl("themeBase/container",b.model.feed(),function(){a.dispatcher.triggerHandler("rendered-before.blog-view",b);b.update();b.postsView=new j({el:a('[data-gimme\x3d"posts.list"]',b.el),collection:b.model.get("PostPublished"),
_parent:b});b.ensureStatus();b.updateStatus();a.dispatcher.triggerHandler("rendered-after.blog-view",b)})},update:function(){var b={};embCnfg=this.model.get("EmbedConfig");try{b=JSON.parse(embCnfg)}catch(c){}"undefined"!=typeof b.MediaToggle&&(b.MediaToggle?a('[data-gimme\x3d"blog.media-toggle"]',this.el).css("display","block"):a('[data-gimme\x3d"blog.media-toggle"]',this.el).css("display","none"));b.MediaUrl&&a('[data-gimme\x3d"blog.media-url"]',this.el).attr("href",b.MediaUrl);b.MediaImage&&a('[data-gimme\x3d"blog.media-image"]',
this.el).attr("src",b.MediaImage);a('[data-gimme\x3d"blog.title"]',this.el).html(this.model.get("Title"));a('[data-gimme\x3d"blog.description"]',this.el).html(this.model.get("Description"));a.isEmptyObject(b)||a.dispatcher.triggerHandler("config-updated.blog-view",{view:this,config:b})}});a.dispatcher.triggerHandler("class.blog-view",g);return g}});
define("utils/find-enviroment",[],function(){return function(){var a="desktop",c=!1,d=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(d)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(d.substr(0,
4)))c=!0;c&&(a="mobile");Boolean(navigator.userAgent.match(/(Large Screen)|GoogleTV/i))&&(a="big-screen");return a}});define("plugins",[],function(){return{}});
define("jquery-path/xdomainrequest",["jquery"],function(a){a.support.cors=!0;var c=0,d=0;this.XDomainRequest&&a.ajaxTransport("+*",function(j){if(j.crossDomain&&j.async){j.timeout&&(j.xdrTimeout=j.timeout,delete j.timeout);var g,b;return{send:function(e,m){function f(b,c,e,d){g.onload=g.onerror=g.ontimeout=a.noop;g=void 0;m(b,c,e,d)}g=new XDomainRequest;if(j.dataType){var l="";for(i in j.headers)l+=i+"\x3d"+encodeURIComponent(j.headers[i])+"\x26";l=l.replace(/(\s+)?.$/,"");j.url=j.url+(-1===j.url.indexOf("?")?
"?":"\x26")+l}g.open(j.type,j.url);b=j.processTime?j.processTime:80*c++;g.onload=function(){setTimeout(function(){f(200,"OK",{text:g.responseText},"Content-Type: "+g.contentType);c=0},d)};d=b;g.onerror=function(){f(404,"Not Found")};j.xdrTimeout&&(g.ontimeout=function(){f(0,"timeout")},g.timeout=j.xdrTimeout);j.preprocessTime?setTimeout(function(){g.send(j.hasContent&&j.data||null)},j.preprocessTime):g.send(j.hasContent&&j.data||null)},abort:function(){g&&(g.onerror=a.noop(),g.abort())}}}})});
define("i18n",["jquery","jquery-path/i18n","jquery-path/utils","jquery-path/xdomainrequest"],function(a){var c={},d=liveblog.frontendServer,j=liveblog.language;return{load:function(g,b,e,m){a.support.cors=!0;var f=d+"/content/cache/locale/plugin-"+g+"-"+j+".json";g=d+"/resources/Admin/Plugin/"+g+"/JSONLocale/"+j;var f=b.toUrl(f),l=b.toUrl(g);options={dataType:"json",preprocessTime:250,processTime:400,tryCount:0,retryLimit:2,statusCode:{500:function(){console.log("Oops! There seems to be a server problem, please try again later.")},
302:function(){console.log("Redirect")}},success:function(b){m.isBuild?c[g]=b:a.i18n.load(b);e(b)},errorTimeout:function(b,c){if("timeout"==c){this.tryCount++;if(this.tryCount<=this.retryLimit)return a.ajax(this),!0;console.log("We have tried "+this.retryLimit+" times and it is still not working. We give in. Sorry.");return!1}},error:function(b,c,e){this.errorTimeout(b,c,e)||(options.url=l,options.error=this.errorTimeout,a.ajax(options))}};options.url=f;a.ajax(options)},write:function(a,b,e){b in
c&&e('define("'+a+"!"+b+'", function(){ return '+c[b]+";});\n")}}});
define("require/normalize",["require","module"],function(a){function c(a,b,c,l){if(0===a.indexOf("data:"))return a;a=a.replace(j,"$1/");if(a.match(/^\//)||a.match(g))return a;var w=c.match(g),p=b.match(g);if(p&&(!w||w[1]!=p[1]||w[2]!=p[2]))return d(a,b);if(l)return l+a;a=d(a,b);c=c.split("/");c.pop();c=c.join("/")+"/";for(i=0;c.substr(i,1)==a.substr(i,1);)i++;for(;"/"!=c.substr(i,1);)i--;c=c.substr(i+1);a=a.substr(i+1);c=c.split("/");a=a.split("/");for(out="";c.shift();)out+="../";for(;curPart=a.shift();)out+=
curPart+"/";return out.substr(0,out.length-1)}function d(a,b){"./"==a.substr(0,2)&&(a=a.substr(2));var c=b.split("/"),d=a.split("/");for(c.pop();curPart=d.shift();)".."==curPart?c.pop():c.push(curPart);return c.join("/")}var j=/([^:])\/+/g,g=/[^\:\/]*:\/\/([^\/])*/,b=function(b,d,f,g,w){d=d.replace(j,"$1/");f=f.replace(j,"$1/");for(var p=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/ig,x,y;x=p.exec(b);){y=x[3]||x[2]||x[5]||x[6]||x[4];var E;E=w?g&&"/"==y.substr(0,
1)?g+y:c(y,d,f,w):a.toUrl(y);x=x[5]||x[6]?1:0;b=b.substr(0,p.lastIndex-y.length-x-1)+E+b.substr(p.lastIndex-x-1);p.lastIndex+=E.length-y.length}return b};b.convertURIBase=c;return b});
define("css",["require/normalize"],function(a){function c(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}if("undefined"==typeof window)return{load:function(a,b,c){c()}};var d=document.getElementsByTagName("head")[0],j=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/),g=!1;j&&(j[1]||j[7]?(g=6>parseInt(j[1])||9>=parseInt(j[7]),j="trident"):j[2]?(g=!0,j="webkit"):!j[3]&&j[4]&&(g=18>parseInt(j[4]),
j="gecko"));var b={},e=/^\/|([^\:\/]*:)/;b.pluginBuilder="core/require/css-builder";var m=[],f={},l=[];b.addBuffer=function(a){-1==c(m,a)&&-1==c(l,a)&&(m.push(a),l.push(a))};b.setBuffer=function(c,d){var g=window.location.pathname.split("/");g.pop();var g=g.join("/")+"/",j=require.toUrl("base_url").split("/");j.pop();j=j.join("/")+"/";j=a.convertURIBase(j,g,"/");j.match(e)||(j="/"+j);"/"!=j.substr(j.length-1,1)&&(j+="/");b.inject(a(c,j,g));for(g=0;g<m.length;g++)if(d&&".less"==m[g].substr(m[g].length-
5,5)||!d&&".css"==m[g].substr(m[g].length-4,4))(function(a){f[a]=f[a]||!0;setTimeout(function(){if("function"==typeof f[a])f[a]();delete f[a]},7)})(m[g]),m.splice(g--,1)};b.attachBuffer=function(a,b){for(var d=0;d<m.length;d++)if(m[d]==a)return f[a]=b,!0;if(!0===f[a])return f[a]=b,!0;if(-1!=c(l,a))return b(),!0};var w=function(a,b){setTimeout(function(){for(var c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].href==a.href)return b();w(a,b)},10)},p=function(a,b){setTimeout(function(){try{return a.sheet.cssRules,
b()}catch(c){}p(a,b)},10)};if("trident"==j&&g)var x=[],y=[],E=0,A=function(a){var b=y.shift();if(b){a.onload=function(){b.cb(b.ss);A(a)};var c=a.styleSheet;b.ss=c.imports[c.addImport(b.url)]}else a.onload=z,x.push(a)};var B=function(a){var b=document.createElement("link");b.type="text/css";b.rel="stylesheet";b.href=a;return b},z=function(){};b.linkLoad=function(a,b){var c=setTimeout(function(){b()},1E3*N-100),e=function(){clearTimeout(c);l&&(l.onload=z);setTimeout(b,7)};if(g)if("webkit"==j)l=B(a),
w(l,e),d.appendChild(l);else if("gecko"==j){var f=document.createElement("style");f.textContent='@import "'+a+'"';p(f,e);d.appendChild(f)}else"trident"==j&&(y.push({url:a,cb:e}),e=x.shift(),!e&&12>E++&&(e=document.createElement("style"),d.appendChild(e)),A(e));else{var l=B(a);l.onload=e;d.appendChild(l)}};var F=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],I={},C=0,G;b.inject=function(a){31>C&&(G=document.createElement("style"),G.type="text/css",d.appendChild(G),C++);G.styleSheet?G.styleSheet.cssText+=
a:G.appendChild(document.createTextNode(a))};var D=/@import\s*(url)?\s*(('([^']*)'|"([^"]*)")|\(('([^']*)'|"([^"]*)"|([^\)]*))\))\s*;?/g,J=window.location.pathname.split("/");J.pop();var J=J.join("/")+"/",M=function(b,c,d){b.match(e)||(b="/"+a.convertURIBase(b,J,"/"));var f=b,g=function(e){e=a(e,b,J);for(var f=[],g=[],j=[],l;l=D.exec(e);)f.push(l[4]||l[5]||l[7]||l[8]||l[9]),g.push(D.lastIndex-l[0].length),j.push(l[0].length);var m=0;for(l=0;l<f.length;l++)(function(a){M(f[a],function(b){e=e.substr(0,
g[a])+b+e.substr(g[a]+j[a]);b=b.length-j[a];for(var d=a+1;d<f.length;d++)g[d]+=b;m++;m==f.length&&c(e)},d)})(l);0==f.length&&c(e)};if(I[f])g(I[f]);else{var j,l,m;if("undefined"!==typeof XMLHttpRequest)j=new XMLHttpRequest;else if("undefined"!==typeof ActiveXObject)for(l=0;3>l;l+=1){m=F[l];try{j=new ActiveXObject(m)}catch(p){}if(j){F=[m];break}}j.open("GET",f,requirejs.inlineRequire?!1:!0);j.onreadystatechange=function(){var a;4===j.readyState&&(a=j.status,399<a&&600>a?(a=Error(f+" HTTP status: "+
a),a.xhr=j,d(a)):(I[f]=j.responseText,g(j.responseText)))};j.send(null)}};b.normalize=function(a,b){".css"==a.substr(a.length-4,4)&&(a=a.substr(0,a.length-4));return b(a)};var N;b.load=function(a,c,d,e,f){N=N||e.waitSeconds||7;a+=!f?".css":".less";b.attachBuffer(a,d)||(fileUrl=c.toUrl(a),f?M(fileUrl,function(a){f&&(a=f(a,function(a){b.inject(a);setTimeout(d,7)}))}):b.linkLoad(fileUrl,d))};return b});
define("core","jquery utils/date-format views/blog utils/find-enviroment plugins jquery-path/xdomainrequest i18n css".split(" "),function(a,c,d,j,g){c.masks["post-date"]=_("mm/dd/yyyy HH:MM");c.masks["status-date"]=_("HH:MM");c.masks["closed-date"]=_("mm/dd/yyyy HH:MM");c.i18n={dayNames:_("Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday").toString().split(","),monthNames:_("Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,January,February,March,April,May,June,July,August,September,October,November,December").toString().split(",")};
return function(b){a.each(g,function(a,c){c(b.get("EmbedConfig"))});new (d())({el:liveblog.el,model:b})}});
define("gettext",[],function(){Gettext=function(b){this.domain="messages";this.locale_data=void 0;var a=["domain","locale_data"];if(this.isValidObject(b))for(var d in b)for(var f=0;f<a.length;f++)d==a[f]&&this.isValidObject(b[d])&&(this[d]=b[d]);this.try_load_lang();return this};Gettext.context_glue="\u0004";Gettext._locale_data={};Gettext.prototype.try_load_lang=function(){if("undefined"!=typeof this.locale_data){var b=this.locale_data;this.locale_data=void 0;this.parse_locale_data(b);if("undefined"==
typeof Gettext._locale_data[this.domain])throw Error("Error: Gettext 'locale_data' does not contain the domain '"+this.domain+"'");}b=this.get_lang_refs();if("object"==typeof b&&0<b.length)for(var a=0;a<b.length;a++){var d=b[a];if("application/json"==d.type){if(!this.try_load_lang_json(d.href))throw Error("Error: Gettext 'try_load_lang_json' failed. Unable to exec xmlhttprequest for link ["+d.href+"]");}else if("application/x-po"==d.type){if(!this.try_load_lang_po(d.href))throw Error("Error: Gettext 'try_load_lang_po' failed. Unable to exec xmlhttprequest for link ["+
d.href+"]");}else throw Error("TODO: link type ["+d.type+"] found, and support is planned, but not implemented at this time.");}};Gettext.prototype.parse_locale_data=function(b){"undefined"==typeof Gettext._locale_data&&(Gettext._locale_data={});for(var a in b)if(b.hasOwnProperty(a)&&this.isValidObject(b[a])){var d=!1,f;for(f in b[a]){d=!0;break}if(d){d=b[a];""==a&&(a="messages");this.isValidObject(Gettext._locale_data[a])||(Gettext._locale_data[a]={});this.isValidObject(Gettext._locale_data[a].head)||
(Gettext._locale_data[a].head={});this.isValidObject(Gettext._locale_data[a].msgs)||(Gettext._locale_data[a].msgs={});for(var g in d)if(""==g){var c=d[g],e;for(e in c){var m=e.toLowerCase();Gettext._locale_data[a].head[m]=c[e]}}else Gettext._locale_data[a].msgs[g]=d[g]}}for(a in Gettext._locale_data)if(this.isValidObject(Gettext._locale_data[a].head["plural-forms"])&&"undefined"==typeof Gettext._locale_data[a].head.plural_func)if(b=Gettext._locale_data[a].head["plural-forms"],/^(\s*nplurals\s*=\s*[0-9]+\s*;\s*plural\s*=\s*(?:\s|[-\?\|&=!<>+*/%:;a-zA-Z0-9_()])+)/m.test(b))b=
Gettext._locale_data[a].head["plural-forms"],/;\s*$/.test(b)||(b=b.concat(";")),Gettext._locale_data[a].head.plural_func=new Function("n","var plural; var nplurals; "+b+' return { "nplural" : nplurals, "plural" : (plural \x3d\x3d\x3d true ? 1 : plural ? plural : 0) };');else throw Error("Syntax error in language file. Plural-Forms header is invalid ["+b+"]");else"undefined"==typeof Gettext._locale_data[a].head.plural_func&&(Gettext._locale_data[a].head.plural_func=function(b){return{nplural:2,plural:1!=
b?1:0}})};Gettext.prototype.try_load_lang_po=function(b){var a=this.sjax(b);if(a){b=this.uri_basename(b);var a=this.parse_po(a),d={};a&&(a[""]||(a[""]={}),a[""].domain||(a[""].domain=b),b=a[""].domain,d[b]=a,this.parse_locale_data(d));return 1}};Gettext.prototype.uri_basename=function(b){if(b=b.match(/^(.*\/)?(.*)/)){var a;return(a=b[2].match(/^(.*)\..+$/))?a[1]:b[2]}return""};Gettext.prototype.parse_po=function(b){var a={},d={},f="",g=[],c=b.split("\n");for(b=0;b<c.length;b++){c[b]=c[b].replace(/(\n|\r)+$/,
"");var e;if(/^$/.test(c[b])){if("undefined"!=typeof d.msgid){var f="undefined"!=typeof d.msgctxt&&d.msgctxt.length?d.msgctxt+Gettext.context_glue+d.msgid:d.msgid,m="undefined"!=typeof d.msgid_plural&&d.msgid_plural.length?d.msgid_plural:null,l=[],j;for(j in d)if(e=j.match(/^msgstr_(\d+)/))l[parseInt(e[1])]=d[j];l.unshift(m);1<l.length&&(a[f]=l);d={};f=""}}else/^#/.test(c[b])||((e=c[b].match(/^msgctxt\s+(.*)/))?(f="msgctxt",d[f]=this.parse_po_dequote(e[1])):(e=c[b].match(/^msgid\s+(.*)/))?(f="msgid",
d[f]=this.parse_po_dequote(e[1])):(e=c[b].match(/^msgid_plural\s+(.*)/))?(f="msgid_plural",d[f]=this.parse_po_dequote(e[1])):(e=c[b].match(/^msgstr\s+(.*)/))?(f="msgstr_0",d[f]=this.parse_po_dequote(e[1])):(e=c[b].match(/^msgstr\[0\]\s+(.*)/))?(f="msgstr_0",d[f]=this.parse_po_dequote(e[1])):(e=c[b].match(/^msgstr\[(\d+)\]\s+(.*)/))?(f="msgstr_"+e[1],d[f]=this.parse_po_dequote(e[2])):/^"/.test(c[b])?d[f]+=this.parse_po_dequote(c[b]):g.push("Strange line ["+b+"] : "+c[b]))}if("undefined"!=typeof d.msgid){f=
"undefined"!=typeof d.msgctxt&&d.msgctxt.length?d.msgctxt+Gettext.context_glue+d.msgid:d.msgid;m="undefined"!=typeof d.msgid_plural&&d.msgid_plural.length?d.msgid_plural:null;l=[];for(j in d)if(e=j.match(/^msgstr_(\d+)/))l[parseInt(e[1])]=d[j];l.unshift(m);1<l.length&&(a[f]=l)}if(a[""]&&a[""][1]){d={};j=a[""][1].split(/\\n/);for(b=0;b<j.length;b++)j.length&&(e=j[b].indexOf(":",0),-1!=e?(c=j[b].substring(0,e),e=j[b].substring(e+1),c=c.toLowerCase(),d[c]&&d[c].length?g.push("SKIPPING DUPLICATE HEADER LINE: "+
j[b]):/#-#-#-#-#/.test(c)?g.push("SKIPPING ERROR MARKER IN HEADER: "+j[b]):(e=e.replace(/^\s+/,""),d[c]=e)):(g.push("PROBLEM LINE IN HEADER: "+j[b]),d[j[b]]=""));a[""]=d}else a[""]={};return a};Gettext.prototype.parse_po_dequote=function(b){var a;if(a=b.match(/^"(.*)"/))b=a[1];return b=b.replace(/\\"/g,'"')};Gettext.prototype.try_load_lang_json=function(b){if(b=this.sjax(b))return b=this.JSON(b),this.parse_locale_data(b),1};Gettext.prototype.get_lang_refs=function(){for(var b=[],a=document.getElementsByTagName("link"),
d=0;d<a.length;d++)if("gettext"==a[d].rel&&a[d].href){if("undefined"==typeof a[d].type||""==a[d].type)if(/\.json$/i.test(a[d].href))a[d].type="application/json";else if(/\.js$/i.test(a[d].href))a[d].type="application/json";else if(/\.po$/i.test(a[d].href))a[d].type="application/x-po";else if(/\.mo$/i.test(a[d].href))a[d].type="application/x-mo";else throw Error("LINK tag with rel\x3dgettext found, but the type and extension are unrecognized.");a[d].type=a[d].type.toLowerCase();if("application/json"==
a[d].type)a[d].type="application/json";else if("text/javascript"==a[d].type)a[d].type="application/json";else if("application/x-po"==a[d].type)a[d].type="application/x-po";else if("application/x-mo"==a[d].type)a[d].type="application/x-mo";else throw Error("LINK tag with rel\x3dgettext found, but the type attribute ["+a[d].type+"] is unrecognized.");b.push(a[d])}return b};Gettext.prototype.textdomain=function(b){b&&b.length&&(this.domain=b);return this.domain};Gettext.prototype.gettext=function(b){return this.dcnpgettext(null,
void 0,b,void 0,void 0,void 0)};Gettext.prototype.dgettext=function(b,a){return this.dcnpgettext(b,void 0,a,void 0,void 0,void 0)};Gettext.prototype.dcgettext=function(b,a,d){return this.dcnpgettext(b,void 0,a,void 0,void 0,d)};Gettext.prototype.ngettext=function(b,a,d){return this.dcnpgettext(null,void 0,b,a,d,void 0)};Gettext.prototype.dngettext=function(b,a,d,f){return this.dcnpgettext(b,void 0,a,d,f,void 0)};Gettext.prototype.dcngettext=function(b,a,d,f,g){return this.dcnpgettext(b,void 0,a,d,
f,g,g)};Gettext.prototype.pgettext=function(b,a){return this.dcnpgettext(null,b,a,void 0,void 0,void 0)};Gettext.prototype.dpgettext=function(b,a,d){return this.dcnpgettext(b,a,d,void 0,void 0,void 0)};Gettext.prototype.dcpgettext=function(b,a,d,f){return this.dcnpgettext(b,a,d,void 0,void 0,f)};Gettext.prototype.npgettext=function(b,a,d,f){return this.dcnpgettext(null,b,a,d,f,void 0)};Gettext.prototype.dnpgettext=function(b,a,d,f,g){return this.dcnpgettext(b,a,d,f,g,void 0)};Gettext.prototype.dcnpgettext=
function(b,a,d,f,g){if(!this.isValidObject(d))return"";var c=this.isValidObject(f);a=this.isValidObject(a)?a+Gettext.context_glue+d:d;var e=this.isValidObject(b)?b:this.isValidObject(this.domain)?this.domain:"messages";b=[];if("undefined"!=typeof Gettext._locale_data&&this.isValidObject(Gettext._locale_data[e]))b.push(Gettext._locale_data[e]);else if("undefined"!=typeof Gettext._locale_data)for(var m in Gettext._locale_data)b.push(Gettext._locale_data[m]);m=[];var e=!1,l;if(b.length)for(var j=0;j<
b.length;j++){var w=b[j];if(this.isValidObject(w.msgs[a])){for(l=0;l<w.msgs[a].length;l++)m[l]=w.msgs[a][l];m.shift();l=w;e=!0;if(0<m.length&&0!=m[0].length)break}}if(0==m.length||0==m[0].length)m=[d,f];d=m[0];c&&(e&&this.isValidObject(l.head.plural_func)?(g=l.head.plural_func(g),g.plural||(g.plural=0),g.nplural||(g.nplural=0),g.nplural<=g.plural&&(g.plural=0),g=g.plural):g=1!=g?1:0,this.isValidObject(m[g])&&(d=m[g]));return d};Gettext.strargs=function(b,a){null==a||"undefined"==typeof a?a=[]:a.constructor!=
Array&&(a=[a]);for(var d="";;){var f=b.indexOf("%"),g;if(-1==f){d+=b;break}d+=b.substr(0,f);if("%%"==b.substr(f,2))d+="%",b=b.substr(f+2);else if(g=b.substr(f).match(/^%(\d+)/)){var c=parseInt(g[1]);g=g[1].length;0<c&&(null!=a[c-1]&&"undefined"!=typeof a[c-1])&&(d+=a[c-1]);b=b.substr(f+1+g)}else d+="%",b=b.substr(f+1)}return d};Gettext.prototype.strargs=function(b,a){return Gettext.strargs(b,a)};Gettext.prototype.isArray=function(b){return this.isValidObject(b)&&b.constructor==Array};Gettext.prototype.isValidObject=
function(b){return null==b?!1:"undefined"==typeof b?!1:!0};Gettext.prototype.JSON=function(b){return eval("("+b+")")};return Gettext});define("utils/utf8-pass",[],function(){return{encode:function(b){return b},decode:function(b){return b}}});
define("utils/str",["utils/utf8-pass"],function(b){str=function(b){this.init(b)};str.prototype={init:function(b){this.str=b},format:function(){var a=arguments,d=0;1==a.length&&"object"==typeof a[0]&&(a=a[0]);return b.decode(this.str.replace(/%?%(?:\(([^\)]+)\))?([disr])/g,function(b,g,c){if(b[0]&&b[0]==b[1])return b.substring(1);g=a[g||d++];return"undefined"===typeof g?b:"i"==c||"d"==c?+g:g}))},toString:function(){return b.decode(this.str)}};return str});
define("jquery-path/utils",["jquery"],function(b){b.trimTag=function(b,d){function f(b,a){for(var f=a,d=0;;){d++;var f=b,j=a;"string"!=typeof j&&(j="");var g=j.length,p=f.length;0===j.indexOf(f)&&(j=j.substr(p,g));g=j.length;j.substr(g-p,g)==f&&(j=j.substr(0,g-p));f=j;if(f==a)break;a=f;if(100<d)break}return f}if("string"===typeof b)d=f(b,d);else for(var g=0;g<b.length;g++)d=f(b[g],d);return d};b.isString=function(b){return b&&"string"===typeof b};b.isObject=function(b){return b&&"object"===typeof b};
b.isDefined=function(b){return b&&"undefined"!==typeof b};b.combineObj=function(a,d){var f={};if(b.isArray(d))for(i=0;i<a.length;i++)f[a[i]]=d[i];if(b.isFunction(d))for(i=0;i<a.length;i++)f[a[i]]=d;return f};b.arrayValues=function(b){var d=[];for(i in b)d.push(b[i]);return d};b.mergeObj=function(a,d){if(2<arguments.length)for(i=2;i<arguments.length;i++)if(map=arguments[i],b.isString(map)&&(map=map.split(",")),b.isArray(map))for(k=0;k<map.length;k++)a[map[k]]=d[map[k]];else{if(b.isObject(map))for(k in map)a[k]=
b.isFunction(map[k])?map[k](d,k):d[map[k]]}else for(i in a)a[i]=d[i]};b.styledNodeHtml=function(a){a=b(a);if(a.attr("style")&&""!==a.attr("style")){var d=b("\x3cspan/\x3e");b('\x3cspan style\x3d"'+a.attr("style")+'" /\x3e').append(a.html()).appendTo(d);return d.html()}return a.html()};b.socialShareWindow=function(b,d,f){window.open(b,"","resizable, height\x3d"+d+", width\x3d"+f).focus();return!1};b.extend(b.browser,{language:window.navigator.userLanguage||window.navigator.language})});
define("jquery-path/i18n",["gettext","utils/str","jquery","jquery-path/utils"],function(b,a,d){i18n=function(){this.init()};i18n.prototype={gt:{},dataUrl:{},mapper:"gettext ngettext pgettext dgettext npgettext dngettext dpgettext dnpgettext dcnpgettext".split(" "),mapperGenerator:function(b,d){return function(){return new a(b[d].apply(b,arguments))}},init:function(){this.gt=new b;b.context_glue=":";aux=d.combineObj(this.mapper,this.mapperGenerator);d.mergeObj(this,this.gt,d.combineObj(this.mapper,
this.mapperGenerator))},load:function(b){this.gt.parse_locale_data(b);return this},install:function(){d.mergeObj(window,this,this.mapper,{_:"gettext",C_:"pgettext",N_:function(){return function(b){return new a(b)}},NC_:function(){return function(b,d){return new a(d)}}})}};I18n=new i18n;I18n.install();d.extend(d,{i18n:I18n})});
define("utils/date-format",["jquery","jquery-path/i18n"],function(){var b,a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,d=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,f=/[^-+\dA-Z]/g,g=function(b,e){b=String(b);for(e=e||2;b.length<e;)b="0"+b;return b};b=function(c,e,m){1==arguments.length&&("[object String]"==Object.prototype.toString.call(c)&&!/\d/.test(c))&&(e=c,c=void 0);c=c?new Date(c):
new Date;if(isNaN(c))throw SyntaxError("invalid date");e=String(b.masks[e]||e||b.masks["default"]);"UTC:"==e.slice(0,4)&&(e=e.slice(4),m=!0);var l=m?"getUTC":"get",j=c[l+"Date"](),w=c[l+"Day"](),p=c[l+"Month"](),x=c[l+"FullYear"](),y=c[l+"Hours"](),E=c[l+"Minutes"](),A=c[l+"Seconds"](),l=c[l+"Milliseconds"](),B=m?0:c.getTimezoneOffset(),z={d:j,dd:g(j),ddd:b.i18n.dayNames[w],dddd:b.i18n.dayNames[w+7],m:p+1,mm:g(p+1),mmm:b.i18n.monthNames[p],mmmm:b.i18n.monthNames[p+12],yy:String(x).slice(2),yyyy:x,
h:y%12||12,hh:g(y%12||12),H:y,HH:g(y),M:E,MM:g(E),s:A,ss:g(A),l:g(l,3),L:g(99<l?Math.round(l/10):l),t:12>y?"a":"p",tt:12>y?"am":"pm",T:12>y?"A":"P",TT:12>y?"AM":"PM",Z:m?"UTC":(String(c).match(d)||[""]).pop().replace(f,""),o:(0<B?"-":"+")+g(100*Math.floor(Math.abs(B)/60)+Math.abs(B)%60,4),S:["th","st","nd","rd"][3<j%10?0:(10!=j%100-j%10)*j%10]};return e.replace(a,function(b){return b in z?z[b]:b.slice(1,b.length-1)})};b.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",
longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};b.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
Date.prototype.format=function(c,e){return b(this,c,e)};return b});define("utils/class",[],function(){var b=!1,a=function(){};a.extend=function(a,f){function g(){if(!b&&(this._constructor||this._construct))try{return(this._construct||this._constructor).apply(this,arguments)}catch(c){console.error(c)}}b=!0;var c=new this;b=!1;for(var e in a)c[e]=a[e];g.prototype=c;g.prototype.constructor=g;g.extend=arguments.callee;return g};return a});
define("utils/extend",[],function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(b){if(null==this)throw new TypeError;var c=Object(this),e=c.length>>>0;if(0===e)return-1;var a=0;1<arguments.length&&(a=Number(arguments[1]),a!=a?a=0:0!=a&&(Infinity!=a&&-Infinity!=a)&&(a=(0<a||-1)*Math.floor(Math.abs(a))));if(a>=e)return-1;for(a=0<=a?a:Math.max(e-Math.abs(a),0);a<e;a++)if(a in c&&c[a]===b)return a;return-1});if(!Object.keys){var b=Object,a=Object.prototype.hasOwnProperty,d=!{toString:null}.propertyIsEnumerable("toString"),
f="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),g=f.length;b.keys=function(b){if("object"!==typeof b&&"function"!==typeof b||null===b)throw new TypeError("Object.keys called on non-object");var c=[],e;for(e in b)a.call(b,e)&&c.push(e);if(d)for(e=0;e<g;e++)a.call(b,f[e])&&c.push(f[e]);return c}}Array.prototype.forEach||(Array.prototype.forEach=function(b,c){for(var a=0,e=this.length;a<e;++a)b.call(c||this,this[a],a,this)});Function.prototype.bind||
(Function.prototype.bind=function(b){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),a=this,e=function(){},f=function(){return a.apply(this instanceof e?this:b,c.concat(Array.prototype.slice.call(arguments)))};e.prototype=this.prototype;f.prototype=new e;return f});String.prototype.trim||(String.prototype.trim=function(){for(var b=this.replace(/^\s\s*/,""),c=/\s/,a=b.length;c.test(b.charAt(--a)););
return b.slice(0,a+1)});var c=Date,e=c.parse,m=[1,4,5,6,7,10,11];c.parse=function(b){var a,f=0;if(a=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(b)){b=0;for(var d;d=m[b];++b)a[d]=+a[d]||0;a[2]=(+a[2]||1)-1;a[3]=+a[3]||1;"Z"!==a[8]&&void 0!==a[9]&&(f=60*a[10]+a[11],"+"===a[9]&&(f=0-f));a=c.UTC(a[1],a[2],a[3],a[4],a[5]+f,a[6],a[7])}else a=e?e(b):NaN;return a};if(!Date.prototype.toISOString){var l=function(b){b=
String(b);1===b.length&&(b="0"+b);return b};Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+l(this.getUTCMonth()+1)+"-"+l(this.getUTCDate())+"T"+l(this.getUTCHours())+":"+l(this.getUTCMinutes())+":"+l(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}}String.prototype.trunc=function(b,c){var a=this.length>b,e=a?this.substr(0,b-1):this,e=c&&a?e.substr(0,e.lastIndexOf(" ")):e;return a?e+"...":e}});
define("gizmo",["jquery","utils/class","utils/extend"],function(b,a){function d(b,c){var a;if("undefined"==typeof b||"undefined"==typeof c)return!0;for(a in c)if("undefined"==typeof b[a])return!0;for(a in b)if("undefined"==typeof c[a])return!0;for(a in c)if(c[a])switch(typeof c[a]){case "object":if(d(c[a],b[a]))return!0;break;case "function":if("undefined"==typeof b[a]||c[a].toString()!=b[a].toString())return!0;break;default:if(c[a]!=b[a])return!0}else if(b[a])return!0;return!1}var f=function(){},
g=function(){},c=function(){this.items={}},e=function(){},m=a.extend({_construct:function(a){this.data=!this.data?{root:""}:{root:this.data.root};switch(b.type(a)){case "string":this.data.url=a;break;case "array":this.data.url=a[0];void 0!==a[1]&&(this.data.xfilter=url[0]);break;case "object":this.data.url=a.url,void 0!==a.xfilter&&(this.data.xfilter=a.xfilter)}return this},xfilter:function(){this.data.xfilter=1<arguments.length?b.makeArray(arguments).join(","):b.isArray(arguments[0])?arguments[0].join(","):
arguments[0];return this},root:function(b){this.data.root=b;return this},get:function(){return this.data.root+this.data.url},getUrl:function(){return this.data.root+this.data.url},set:function(b){this.data.url=b},order:function(b,a){this.data.order=a+"\x3d"+b;return this},filter:function(b,a){this.data.filter=b+"\x3d"+a;return this},decorate:function(b){this.data.url=b.replace(/(%s)/g,this.data.url)},options:function(){var b={};this.data.xfilter&&(b.headers={"X-Filter":this.data.xfilter});return b}}),
l={request:function(a){var c=this,e=function(e,f,d){b.support.cors=!0;a instanceof m?(f=b.extend(!0,{},f,c.options,d,{data:e},a.options()),e=b.ajax(c.href(a.get()),f)):(f=b.extend(!0,{},f,c.options,d,"object"==b.type(e)&&Object.keys(e).length?{data:e}:null),e=b.ajax(c.href(a),f));c.reset();f.fail&&e.fail(f.fail);f.done&&e.done(f.done);f.always&&e.always(f.always);return e};return{read:function(b){return e({},c.readOptions,b)},update:function(b,a){return e(b,c.updateOptions,a)},insert:function(b,a){return e(b,
c.insertOptions,a)},remove:function(b){return e({},c.removeOptions,b)}}},href:function(b){return b},reset:b.noop,options:{},readOptions:{dataType:"json",type:"get",headers:{Accept:"text/json"}},updateOptions:{type:"post",headers:{"X-HTTP-Method-Override":"PUT"}},insertOptions:{dataType:"json",type:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}},removeOptions:{type:"get",headers:{"X-HTTP-Method-Override":"DELETE"}}},j=0;g.prototype={_changed:!1,_new:!1,defaults:{},
data:{},_construct:function(a,c){this._clientId=j++;this.data={};this._parseHash(a);this._new=!0;var e=this.pushUnique?this.pushUnique():this;e._forDelete=!1;e.clearChangeset();e._clientHash=null;"object"==typeof a&&e._parse(a);e._setExpiration();e.isDeleted()?e._remove():b.isEmptyObject(e.changeset)?e.clearChangeset().triggerHandler("read"):e.triggerHandler("update",e.changeset).clearChangeset();c=b.extend({},{init:!0},this.options);c.init&&this.init.apply(this,arguments);return e},init:function(){},
syncAdapter:l,feed:function(b,a,c){var e={};a="boolean"==typeof b?b:a;b=c?c:this.data;for(var f in b)b[f]instanceof g?e[f]=a?b[f].feed(a):b[f].relationHash()||b[f].hash():"function"!==typeof b[f]&&(e[f]=b[f]);return e},setHref:function(b){this.href=b;return this},_setToUrl:function(){!this.href&&this.url&&this.setHref(this.url.get())},sync:function(a,c){var e=this,f=b.Deferred(),d=function(){return e.syncAdapter.request.apply(e.syncAdapter,arguments)};e._setToUrl();this.hash();e.triggerHandler("sync");
if(this._forDelete)return d(a||this.href).remove().done(function(){e._remove()});if(this._clientHash){var f=a||this.href,j=this.feed();if(this.insertExcludes)for(var l=0;l<this.insertExcludes.length;l++)delete j[this.insertExcludes[l]];return d(f).insert(j).done(function(b){e._changed=!1;e._parseHash(b);e._parse(b);e._uniq&&e._uniq.replace(e._clientHash,e.hash(),e);e._clientHash=null;e.triggerHandler("insert").Class.triggerHandler("insert",e);e.triggerHandler("synced")})}if(this._changed)if(b.isEmptyObject(this.changeset))f.resolve();
else{j=c?this.feed():this.feed("json",!1,this.changeset);if(this.insertExcludes)for(l=0;l<this.insertExcludes.length;l++)delete j[this.insertExcludes[l]];f=this.href&&d(this.href).update(j).done(function(){e.triggerHandler("update",e.changeset).clearChangeset();e.triggerHandler("synced")})}else(!a||!a.force)&&this.exTime&&this.exTime>new Date?e.isDeleted()||(e.triggerHandler("update"),e.triggerHandler("synced")):f=this.href&&d(this.href).read(a).done(function(a){e._parse(a);e.isDeleted()?e._remove():
b.isEmptyObject(e.changeset)?e.clearChangeset().triggerHandler("read"):e.triggerHandler("update",e.changeset).clearChangeset();e.triggerHandler("synced")});this._setExpiration();return f},_setExpiration:function(){this.exTime=new Date;this.exTime.setSeconds(this.exTime.getSeconds()+5)},_remove:function(){this.triggerHandler("delete");this._uniq&&this._uniq.remove(this.hash())},remove:function(){this._forDelete=!0;return this},isDeleted:function(){return this._forDelete},modelDataBuild:function(b){return b},
parse:function(b){return b},_parse:function(a){a=a instanceof g?a.data:this.parse(a);if(!a._parsed){for(var c in a){if(this.defaults[c])switch(!0){case "function"===typeof this.defaults[c]&&void 0===this.data[c]:var f=this.modelDataBuild(new this.defaults[c](a[c]));!this._new&&(f!=this.data[c]&&!(f instanceof e))&&(this.changeset[c]=f);this.data[c]=f;!a[c].href&&this.data[c].relationHash&&this.data[c].relationHash(a[c]);continue;case b.isArray(this.defaults[c]):this.data[c]=this.modelDataBuild(new e(this.defaults[c][0],
a[c].href));delete this.data[c];continue;case this.defaults[c]instanceof e:case this.defaults[c]instanceof g:this.data[c]=this.defaults[c];continue}else this._new||("object"===b.type(a[c])?d(this.data[c],a[c])&&(this.changeset[c]=a[c]):this.data[c]!=a[c]&&(this.changeset[c]=a[c]));"object"===b.type(a[c])&&"object"===b.type(this.data[c])?b.extend(!0,this.data[c],a[c]):this.data[c]=a[c]}if(this._new)for(c in this.defaults)"undefined"===b.type(this.data[c])&&(this.data[c]=this.defaults[c]);this._new=
this.href?!1:!0;a._parsed=!0}},_parseHash:function(b){"string"==typeof b?this.href=b:b&&void 0!==b.href?this.href=b.href:b&&(void 0!==b.id&&void 0!==this.url)&&(this.href=this.url+b.id);return this},isChanged:function(){return!b.isEmptyObject(this.changeset)},clearChangeset:function(){this._changed=!1;this.changeset={};return this},get:function(b){return this.data[b]},set:function(a,c,e){var f={};"string"===b.type(a)?f[a]=c:(f=a,e=c);e=b.extend({},{silent:!1},e);this.clearChangeset()._parse(f);this._changed=
!0;b.isEmptyObject(this.changeset)||e.silent||this.triggerHandler("set",this.changeset);return this},_getClientHash:function(){this._clientHash||(this._clientHash="mcid-"+String(this._clientId));return this._clientHash},hash:function(){!this.href&&this.data.href&&(this.href=this.data.href);return this.data.href||this.href||this._getClientHash()},relationHash:function(b){b&&(this.data.Id=b);return this.data.Id},off:function(a,c){b(this).off(a,c);return this},one:function(a,c,e){if(void 0===e)b(this).off(a,
c),b(this).one(a,c);else{var f=function(){c.apply(e,arguments)};b(this).off(a,f);b(this).one(a,f)}return this},on:function(a,c,e){if(void 0===e)b(this).off(a,c),b(this).on(a,c);else{var f=function(){c.apply(e,arguments)};b(this).off(a,f);b(this).on(a,f)}return this},trigger:function(a,c){b(this).trigger(a,c);return this},triggerHandler:function(a,c){b(this).triggerHandler(a,c);return this}};c.prototype={items:{},garbageTime:1500,refresh:function(b){b._exTime||(b._exTime=new Date);b._exTime.setTime(b._exTime.getTime()+
this.garbageTime)},set:function(a,c){var e=this;b(c).on("sync get get-prop set-prop",function(){e.refresh(this)});e.refresh(c);this.items[a]||(this.items[a]=c);return this.items[a]},replace:function(b,a,c){delete this.items[b];return this.set(a,c)},garbage:function(){for(var a in this.items)this.items[a]._exTime&&this.items[a]._exTime<new Date&&(b(this.items[a]).triggerHandler("garbage"),delete this.items[a])},remove:function(b){delete this.items[b]}};var w=g.options={},p,x;g.extend=p=function(c,
e){var d;d=a.extend.call(this,c);d.extend=p;d.prototype.Class=d;d.on=function(a,c,e){b(d).on(a,function(){c.apply(e,arguments)});return d};d.off=function(a,c){b(d).off(a,c);return d};d.triggerHandler=function(a,c){b(d).triggerHandler(a,c)};e&&e.register&&(f[e.register]=d,delete e.register);d.prototype.options=b.extend({},e);return d};var y=0;e.prototype={_list:[],_events:{},getList:function(){return this._list},count:function(){return this._list.length},_construct:function(){this._clientId=y++;this.model||
(this.model=g);this._list=[];this._events={};this.desynced=!0;for(var a=buildOptions=function(){void 0},c=0,e=arguments.length;c<e;c++)switch(b.type(arguments[c])){case "function":this.model=arguments[c];break;case "string":this.href=arguments[c];break;case "array":a=function(b){return function(){this._list=this._parse(b)}}(arguments[c]);break;case "object":buildOptions=function(b){return function(){this.options=b;b.href&&(this.href=b.href)}}(arguments[c])}buildOptions.call(this);a.call(this);w=b.extend({},
{init:!0},this.options);w.init&&this.init.apply(this,arguments)},init:function(){},reset:function(a){b.isArray(a)||(a=[a]);this._list=a=this._parse(a);return this},get:function(a){var c=b.Deferred(),e=this;searchKey=function(){for(var b=0;b<e._list.length;b++)if(a==e._list[b].hash()||a==e._list[b].relationHash())return c.resolve(e._list[b]);c.reject()};this.desynced&&this.sync().done(function(){c.resolve(searchKey())})?c:searchKey();return c},remove:function(b){for(var a in this._list)if(b==this._list[a].hash()||
b==this._list[a].relationHash()){Array.prototype.splice.call(this._list,a,1);break}return this},syncAdapter:l,setHref:function(b){this.href=b;return this},each:function(a){b.each(this._list,a)},forwardEach:function(b,a){this._list.forEach(b,a)},reverseEach:function(b,a){for(var c=this._list.length;0<c;++c)b.call(a||this,this[c],c,this)},feed:function(b,a){var c=[],e;for(e in this._list)c[e]=this._list[e].feed(b,a);return c},_setToUrl:function(){!this.href&&this.url&&this.setHref(this.url.get())},
sync:function(b){var a=this;a._setToUrl();return this.href&&this.syncAdapter.request.call(this.syncAdapter,this.href).read(b).done(function(b){var c=a.parseAttributes(b);a.parse(b);list=a._parse(b);changeset=[];removeings=[];updates=[];addings=[];count=a._list.length;for(b=0;b<list.length;b++){for(var e=!1,f=0;f<count;f++)if(list[b].hash()==a._list[f].hash()){e=list[b];break}if(e)if(a.hasEvent("updates")&&updates.push(e),a.isCollectionDeleted(e))a._list.splice(f,1),a.hasEvent("removeings")&&removeings.push(e);
else if(e.isDeleted())e._remove();else if(e.isChanged())changeset.push(e);else e.on("delete",function(){a.remove(this.hash())}).on("garbage",function(){this.desynced=!0});else list[b].isDeleted()?list[b].isDeleted()?a.hasEvent("updates")&&updates.push(list[b]):(a._list.push(list[b]),changeset.push(list[b]),a.hasEvent("addings")&&addings.push(list[b])):(a._list.push(list[b]),changeset.push(list[b]),a.hasEvent("addings")&&addings.push(list[b]),a.hasEvent("updates")&&updates.push(list[b]))}a.desynced=
!1;0===count?a.triggerHandler("read",[a._list,c]):(updates.length&&a.hasEvent("updates")&&a.triggerHandler("updates",[updates,c]),addings.length&&a.hasEvent("addings")&&a.triggerHandler("addings",[addings,c]),removeings.length&&a.hasEvent("removeings")&&a.triggerHandler("removeings",[removeings,c]),a.hasEvent("modified")&&a.triggerHandler("modified",[list,c]),a.triggerHandler("update",[changeset,c]))})},isCollectionDeleted:function(){return!1},modelDataBuild:function(b){return b},parseAttributes:function(b){return b},
parse:function(a){var c=a;if(!Array.isArray(a))for(i in a)if(b.isArray(a[i])){c=a[i];delete a[i];break}return c},_parse:function(b){b=this.parse(b);for(var a=[],c=0,e=b.length;c<e;c++)a.push(this.modelDataBuild(new this.model(b[c])));return a},insert:function(b){this.desynced=!1;b instanceof g||(b=this.modelDataBuild(new this.model(b)));this._list.push(b);b.hash();this._setToUrl();return b.sync(this.href)},off:function(a,c){b(this).off(a,c);for(var e=a.split(" "),f=0,d=e.length;f<d;f++)delete this._events[e[f]];
return this},one:function(a,c,e){if(void 0===e)b(this).off(a,c),b(this).one(a,c);else{var f=function(){c.apply(e,arguments)};b(this).off(a,f);b(this).one(a,f)}a=a.split(" ");for(var f=0,d=a.length;f<d;f++)this._events[a[f]]=!0;return this},on:function(a,c,e){if(void 0===e)b(this).off(a,c),b(this).on(a,c);else{var f=function(){c.apply(e,arguments)};b(this).off(a,f);b(this).on(a,f)}a=a.split(" ");for(var f=0,d=a.length;f<d;f++)this._events[a[f]]=!0;return this},trigger:function(a,c){b(this).trigger(a,
c);return this},triggerHandler:function(a,c){b(this).triggerHandler(a,c);return this},hasEvent:function(a){return"undefined"===b.type(this._events[a])?!1:this._events[a]}};e.extend=x=function(c,e){var d;d=a.extend.call(this,c);d.extend=x;e&&e.register&&(f[e.register]=d,delete e.register);d.prototype.options=b.extend({},e);return d};var E=0,A=a.extend({getProperty:function(b){return!this[b]?null:"function"===typeof this[b]?this[b]():this[b]}}).extend({tagName:"div",attributes:{className:"",id:""},
namespace:"view",_constructor:function(a,c){this.events&&(a&&a.events)&&b.extend(a.events,this.events);b.extend(this,a);this._clientId=E++;c=b.extend({},{init:!0,events:!0,ensure:!0},c);c.ensure&&this._ensureElement();c.init&&this.init.apply(this,arguments);c.events&&this.resetEvents()},_ensureElement:function(){var a=this.attributes.className,c=this.attributes.id,e="";b(this.el).length?this.el=b(this.el):("string"===b.type(this.el)&&("."==this.el[0]&&(a+=this.el.substr(0,1)),"#"==this.el[0]&&(c=
this.el.substr(0,1))),e="\x3c"+this.tagName,""!==a&&(e=e+' class\x3d"'+a+'"'),""!==c&&(e=e+' id\x3d"'+c+'"'),e=e+"\x3e\x3c/"+this.tagName+"\x3e",this.el=b(e))},init:function(){return this},resetEvents:function(){this.undelegateEvents();this.delegateEvents()},delegateEvents:function(a){if(a||(a=this.getProperty("events")))for(var c in a){var e=a[c],f;for(f in e){var d=e[f];if("string"===typeof d&&b.isFunction(this[d]))b(this.el).on(this.getEvent(f),c,this[d].bind(this))}}},undelegateEvents:function(){b(this.el).off(this.getNamespace());
return this},getEvent:function(b){return b+this.getNamespace()},getNamespace:function(){return"."+this.getProperty("namespace")},render:function(){this.delegateEvents();return this},remove:function(){b(this.el).remove();this.destroy();return this},destroy:function(){this.model&&this.model.trigger("destroy");this.collection&&this.collection.trigger("destroy");return this},checkElement:function(){return void 0===this.el?!1:void 0!==this.el.selector&&""!=this.el.selector?1===b(this.el.selector).length:
b(this.el).is(":visible")},setElement:function(a){this.undelegateEvents();a=b(a);var c=this.el.data();this.el.replaceWith(a);this.el=a;this.el.data(c);this.delegateEvents();return this},resetElement:function(a){this.el=b(a);this._ensureElement();this.delegateEvents()}});return{Model:g,Collection:e,Sync:l,UniqueContainer:c,View:A,Url:m,Register:f}});
define("gizmo/superdesk",["jquery","gizmo"],function(b,a){var d=b.extend({},a.Sync,{reset:function(){try{delete this.options.headers["X-Filter"],this.options.data={}}catch(b){}}}),f=b.extend({},d,{options:{fail:function(b){401==b.status&&authLock.apply(f,arguments);404==b.status&&ErrorApp.require.apply(this,arguments)}},href:function(b){return-1===b.indexOf("my/")?b.replace("resources/","resources/my/"):b}}),g=function(){this.syncAdapter.options.headers||(this.syncAdapter.options.headers={});this._xfilter=
1<arguments.length?b.makeArray(arguments).join(","):b.isArray(arguments[0])?arguments[0].join(","):arguments[0];this.syncAdapter.options.headers["X-Filter"]=this._xfilter;this.syncAdapter.options.headers["X-Format-DateTime"]="yyyy-MM-ddTHH:mm:ss'Z'";return this},c=function(b,a){void 0===b?delete this.syncAdapter.options.data[a]:(void 0===this.syncAdapter.options.data&&(this.syncAdapter.options.data={}),this.syncAdapter.options.data[a]=b);return this},e=function(b,a){void 0===a&&(a="CId");return c.call(this,
b,a+".since")},m=function(b,a){void 0===a&&(a="CId");return c.call(this,b,a+".until")},l=function(b,a){void 0===a&&(a="CId");return c.call(this,b,a+".start")},j=function(b,a){void 0===a&&(a="CId");return c.call(this,b,a+".end")},w=a.Model.extend({isDeleted:function(){return this._forDelete||this.data.DeletedOn},syncAdapter:d,xfilter:g,since:e,until:m,start:l,end:j}),p=function(b){"object"===typeof b&&(b.syncAdapter=f);b.modelDataBuild=function(b){return p(b)};return b},x=a.Model.extend({syncAdapter:f,
xfilter:g,since:e,until:m}),y=a.Collection.extend({xfilter:g,since:e,until:m,start:l,end:j,asc:function(b){return c.call(this,b,"asc")},desc:function(b){return c.call(this,b,"desc")},limit:function(b){return c.call(this,b,"limit")},offset:function(b){return c.call(this,b,"offset")},syncAdapter:d}),g=a.Collection.extend({xfilter:g,since:e,until:m,start:l,end:j,syncAdapter:f}),e=a.Url.extend({_construct:function(){this.data=!this.data?{root:(liveblog.restServer?liveblog.restServer:liveblog.frontendServer)+
"/resources/"}:this.data;a.Url.prototype._construct.apply(this,arguments)}});w.extend=function(){var c=a.Model.extend.apply(this,arguments),e=new a.UniqueContainer;b.extend(c.prototype,{_uniq:e,pushUnique:function(){return e.set(this.hash(),this)}},arguments[0]);return c};return{Auth:p,Model:w,AuthModel:x,Collection:y,AuthCollection:g,Sync:d,AuthSync:f,View:a.View,Url:e,Register:a.Register}});
define("gizmo/view-events",["jquery","gizmo/superdesk"],function(b,a){var d=a.View.extend({off:function(a,d){b(this).off(a,d);return this},on:function(a,d,c){if(void 0===c)b(this).off(a,d),b(this).on(a,d);else b(this).on(a,function(){d.apply(c,arguments)});return this},one:function(a,d,c){if(void 0===c)b(this).off(a,d),b(this).one(a,d);else b(this).one(a,function(){d.apply(c,arguments)});return this},trigger:function(a,d){b(this).trigger(a,d);return this},triggerHandler:function(a,d){b(this).triggerHandler(a,
d);return this}});a.View=d;return a});
define("dust/dust",[],function(){var b={};(function(b){function d(b,a,c){this.stack=b;this.global=a;this.blocks=c}function f(c,e,f,d){this.tail=e;this.isObject=!b.isArray(c)&&c&&"object"===typeof c;this.head=c;this.index=f;this.of=d}function g(b){this.head=new e(this);this.callback=b;this.out=""}function c(){this.head=new e(this)}function e(b,a,c){this.root=b;this.next=a;this.data="";this.flushable=!1;this.taps=c}function m(b,a){this.head=b;this.tail=a}b.cache={};b.isRegistred=b.defined=function(c){return b.cache[c]?
!0:!1};b.register=function(c,e){c&&(b.cache[c]=e)};b.render=function(c,e,f){f=(new g(f)).head;b.load(c,f,d.wrap(e)).end()};b.stream=function(e,f){var j=new c;b.nextTick(function(){b.load(e,j.head,d.wrap(f)).end()});return j};b.renderSource=function(c,e,f){return b.compileFn(c)(e,f)};b.compileFn=function(e,f){var j=b.loadSource(b.compile(e,f));return function(e,f){var l=f?new g(f):new c;b.nextTick(function(){j(l.head,d.wrap(e)).end()});return l}};b.load=function(c,e,f){var d=b.cache[c];return d?d(e,
f):b.onLoad?e.map(function(e){b.onLoad(c,function(d,j){if(d)return e.setError(d);b.cache[c]||b.loadSource(b.compile(j,c));b.cache[c](e,f).end()})}):e.setError(Error("Template Not Found: "+c))};b.loadSource=function(b){return eval(b)};b.isArray=Array.isArray?Array.isArray:function(b){return"[object Array]"==Object.prototype.toString.call(b)};b.nextTick=function(b){setTimeout(b,0)};b.isEmpty=function(c){return b.isArray(c)&&!c.length?!0:0===c?!1:!c};b.filter=function(c,e,f){if(f)for(var d=0,j=f.length;d<
j;d++){var l=f[d];"s"===l?e=null:c=b.filters[l](c)}e&&(c=b.filters[e](c));return c};b.filters={h:function(c){return b.escapeHtml(c)},j:function(c){return b.escapeJs(c)},u:encodeURI,uc:encodeURIComponent};b.makeBase=function(b){return new d(new f,b)};d.wrap=function(b){return b instanceof d?b:new d(new f(b))};d.prototype.get=function(b){for(var a=this.stack,c;a;){if(a.isObject&&(c=a.head[b],void 0!==c))return c;a=a.tail}return this.global?this.global[b]:void 0};d.prototype.getPath=function(b,a){var c=
this.stack,e=a.length;if(b&&0===e)return c.head;if(c.isObject){for(var c=c.head,f=0;c&&f<e;)c=c[a[f]],f++;return c}};d.prototype.push=function(b,c,a){b&&(b.$idx=c,b.$len=a);return new d(new f(b,this.stack,c,a),this.global,this.blocks)};d.prototype.rebase=function(b){return new d(new f(b),this.global,this.blocks)};d.prototype.current=function(){return this.stack.head};d.prototype.getBlock=function(b){var c=this.blocks;if(c)for(var a=c.length,e;a--;)if(e=c[a][b])return e};d.prototype.shiftBlocks=function(b){var c=
this.blocks;return b?(newBlocks=c?c.concat([b]):[b],new d(this.stack,this.global,newBlocks)):this};g.prototype.flush=function(){for(var b=this.head;b;){if(b.flushable)this.out+=b.data;else{b.error&&(this.callback(b.error),this.flush=function(){});return}this.head=b=b.next}this.callback(null,this.out)};c.prototype.flush=function(){for(var b=this.head;b;){if(b.flushable)this.emit("data",b.data);else{b.error&&(this.emit("error",b.error),this.flush=function(){});return}this.head=b=b.next}this.emit("end")};
c.prototype.emit=function(b,c){var a=this.events;if(a&&a[b])a[b](c)};c.prototype.on=function(b,c){this.events||(this.events={});this.events[b]=c;return this};e.prototype.write=function(b){var c=this.taps;c&&(b=c.go(b));this.data+=b;return this};e.prototype.end=function(b){b&&this.write(b);this.flushable=!0;this.root.flush();return this};e.prototype.map=function(b){var c=new e(this.root,this.next,this.taps),a=new e(this.root,c,this.taps);this.next=a;this.flushable=!0;b(a);return c};e.prototype.tap=
function(b){var c=this.taps;this.taps=c?c.push(b):new m(b);return this};e.prototype.untap=function(){this.taps=this.taps.tail;return this};e.prototype.render=function(b,c){return b(this,c)};e.prototype.reference=function(c,f,d,j){return"function"===typeof c&&(c=c(this,f,null,{auto:d,filters:j}),c instanceof e)?c:b.isEmpty(c)?this:this.write(b.filter(c,d,j))};e.prototype.section=function(c,f,d,j){if("function"===typeof c&&(c=c(this,f,d,j),c instanceof e))return c;var l=d.block;d=d["else"];j&&(f=f.push(j));
if(b.isArray(c)){if(l){j=c.length;d=this;for(var m=0;m<j;m++)d=l(d,f.push(c[m],m,j));return d}}else if(!0===c){if(l)return l(this,f)}else if(c||0===c){if(l)return l(this,f.push(c))}else if(d)return d(this,f);return this};e.prototype.exists=function(c,e,f){var d=f.block;f=f["else"];if(b.isEmpty(c)){if(f)return f(this,e)}else if(d)return d(this,e);return this};e.prototype.notexists=function(c,e,f){var d=f.block;f=f["else"];if(b.isEmpty(c)){if(d)return d(this,e)}else if(f)return f(this,e);return this};
e.prototype.block=function(b,c,a){a=a.block;b&&(a=b);return a?a(this,c):this};e.prototype.partial=function(c,e){return"function"===typeof c?this.capture(c,e,function(c,f){b.load(c,f,e).end()}):b.load(c,this,e)};e.prototype.helper=function(c,e,f,d){return b.helpers[c](this,e,f,d)};e.prototype.capture=function(b,c,a){return this.map(function(e){var f=new g(function(b,c){b?e.setError(b):a(c,e)});b(f.head,c).end()})};e.prototype.setError=function(b){this.error=b;this.root.flush();return this};m.prototype.push=
function(b){return new m(b,this)};m.prototype.go=function(b){for(var c=this;c;)b=c.head(b),c=c.tail;return b};var l=RegExp(/[&<>\"]/),j=/&/g,w=/</g,p=/>/g,x=/\"/g;b.escapeHtml=function(b){return"string"===typeof b?!l.test(b)?b:b.replace(j,"\x26amp;").replace(w,"\x26lt;").replace(p,"\x26gt;").replace(x,"\x26quot;"):b};var y=/\\/g,E=/\r/g,A=/\u2028/g,B=/\u2029/g,z=/\n/g,F=/\f/g,I=/'/g,C=/"/g,G=/\t/g;b.escapeJs=function(b){return"string"===typeof b?b.replace(y,"\\\\").replace(C,'\\"').replace(I,"\\'").replace(E,
"\\r").replace(A,"\\u2028").replace(B,"\\u2029").replace(z,"\\n").replace(F,"\\f").replace(G,"\\t"):b}})(b);return b});define("dust",["dust/dust"],function(b){return b});
define("utils/twitter",[],function(){return{link:{anchor:function(b){return b.replace(/[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z]+:\/\/[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z0-9-_]+\.[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z0-9-_:%&\?\/.=]+/g,function(b){b=b.link(b);return b=b.replace('href\x3d"','target\x3d"_blanka" href\x3d"')})},user:function(b){return b.replace(/[@]+[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z0-9-_]+/g,function(b){var d=b.replace("@",
"");b=b.link("http://twitter.com/"+d);return b=b.replace('href\x3d"','target\x3d"_blankb" onclick\x3d"loadProfile(\''+d+'\');return(false);"  href\x3d"')})},tag:function(b){return b.replace(/[#]+[\u00e4\u00e9\u00f6\u00fc\u00df\u00c4\u00d6\u00dcA-Za-z0-9-_]+/g,function(b){var d=b.replace("#","%23");b=b.link("http://twitter.com/search?q\x3d"+d);return b=b.replace('href\x3d"','target\x3d"_blank" href\x3d"')})},all:function(b){b=this.anchor(b);b=this.user(b);return b=this.tag(b)}}}});
define("dust/dust-helpers",["dust/dust","jquery","utils/twitter","jquery-path/i18n","jquery-path/utils"],function(b,a,d){function f(b){return function(a){try{return a=JSON.parse(a),a.annotation[b]}catch(f){}return""}}var g=function(b,e,f,d){if(a.isDefined(d.param1)){var j=[],g;a.each(d,function(a,f){"function"===typeof f&&(val="",b.tap(function(b){val+=b;return""}).render(f,e).untap(),f=val);g=parseInt(a.slice(5))-1;if(isNaN(g)&&window.console)return window.console.log("Invalid parameter "+a+" given!"),
[];j[g]=f});return j}a.each(d,function(a,f){"function"===typeof f&&(val="",b.tap(function(b){val+=b;return""}).render(f,e).untap(),d[a]=val)});return d};b.helpers={i18n:function(b,e,f,d){msgid=d.msgid;msgid_plural=d.msgid_plural;n=d.n;domain=d.domain;msgctxt=d.msgctxt;d&&d.msgid?(delete d.msgid,b.write(a.i18n.dcnpgettext(domain,msgctxt,msgid,msgid_plural,n).format(g(b,e,f,d)))):window.console&&window.console.log("No expression given!");return b},sep:function(b,a,f){return a.stack.index===a.stack.of-
1?b:f.block(b,a)},idx:function(b,a,f){return f.block(b,a.push(a.stack.index))},"if":function(b,a,f,d){var j=d.cond;if(d&&d.cond){"function"===typeof j&&(j="",b.tap(function(b){j+=b;return""}).render(d.cond,a).untap(),""===j&&(j=!1));if(eval(j))return b.render(f.block,a);if(f["else"])return b.render(f["else"],a)}else window.console&&window.console.log("No expression given!");return b}};b.filters.t=function(b){return a("\x3cdiv\x3e"+b+"\x3c/div\x3e").text()};b.filters.trim50=function(b){return b.trunc(50,
!0)};b.filters.trim150=function(b){return b.trunc(150,!0)};b.filters.trim200=function(b){return b.trunc(200,!0)};b.filters.twitter_all=function(b){return d.link.all(b)};b.filters.twitter_annotation_before=f(0);b.filters.twitter_annotation_after=f(1);return b});define("dust/core",["dust/dust","dust/dust-helpers"],function(b){return b});
define("jquery-path/tmpl",["jquery","dust/core"],function(b,a){b.fn.extend({tmpl:function(a,f,g){if(""!==a)return"#"===a[0]&&(a=a.slice(1)),b.isFunction(f)&&(g=f),this.each(function(){$that=b(this);b.tmpl(a,f,function(c,a){c?window.console&&window.console.log(c):$that.html(a);b.isFunction(g)&&g.apply($that)})})}});b.extend({tmpl:function(b,f,g){if(-1!==b.indexOf("themeBase")){var c=b.replace("themeBase","theme");a.isRegistred(c)&&(b=c)}a.render(b,f,g)},tmplFn:function(b){return a.compileFn(b)}})});
define("utils/encode_url",[],function(){encodeURL=function(b){return encodeURIComponent(b).replace(/'/g,"%27").replace(/~/g,"%7E").replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29")}});
define("dust/parser",["dust/dust"],function(b){var a,d={parse:function(b,d){function c(b){var c=b.charCodeAt(0);if(255>=c){b="x";var a=2}else b="u",a=4;b="\\"+b;for(var e=c.toString(16).toUpperCase(),c=e,a=a-e.length,e=0;e<a;e++)c="0"+c;return b+c}function e(b){return'"'+b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,c)+'"'}function m(b){h<T||(h>T&&(T=h,Y=[]),Y.push(b))}function l(){var b="body@"+h,c=v[b];if(c)return h=c.nextPos,c.result;
for(var c=h,a=[],e=j();null!==e;)a.push(e),e=j();a=null!==a?["body"].concat(a):null;null===a&&(a=null,h=c);v[b]={nextPos:h,result:a};return a}function j(){var b="part@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=Q();null===c&&(c=w(),null===c&&(c=z(),null===c&&(c=I(),null===c&&(c=B(),null===c&&(c=N(),c=null!==c?c:null)))));v[b]={nextPos:h,result:c};return c}function w(){var c="section@"+h,a=v[c];if(a)return h=a.nextPos,a.result;a=q;q=!1;var e=h,d=h,j=p();if(null!==j){var g=H();if(null!==g){var Z=
l();if(null!==Z){var s=A();if(null!==s){var t=x();if(null!==t)if(r=!r||r[1].text===Z.text?"":null,null!==r)var r=[j,g,Z,s,t,r];else r=null,h=d;else r=null,h=d}else r=null,h=d}else r=null,h=d}else r=null,h=d}else r=null,h=d;null!==r?(d=r[0],j=r[3],j.push(["param",["literal","block"],r[2]]),d.push(j),r=d):r=null;null===r&&(r=null,h=e);null!==r?e=r:(r=e=h,d=p(),null!==d?("/"===b.substr(h,1)?(j="/",h+=1):(j=null,q&&m('"/"')),null!==j?(g=H(),null!==g?d=[d,j,g]:(d=null,h=r)):(d=null,h=r)):(d=null,h=r),
null!==d?(r=d[0],r.push(["bodies"])):r=null,null===r&&(r=null,h=e),e=null!==r?r:null);(q=a)&&null===e&&m("section");v[c]={nextPos:h,result:e};return e}function p(){var c="sec_tag_start@"+h,a=v[c];if(a)return h=a.nextPos,a.result;var e=a=h,d=K();if(null!==d){if(null!==b.substr(h).match(/^[#?^<+@%]/)){var j=b.charAt(h);h++}else j=null,q&&m("[#?^\x3c+@%]");if(null!==j){var l=C();if(null!==l){var g=y();if(null!==g){var p=E();null!==p?d=[d,j,l,g,p]:(d=null,h=e)}else d=null,h=e}else d=null,h=e}else d=null,
h=e}else d=null,h=e;e=null!==d?[d[1],d[2],d[3],d[4]]:null;null===e&&(e=null,h=a);v[c]={nextPos:h,result:e};return e}function x(){var c="end_tag@"+h,a=v[c];if(a)return h=a.nextPos,a.result;a=q;q=!1;var e=h,d=h,j=K();if(null!==j){if("/"===b.substr(h,1)){var l="/";h+=1}else l=null,q&&m('"/"');if(null!==l){var g=C();if(null!==g){var p=H();null!==p?j=[j,l,g,p]:(j=null,h=d)}else j=null,h=d}else j=null,h=d}else j=null,h=d;d=null!==j?j[2]:null;null===d&&(d=null,h=e);(q=a)&&null===d&&m("end tag");v[c]={nextPos:h,
result:d};return d}function y(){var c="context@"+h,a=v[c];if(a)return h=a.nextPos,a.result;var e=a=h,d=h;if(":"===b.substr(h,1)){var j=":";h+=1}else j=null,q&&m('":"');if(null!==j){var l=C();null!==l?j=[j,l]:(j=null,h=d)}else j=null,h=d;d=null!==j?j[1]:null;null===d&&(d=null,h=e);e=null!==d?d:"";e=null!==e?e?["context",e]:["context"]:null;null===e&&(e=null,h=a);v[c]={nextPos:h,result:e};return e}function E(){var c="params@"+h,a=v[c];if(a)return h=a.nextPos,a.result;a=q;q=!1;var e=h,d=[],j=h,l=h,g=
O();if(null!==g){var p=D();if(null!==p){if("\x3d"===b.substr(h,1)){var t="\x3d";h+=1}else t=null,q&&m('"\x3d"');if(null!==t){var r=C();null===r&&(r=J(),r=null!==r?r:null);null!==r?g=[g,p,t,r]:(g=null,h=l)}else g=null,h=l}else g=null,h=l}else g=null,h=l;l=null!==g?["param",["literal",g[1]],g[3]]:null;null===l&&(l=null,h=j);for(;null!==l;)d.push(l),l=j=h,g=O(),null!==g?(p=D(),null!==p?("\x3d"===b.substr(h,1)?(t="\x3d",h+=1):(t=null,q&&m('"\x3d"')),null!==t?(r=C(),null===r&&(r=J(),r=null!==r?r:null),
null!==r?g=[g,p,t,r]:(g=null,h=l)):(g=null,h=l)):(g=null,h=l)):(g=null,h=l),l=null!==g?["param",["literal",g[1]],g[3]]:null,null===l&&(l=null,h=j);d=null!==d?["params"].concat(d):null;null===d&&(d=null,h=e);(q=a)&&null===d&&m("params");v[c]={nextPos:h,result:d};return d}function A(){var c="bodies@"+h,a=v[c];if(a)return h=a.nextPos,a.result;a=q;q=!1;var e=h,d=[],j=h,g=h,p=K();if(null!==p){if(":"===b.substr(h,1)){var s=":";h+=1}else s=null,q&&m('":"');if(null!==s){var t=D();if(null!==t){var r=H();if(null!==
r){var w=l();null!==w?p=[p,s,t,r,w]:(p=null,h=g)}else p=null,h=g}else p=null,h=g}else p=null,h=g}else p=null,h=g;g=null!==p?["param",["literal",p[2]],p[4]]:null;null===g&&(g=null,h=j);for(;null!==g;)d.push(g),g=j=h,p=K(),null!==p?(":"===b.substr(h,1)?(s=":",h+=1):(s=null,q&&m('":"')),null!==s?(t=D(),null!==t?(r=H(),null!==r?(w=l(),null!==w?p=[p,s,t,r,w]:(p=null,h=g)):(p=null,h=g)):(p=null,h=g)):(p=null,h=g)):(p=null,h=g),g=null!==p?["param",["literal",p[2]],p[4]]:null,null===g&&(g=null,h=j);d=null!==
d?["bodies"].concat(d):null;null===d&&(d=null,h=e);(q=a)&&null===d&&m("bodies");v[c]={nextPos:h,result:d};return d}function B(){var b="reference@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var a=h,e=h,d=K();if(null!==d){var f=C();if(null!==f){var j=F();if(null!==j){var l=H();null!==l?d=[d,f,j,l]:(d=null,h=e)}else d=null,h=e}else d=null,h=e}else d=null,h=e;e=null!==d?["reference",d[1],d[2]]:null;null===e&&(e=null,h=a);(q=c)&&null===e&&m("reference");v[b]={nextPos:h,result:e};return e}function z(){var c=
"partial@"+h,a=v[c];if(a)return h=a.nextPos,a.result;a=q;q=!1;var e=h,d=h,j=K();if(null!==j){if("\x3e"===b.substr(h,1)){var l="\x3e";h+=1}else l=null,q&&m('"\x3e"');if(null!==l){var g=h,p=D(),p=null!==p?["literal",p]:null;null===p&&(p=null,h=g);null!==p?g=p:(g=J(),g=null!==g?g:null);if(null!==g)if(p=y(),null!==p){if("/"===b.substr(h,1)){var t="/";h+=1}else t=null,q&&m('"/"');if(null!==t){var r=H();null!==r?j=[j,l,g,p,t,r]:(j=null,h=d)}else j=null,h=d}else j=null,h=d;else j=null,h=d}else j=null,h=
d}else j=null,h=d;d=null!==j?["partial",j[2],j[3]]:null;null===d&&(d=null,h=e);(q=a)&&null===d&&m("partial");v[c]={nextPos:h,result:d};return d}function F(){var c="filters@"+h,a=v[c];if(a)return h=a.nextPos,a.result;a=q;q=!1;var e=h,d=[],j=h,l=h;if("|"===b.substr(h,1)){var g="|";h+=1}else g=null,q&&m('"|"');if(null!==g){var p=D();null!==p?g=[g,p]:(g=null,h=l)}else g=null,h=l;l=null!==g?g[1]:null;null===l&&(l=null,h=j);for(;null!==l;)d.push(l),l=j=h,"|"===b.substr(h,1)?(g="|",h+=1):(g=null,q&&m('"|"')),
null!==g?(p=D(),null!==p?g=[g,p]:(g=null,h=l)):(g=null,h=l),l=null!==g?g[1]:null,null===l&&(l=null,h=j);d=null!==d?["filters"].concat(d):null;null===d&&(d=null,h=e);(q=a)&&null===d&&m("filters");v[c]={nextPos:h,result:d};return d}function I(){var c="special@"+h,a=v[c];if(a)return h=a.nextPos,a.result;a=q;q=!1;var e=h,d=h,j=K();if(null!==j){if("~"===b.substr(h,1)){var l="~";h+=1}else l=null,q&&m('"~"');if(null!==l){var g=D();if(null!==g){var p=H();null!==p?j=[j,l,g,p]:(j=null,h=d)}else j=null,h=d}else j=
null,h=d}else j=null,h=d;d=null!==j?["special",j[2]]:null;null===d&&(d=null,h=e);(q=a)&&null===d&&m("special");v[c]={nextPos:h,result:d};return d}function C(){var b="identifier@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=q;q=!1;var a=h,e=G(),e=null!==e?U(["path"].concat(e),b):null;null===e&&(e=null,h=a);null!==e?a=e:(a=h,e=D(),e=null!==e?U(["key",e],b):null,null===e&&(e=null,h=a),a=null!==e?e:null);(q=c)&&null===a&&m("identifier");v[b]={nextPos:h,result:a};return a}function G(){var c="path@"+h,
a=v[c];if(a)return h=a.nextPos,a.result;a=q;q=!1;var e=h,d=h,j=D(),j=null!==j?j:"";if(null!==j){var l=h,g=h;if("."===b.substr(h,1)){var p=".";h+=1}else p=null,q&&m('"."');if(null!==p){var t=D();null!==t?p=[p,t]:(p=null,h=g)}else p=null,h=g;g=null!==p?p[1]:null;null===g&&(g=null,h=l);if(null!==g)for(var r=[];null!==g;)r.push(g),g=l=h,"."===b.substr(h,1)?(p=".",h+=1):(p=null,q&&m('"."')),null!==p?(t=D(),null!==t?p=[p,t]:(p=null,h=g)):(p=null,h=g),g=null!==p?p[1]:null,null===g&&(g=null,h=l);else r=null;
null!==r?j=[j,r]:(j=null,h=d)}else j=null,h=d;null!==j?(d=j[0],j=j[1],d?(j.unshift(d),d=[!1,j]):d=[!0,j]):d=null;null===d&&(d=null,h=e);null!==d?e=d:(e=h,"."===b.substr(h,1)?(d=".",h+=1):(d=null,q&&m('"."')),d=null!==d?[!0,[]]:null,null===d&&(d=null,h=e),e=null!==d?d:null);(q=a)&&null===e&&m("path");v[c]={nextPos:h,result:e};return e}function D(){var c="key@"+h,a=v[c];if(a)return h=a.nextPos,a.result;a=q;q=!1;var e=h,d=h;if(null!==b.substr(h).match(/^[a-zA-Z_$]/)){var j=b.charAt(h);h++}else j=null,
q&&m("[a-zA-Z_$]");if(null!==j){var l=[];if(null!==b.substr(h).match(/^[0-9a-zA-Z_$]/)){var g=b.charAt(h);h++}else g=null,q&&m("[0-9a-zA-Z_$]");for(;null!==g;)l.push(g),null!==b.substr(h).match(/^[0-9a-zA-Z_$]/)?(g=b.charAt(h),h++):(g=null,q&&m("[0-9a-zA-Z_$]"));null!==l?j=[j,l]:(j=null,h=d)}else j=null,h=d;d=null!==j?j[0]+j[1].join(""):null;null===d&&(d=null,h=e);(q=a)&&null===d&&m("key");v[c]={nextPos:h,result:d};return d}function J(){var a="inline@"+h,c=v[a];if(c)return h=c.nextPos,c.result;c=
q;q=!1;var e=h,d=h;if('"'===b.substr(h,1)){var j='"';h+=1}else j=null,q&&m('"\\""');if(null!==j){if('"'===b.substr(h,1)){var l='"';h+=1}else l=null,q&&m('"\\""');null!==l?j=[j,l]:(j=null,h=d)}else j=null,h=d;d=null!==j?["literal",""]:null;null===d&&(d=null,h=e);if(null!==d)e=d;else{d=e=h;'"'===b.substr(h,1)?(j='"',h+=1):(j=null,q&&m('"\\""'));if(null!==j)if(l=R(),null!==l){if('"'===b.substr(h,1)){var g='"';h+=1}else g=null,q&&m('"\\""');null!==g?j=[j,l,g]:(j=null,h=d)}else j=null,h=d;else j=null,
h=d;d=null!==j?["literal",j[1]]:null;null===d&&(d=null,h=e);if(null!==d)e=d;else{d=e=h;'"'===b.substr(h,1)?(j='"',h+=1):(j=null,q&&m('"\\""'));if(null!==j){g=M();if(null!==g)for(l=[];null!==g;)l.push(g),g=M();else l=null;null!==l?('"'===b.substr(h,1)?(g='"',h+=1):(g=null,q&&m('"\\""')),null!==g?j=[j,l,g]:(j=null,h=d)):(j=null,h=d)}else j=null,h=d;d=null!==j?["body"].concat(j[1]):null;null===d&&(d=null,h=e);e=null!==d?d:null}}(q=c)&&null===e&&m("inline");v[a]={nextPos:h,result:e};return e}function M(){var b=
"inline_part@"+h,c=v[b];if(c)return h=c.nextPos,c.result;c=I();if(null===c&&(c=B(),null===c)){var c=h,a=R(),a=null!==a?["buffer",a]:null;null===a&&(a=null,h=c);c=null!==a?a:null}v[b]={nextPos:h,result:c};return c}function N(){var c="buffer@"+h,a=v[c];if(a)return h=a.nextPos,a.result;a=q;q=!1;var e=h,d=h,j=L();if(null!==j){for(var l=[],g=O();null!==g;)l.push(g),g=O();null!==l?j=[j,l]:(j=null,h=d)}else j=null,h=d;d=null!==j?["format",j[0],j[1].join("")]:null;null===d&&(d=null,h=e);if(null!==d)e=d;else{var p=
l=d=e=h,g=q;q=!1;var t=P();q=g;null===t?g="":(g=null,h=p);if(null!==g){t=h;p=q;q=!1;var r=L();q=p;null===r?p="":(p=null,h=t);if(null!==p){t=h;r=q;q=!1;var w=Q();q=r;null===w?r="":(r=null,h=t);null!==r?(b.length>h?(t=b.charAt(h),h++):(t=null,q&&m("any character")),null!==t?g=[g,p,r,t]:(g=null,h=l)):(g=null,h=l)}else g=null,h=l}else g=null,h=l;l=null!==g?g[3]:null;null===l&&(l=null,h=d);if(null!==l)for(j=[];null!==l;)j.push(l),p=l=d=h,g=q,q=!1,t=P(),q=g,null===t?g="":(g=null,h=p),null!==g?(t=h,p=q,
q=!1,r=L(),q=p,null===r?p="":(p=null,h=t),null!==p?(t=h,r=q,q=!1,w=Q(),q=r,null===w?r="":(r=null,h=t),null!==r?(b.length>h?(t=b.charAt(h),h++):(t=null,q&&m("any character")),null!==t?g=[g,p,r,t]:(g=null,h=l)):(g=null,h=l)):(g=null,h=l)):(g=null,h=l),l=null!==g?g[3]:null,null===l&&(l=null,h=d);else j=null;d=null!==j?["buffer",j.join("")]:null;null===d&&(d=null,h=e);e=null!==d?d:null}(q=a)&&null===e&&m("buffer");v[c]={nextPos:h,result:e};return e}function R(){var c="literal@"+h,a=v[c];if(a)return h=
a.nextPos,a.result;a=q;q=!1;var e=h,d=h,j=h,l=h,g=q;q=!1;var p=P();q=g;null===p?g="":(g=null,h=l);if(null!==g){p=h;l=q;q=!1;var t=L();q=l;null===t?l="":(l=null,h=p);null!==l?(p=S(),null===p&&(null!==b.substr(h).match(/^[^"]/)?(p=b.charAt(h),h++):(p=null,q&&m('[^"]')),p=null!==p?p:null),null!==p?g=[g,l,p]:(g=null,h=j)):(g=null,h=j)}else g=null,h=j;j=null!==g?g[2]:null;null===j&&(j=null,h=d);if(null!==j)for(var r=[];null!==j;)r.push(j),l=j=d=h,g=q,q=!1,p=P(),q=g,null===p?g="":(g=null,h=l),null!==g?
(p=h,l=q,q=!1,t=L(),q=l,null===t?l="":(l=null,h=p),null!==l?(p=S(),null===p&&(null!==b.substr(h).match(/^[^"]/)?(p=b.charAt(h),h++):(p=null,q&&m('[^"]')),p=null!==p?p:null),null!==p?g=[g,l,p]:(g=null,h=j)):(g=null,h=j)):(g=null,h=j),j=null!==g?g[2]:null,null===j&&(j=null,h=d);else r=null;d=null!==r?r.join(""):null;null===d&&(d=null,h=e);(q=a)&&null===d&&m("literal");v[c]={nextPos:h,result:d};return d}function S(){var c="esc@"+h,a=v[c];if(a)return h=a.nextPos,a.result;a=h;if('\\"'===b.substr(h,2)){var e=
'\\"';h+=2}else e=null,q&&m('"\\\\\\""');e=null!==e?'"':null;null===e&&(e=null,h=a);v[c]={nextPos:h,result:e};return e}function Q(){var a="comment@"+h,c=v[a];if(c)return h=c.nextPos,c.result;c=q;q=!1;var e=h,d=h;if("{!"===b.substr(h,2)){var j="{!";h+=2}else j=null,q&&m('"{!"');if(null!==j){var l=[],g=h,p=h,t=h,r=q;q=!1;if("!}"===b.substr(h,2)){var w="!}";h+=2}else w=null,q&&m('"!}"');q=r;null===w?r="":(r=null,h=t);null!==r?(b.length>h?(t=b.charAt(h),h++):(t=null,q&&m("any character")),null!==t?t=
[r,t]:(t=null,h=p)):(t=null,h=p);p=null!==t?t[1]:null;null===p&&(p=null,h=g);for(;null!==p;)l.push(p),t=p=g=h,r=q,q=!1,"!}"===b.substr(h,2)?(w="!}",h+=2):(w=null,q&&m('"!}"')),q=r,null===w?r="":(r=null,h=t),null!==r?(b.length>h?(t=b.charAt(h),h++):(t=null,q&&m("any character")),null!==t?t=[r,t]:(t=null,h=p)):(t=null,h=p),p=null!==t?t[1]:null,null===p&&(p=null,h=g);null!==l?("!}"===b.substr(h,2)?(g="!}",h+=2):(g=null,q&&m('"!}"')),null!==g?j=[j,l,g]:(j=null,h=d)):(j=null,h=d)}else j=null,h=d;d=null!==
j?["comment",j[1].join("")]:null;null===d&&(d=null,h=e);(q=c)&&null===d&&m("comment");v[a]={nextPos:h,result:d};return d}function P(){var c="tag@"+h,a=v[c];if(a)return h=a.nextPos,a.result;var a=h,e=K();if(null!==e){if(null!==b.substr(h).match(/^[#?^><+%:@\/~%]/)){var d=b.charAt(h);h++}else d=null,q&&m("[#?^\x3e\x3c+%:@\\/~%]");if(null!==d){var j=h,l=h,g=q;q=!1;var p=H();q=g;null===p?g="":(g=null,h=l);if(null!==g){l=h;p=q;q=!1;var t=L();q=p;null===t?p="":(p=null,h=l);null!==p?(b.length>h?(l=b.charAt(h),
h++):(l=null,q&&m("any character")),null!==l?g=[g,p,l]:(g=null,h=j)):(g=null,h=j)}else g=null,h=j;if(null!==g)for(var r=[];null!==g;)r.push(g),l=j=h,g=q,q=!1,p=H(),q=g,null===p?g="":(g=null,h=l),null!==g?(l=h,p=q,q=!1,t=L(),q=p,null===t?p="":(p=null,h=l),null!==p?(b.length>h?(l=b.charAt(h),h++):(l=null,q&&m("any character")),null!==l?g=[g,p,l]:(g=null,h=j)):(g=null,h=j)):(g=null,h=j);else r=null;null!==r?(j=H(),null!==j?e=[e,d,r,j]:(e=null,h=a)):(e=null,h=a)}else e=null,h=a}else e=null,h=a;null!==
e?a=e:(a=B(),a=null!==a?a:null);v[c]={nextPos:h,result:a};return a}function K(){var a="ld@"+h,c=v[a];if(c)return h=c.nextPos,c.result;"{"===b.substr(h,1)?(c="{",h+=1):(c=null,q&&m('"{"'));v[a]={nextPos:h,result:c};return c}function H(){var a="rd@"+h,c=v[a];if(c)return h=c.nextPos,c.result;"}"===b.substr(h,1)?(c="}",h+=1):(c=null,q&&m('"}"'));v[a]={nextPos:h,result:c};return c}function L(){var a="eol@"+h,c=v[a];if(c)return h=c.nextPos,c.result;"\n"===b.substr(h,1)?(c="\n",h+=1):(c=null,q&&m('"\\n"'));
null===c&&("\r\n"===b.substr(h,2)?(c="\r\n",h+=2):(c=null,q&&m('"\\r\\n"')),null===c&&("\r"===b.substr(h,1)?(c="\r",h+=1):(c=null,q&&m('"\\r"')),null===c&&("\u2028"===b.substr(h,1)?(c="\u2028",h+=1):(c=null,q&&m('"\\u2028"')),null===c&&("\u2029"===b.substr(h,1)?(c="\u2029",h+=1):(c=null,q&&m('"\\u2029"')),c=null!==c?c:null))));v[a]={nextPos:h,result:c};return c}function O(){var c="ws@"+h,a=v[c];if(a)return h=a.nextPos,a.result;null!==b.substr(h).match(/^[\t\x0B\f \xA0\uFEFF]/)?(a=b.charAt(h),h++):
(a=null,q&&m("[\t\x0B\f \\xA0\\uFEFF]"));v[c]={nextPos:h,result:a};return a}function $(){var c;a:{c=Y;c.sort();for(var a=null,d=[],j=0;j<c.length;j++)c[j]!==a&&(d.push(c[j]),a=c[j]);switch(d.length){case 0:c="end of input";break a;case 1:c=d[0];break a;default:c=d.slice(0,d.length-1).join(", ")+" or "+d[d.length-1]}}a=Math.max(h,T);a=a<b.length?e(b.charAt(a)):"end of input";return"Expected "+c+" but "+a+" found."}function U(c,a){c.text=b.substring(a.split("@")[1],h);return c}var u={bodies:A,body:l,
buffer:N,comment:Q,context:y,end_tag:x,eol:L,esc:S,filters:F,identifier:C,inline:J,inline_part:M,key:D,ld:K,literal:R,params:E,part:j,partial:z,path:G,rd:H,reference:B,sec_tag_start:p,section:w,special:I,tag:P,ws:O};if(void 0!==d){if(void 0===u[d])throw Error("Invalid rule name: "+e(d)+".");}else d="body";var h=0,q=!0,T=0,Y=[],v={},u=u[d]();if(null===u||h!==b.length){for(var V=u=1,W=!1,aa=0;aa<T;aa++){var X=b.charAt(aa);"\n"===X?(W||u++,V=1,W=!1):"\r"===X|"\u2028"===X||"\u2029"===X?(u++,V=1,W=!0):
(V++,W=!1)}throw new a.SyntaxError($(),u,V);}return u},toSource:function(){return this._source},SyntaxError:function(b,a,c){this.name="SyntaxError";this.message=b;this.line=a;this.column=c}};d.SyntaxError.prototype=Error.prototype;a=d;b.parse=a.parse;return b});
define("dust/compiler",["dust/parser"],function(b){function a(c,a){for(var e=[a[0]],d=1,g=a.length;d<g;d++){var f=b.filterNode(c,a[d]);f&&e.push(f)}return e}function d(b,c){return c}function f(){}function g(c,a){for(var e="",d=1,g=a.length;d<g;d++)e+=b.compileNode(c,a[d]);return e}function c(c,a,e){return"."+e+"("+b.compileNode(c,a[1])+","+b.compileNode(c,a[2])+","+b.compileNode(c,a[4])+","+b.compileNode(c,a[3])+")"}b.compile=function(c,a){try{var e,d=b.parse(c);e=b.filterNode({},d);var d={name:a,
bodies:[],blocks:{},index:0,auto:"h"},g="(function(){dust.register("+(a?'"'+a+'"':"null")+","+b.compileNode(d,e)+");",f;e=[];var m=d.blocks,A;for(A in m)e.push(A+":"+m[A]);e.length?(d.blocks="ctx\x3dctx.shiftBlocks(blocks);",f="var blocks\x3d{"+e.join(",")+"};"):f=d.blocks="";var g=g+f,B;f=[];for(var z=d.bodies,F=d.blocks,d=0,I=z.length;d<I;d++)f[d]="function body_"+d+"(chk,ctx){"+F+"return chk"+z[d]+";}";B=f.join("");return g+B+"return body_0;})();"}catch(C){if(!C.line||!C.column)throw C;throw new SyntaxError(C.message+
" At line : "+C.line+", column : "+C.column);}};b.filterNode=function(c,a){return b.optimizers[a[0]](c,a)};b.optimizers={body:function(c,a){for(var e=[a[0]],d,g=1,f=a.length;g<f;g++){var m=b.filterNode(c,a[g]);m&&("buffer"===m[0]?d?d[1]+=m[1]:(d=m,e.push(m)):(d=null,e.push(m)))}return e},buffer:d,special:function(b,c){return["buffer",e[c[1]]]},format:f,reference:a,"#":a,"?":a,"^":a,"\x3c":a,"+":a,"@":a,"%":a,partial:a,context:a,params:a,bodies:a,param:a,filters:d,key:d,path:d,literal:d,comment:f};
b.pragmas={esc:function(b,c,a){var e=b.auto;c||(c="h");b.auto="s"===c?"":c;c=g(b,a.block);b.auto=e;return c}};var e={s:" ",n:"\n",r:"\r",lb:"{",rb:"}"};b.compileNode=function(c,a){return b.nodes[a[0]](c,a)};b.nodes={body:function(b,c){var a=b.index++,e="body_"+a;b.bodies[a]=g(b,c);return e},buffer:function(b,c){return".write("+m(c[1])+")"},format:function(b,c){return".write("+m(c[1]+c[2])+")"},reference:function(c,a){return".reference("+b.compileNode(c,a[1])+",ctx,"+b.compileNode(c,a[2])+")"},"#":function(b,
a){return c(b,a,"section")},"?":function(b,a){return c(b,a,"exists")},"^":function(b,a){return c(b,a,"notexists")},"\x3c":function(c,a){for(var e=a[4],d=1,g=e.length;d<g;d++){var f=e[d];if("block"===f[1][1]){c.blocks[a[1].text]=b.compileNode(c,f[2]);break}}return""},"+":function(c,a){return".block(ctx.getBlock("+m(a[1].text)+"),"+b.compileNode(c,a[2])+","+b.compileNode(c,a[4])+","+b.compileNode(c,a[3])+")"},"@":function(c,a){return".helper("+m(a[1].text)+","+b.compileNode(c,a[2])+","+b.compileNode(c,
a[4])+","+b.compileNode(c,a[3])+")"},"%":function(c,a){var e=a[1][1];if(!b.pragmas[e])return"";for(var d=a[4],g={},f=1,m=d.length;f<m;f++){var A=d[f];g[A[1][1]]=A[2]}d=a[3];A={};f=1;for(m=d.length;f<m;f++){var B=d[f];A[B[1][1]]=B[2][1]}return b.pragmas[e](c,a[2][1]?a[2][1].text:null,g,A)},partial:function(c,a){return".partial("+b.compileNode(c,a[1])+","+b.compileNode(c,a[2])+")"},context:function(c,a){return a[1]?"ctx.rebase("+b.compileNode(c,a[1])+")":"ctx"},params:function(c,a){for(var e=[],d=1,
g=a.length;d<g;d++)e.push(b.compileNode(c,a[d]));return e.length?"{"+e.join(",")+"}":"null"},bodies:function(c,a){for(var e=[],d=1,g=a.length;d<g;d++)e.push(b.compileNode(c,a[d]));return"{"+e.join(",")+"}"},param:function(c,a){return b.compileNode(c,a[1])+":"+b.compileNode(c,a[2])},filters:function(b,c){for(var a=[],e=1,d=c.length;e<d;e++)a.push('"'+c[e]+'"');return'"'+b.auto+'"'+(a.length?",["+a.join(",")+"]":"")},key:function(b,c){return'ctx.get("'+c[1]+'")'},path:function(b,c){for(var a=c[1],e=
c[2],d=[],g=0,f=e.length;g<f;g++)d.push('"'+e[g]+'"');return"ctx.getPath("+a+",["+d.join(",")+"])"},literal:function(b,c){return m(c[1])}};var m="undefined"===typeof JSON?function(c){return'"'+b.escapeJs(c)+'"'}:JSON.stringify;return b});
define("utils/json_parse",[],function(){var b,a,d={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},f,g=function(c){throw{name:"SyntaxError",message:c,at:b,text:f};},c=function(c){c&&c!==a&&g("Expected '"+c+"' instead of '"+a+"'");a=f.charAt(b);b+=1;return a},e=function(){var b;b="";"-"===a&&(b="-",c("-"));for(;"0"<=a&&"9">=a;)b+=a,c();if("."===a)for(b+=".";c()&&"0"<=a&&"9">=a;)b+=a;if("e"===a||"E"===a){b+=a;c();if("-"===a||"+"===a)b+=a,c();for(;"0"<=a&&"9">=a;)b+=a,c()}b=+b;
if(isFinite(b))return b;g("Bad number")},m=function(){var b,e,f="",j;if('"'===a)for(;c();){if('"'===a)return c(),f;if("\\"===a)if(c(),"u"===a){for(e=j=0;4>e;e+=1){b=parseInt(c(),16);if(!isFinite(b))break;j=16*j+b}f+=String.fromCharCode(j)}else if("string"===typeof d[a])f+=d[a];else break;else f+=a}else if("'"===a)for(;c();){if("'"===a)return c(),f;if("\\"===a)if(c(),"u"===a){for(e=j=0;4>e;e+=1){b=parseInt(c(),16);if(!isFinite(b))break;j=16*j+b}f+=String.fromCharCode(j)}else if("string"===typeof d[a])f+=
d[a];else break;else f+=a}g("Bad string")},l=function(){var b,e,f="",j;if('"'===a)for(;c();){if('"'===a)return c(),f;if("\\"===a)if(c(),"u"===a){for(e=j=0;4>e;e+=1){b=parseInt(c(),16);if(!isFinite(b))break;j=16*j+b}f+=String.fromCharCode(j)}else if("string"===typeof d[a])f+=d[a];else break;else f+=a}else if("'"===a)for(;c();){if("'"===a)return c(),f;if("\\"===a)if(c(),"u"===a){for(e=j=0;4>e;e+=1){b=parseInt(c(),16);if(!isFinite(b))break;j=16*j+b}f+=String.fromCharCode(j)}else if("string"===typeof d[a])f+=
d[a];else break;else f+=a}else for(f+=a;c();){if(" "===a||":"===a||"}"===a)return f;if("\\"===a)if(c(),"u"===a){for(e=j=0;4>e;e+=1){b=parseInt(c(),16);if(!isFinite(b))break;j=16*j+b}f+=String.fromCharCode(j)}else if("string"===typeof d[a])f+=d[a];else break;else f+=a}g("Bad key")},j=function(){for(;a&&" ">=a;)c()},w=function(){switch(a){case "t":return c("t"),c("r"),c("u"),c("e"),!0;case "f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case "n":return c("n"),c("u"),c("l"),c("l"),null}g("Unexpected '"+
a+"'")},p,x=function(){var b,e={};if("{"===a){c("{");j();if("}"===a)return c("}"),e;for(;a;)if(b=l(),j(),":"===a){c(":");e.hasOwnProperty.call(e,b)&&g('Duplicate key "'+b+'"');e[b]=p();j();if("}"===a)return c("}"),e;c(",");j()}else{if("}"===a)return c("}"),"{"+b+"}";g("Bad object")}}g("Bad injection")};p=function(){j();switch(a){case "{":return x();case "[":var b;a:{b=[];if("["===a){c("[");j();if("]"===a){c("]");break a}for(;a;){b.push(p());j();if("]"===a){c("]");break a}c(",");j()}}g("Bad array");
b=void 0}return b;case '"':return m();case "'":return m();case "-":return e();default:return"0"<=a&&"9">=a?e():w()}};return function(c,e){var d;f=c;b=0;a=" ";d=p();j();a&&g("Syntax error");return"function"===typeof e?function z(b,c){var a,d,f=b[c];if(f&&"object"===typeof f)for(a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d=z(f,a),void 0!==d?f[a]=d:delete f[a]);return e.call(b,c,f)}({"":d},""):d}});
define("dust/i18n_parse",["utils/json_parse","utils/extend"],function(b){function a(b){return b.replace(/\{/g,"{~lb").replace(/\}/g,"{~rb}").replace(/\{~lb/g,"{~lb}").replace(/((^|[^\\])(\\\\)*)"/g,'$1\\"')}function d(a,d,c){a=RegExp(a+"\\((.*?)(\\);)","gi");return d.replace(a,function(a,d){fstr="";if(-1<d.indexOf(").format(")){arr=d.split(").format(");d=arr[0];fparams=arr[1].trim();if("["!==fparams[0]||"{"!==fparams[0])fparams="["+fparams+"]";fparams=b(fparams);for(i in fparams)fstr=isNaN(i)?fstr+
(" "+i+'\x3d"'+fparams[i]+'"'):fstr+(" param"+(parseInt(i)+1)+'\x3d"'+fparams[i]+'"')}return c(b("["+d+"]"),fstr)})}return function(b){b=d("pgettext",b,function(b,c){return'{@i18n msgctxt\x3d"'+b[0]+'" msgid\x3d"'+a(b[1])+'"'+c+"/}"});b=d("ngettext",b,function(b,c){return'{@i18n msgid\x3d"'+a(b[0])+'" msgid_plural\x3d"'+a(b[1])+'" n\x3d"'+b[2]+'"'+c+"/}"});b=d("gettext",b,function(b,c){return'{@i18n msgid\x3d"'+a(b[0])+'"'+c+"/}"});return b=d("_",b,function(b,c){return'{@i18n msgid\x3d"'+a(b[0])+
'"'+c+"/}"})}});
define("tmpl",["jquery","dust/compiler","dust/i18n_parse","jquery-path/xdomainrequest"],function(b,a,d){var f=function(){throw Error("Environment unsupported.");},g={};if("undefined"!==typeof window&&window.navigator&&window.document||"undefined"!==typeof importScripts)f=function(c,a){b.ajax({url:c,error:function(b,c){console.log("err");"parsererror"==c&&a(b.responseText)},success:function(b){a(b)}})};return{pluginBuilder:"core/require/tmpl-builder",write:function(b,a,d){g.hasOwnProperty(a)&&d.asModule(b+
"!"+a,g[a])},load:function(b,e,m,l){var j=e.toUrl(b+".dust");f(j,function(e){e=d(e);try{e="define(['dust'],function(dust){"+a.compile(e,b)+" return {render: function(context, callback) {return dust.render('"+b+"', context, callback)}}})"}catch(f){throw f.message="In "+j+", "+f.message,f;}l.isBuild&&(g[b]=e);m.fromText("tmpl!"+b,e)})}}});
define("tmpl!themeBase/item/base",["dust"],function(b){var a=function(b,a){a=a.shiftBlocks(s);return b.write('\x3cli class\x3d"').block(a.getBlock("itemClass"),a,{block:d},null).write('" ').block(a.getBlock("additionalAttributes"),a,{block:f},null).write("\x3e").block(a.getBlock("main"),a,{block:g},null).write("\x3c/li\x3e")},d=function(b,a){a.shiftBlocks(s);return b},f=function(b,a){a.shiftBlocks(s);return b},g=function(b,a){a=a.shiftBlocks(s);return b.write('\x3ca name\x3d"').reference(a.get("Order"),
a,"h").write('"\x3e\x3c/a\x3e').block(a.getBlock("headerContainer"),a,{block:c},null).block(a.getBlock("contentContainer"),a,{block:p},null).block(a.getBlock("footerContainer"),a,{block:N},null)},c=function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-header"\x3e').block(a.getBlock("header"),a,{block:e},null).write("\x3c/div\x3e")},e=function(b,a){a=a.shiftBlocks(s);return b.block(a.getBlock("verificationLabel"),a,{block:m},null).block(a.getBlock("postDateContainer"),a,{block:l},
null).block(a.getBlock("userNameContainer"),a,{block:j},null).block(a.getBlock("shareContainer"),a,{block:w},null)},m=function(b,a){a.shiftBlocks(s);return b},l=function(b,a){a.shiftBlocks(s);return b},j=function(b,a){a.shiftBlocks(s);return b},w=function(b,a){a.shiftBlocks(s);return b},p=function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-content"\x3e').block(a.getBlock("content"),a,{block:x},null).write("\x3c/div\x3e")},x=function(b,a){a=a.shiftBlocks(s);return b.block(a.getBlock("contentSideContainer"),
a,{block:y},null).block(a.getBlock("contentMainContainer"),a,{block:B},null)},y=function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-content-side"\x3e').block(a.getBlock("contentSide"),a,{block:E},null).write("\x3c/div\x3e")},E=function(b,a){a=a.shiftBlocks(s);return b.block(a.getBlock("userAvatar"),a,{block:A},null)},A=function(b,a){a.shiftBlocks(s);return b},B=function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-content-main"\x3e').block(a.getBlock("contentMainBody"),
a,{block:z},null).write("\x3c/div\x3e")},z=function(b,a){a=a.shiftBlocks(s);return b.block(a.getBlock("commentBefore"),a,{block:F},null).block(a.getBlock("contentMainFull"),a,{block:I},null).block(a.getBlock("commentAfter"),a,{block:M},null)},F=function(b,a){a.shiftBlocks(s);return b},I=function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-content-full"\x3e').block(a.getBlock("contentFull"),a,{block:C},null).write("\x3c/div\x3e")},C=function(b,a){a=a.shiftBlocks(s);return b.block(a.getBlock("contentCoreContainer"),
a,{block:G},null).block(a.getBlock("contentAttrContainer"),a,{block:J},null)},G=function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-core-content"\x3e').block(a.getBlock("contentCore"),a,{block:D},null).write("\x3c/div\x3e")},D=function(b,a){a.shiftBlocks(s);return b},J=function(b,a){a.shiftBlocks(s);return b},M=function(b,a){a.shiftBlocks(s);return b},N=function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-footer"\x3e').block(a.getBlock("footer"),a,{block:R},
null).write("\x3c/div\x3e")},R=function(b,a){a.shiftBlocks(s);return b},S=function(b,a){a.shiftBlocks(s);return b},Q=function(b,a){a.shiftBlocks(s);return b},P=function(b,a){a=a.shiftBlocks(s);return b.reference(a.getPath(!1,["Creator","FullName"]),a,"h")},K=function(b,a){a.shiftBlocks(s);return b},H=function(b,a){a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-publisher-avatar"\x3e\x3c/div\x3e')},L=function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-publisher-avatar"\x3e\x3cspan class\x3d"post-publisher-avatar-img" style\x3d"background:url(\'').reference(a.getPath(!1,
["AuthorImage","href"]),a,"h").write("');\"\x3e\x3c/span\x3e\x3c/div\x3e")},O=function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-comment comment-before"\x3e').reference(a.getPath(!1,["Meta","annotation","before"]),a,"h",["s"]).write("\x3c/div\x3e")},$=function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-comment comment-after"\x3e').reference(a.getPath(!1,["Meta","annotation","after"]),a,"h",["s"]).write("\x3c/div\x3e")},U=function(b,a){a=a.shiftBlocks(s);return b.write("\x3cspan\x3e").block(a.getBlock("contentAttrName"),
a,{block:u},null).write("\x3c/span\x3e")},u=function(b,a){a=a.shiftBlocks(s);return b.reference(a.getPath(!1,["Author","Source","Name"]),a,"h")},h=function(b,a){a.shiftBlocks(s);return b},q=function(b,a){a.shiftBlocks(s);return b},T=function(b,a){a.shiftBlocks(s);return b},Y=function(b,a){a.shiftBlocks(s);return b},v=function(b,a){a.shiftBlocks(s);return b},V=function(b,a){a.shiftBlocks(s);return b},W=function(b,a){a.shiftBlocks(s);return b},aa=function(b,a){a.shiftBlocks(s);return b},X=function(b,
a){a.shiftBlocks(s);return b},ba=function(b,a){a.shiftBlocks(s);return b},ca=function(b,a){a.shiftBlocks(s);return b},da=function(b,a){a=a.shiftBlocks(s);return b.block(a.getBlock("socialShare"),a,{block:ea},null).block(a.getBlock("permanentLinkShare"),a,{block:fa},null)},ea=function(b,a){a.shiftBlocks(s);return b},fa=function(b,a){a.shiftBlocks(s);return b},ga=function(b,a){a=a.shiftBlocks(s);return b.write('\x3ca data-gimme\x3d"post.permalink" href\x3d"').reference(a.get("permalink"),a,"h").write('" rel\x3d"bookmark" class\x3d"permalink"\x3e#\x3c/a\x3e\x3cinput data-gimme\x3d"post.share-permalink" type\x3d"text" style\x3d"visibility:hidden" value\x3d"').reference(a.get("permalink"),
a,"h").write('"\x3e')},Z=function(b,a){a=a.shiftBlocks(s);return b.write('\x3ca data-gimme\x3d"post.social" href\x3d"#" class\x3d"sf-share"\x3e').helper("i18n",a,{},{msgid:"Share"}).write("\x3c/a\x3e")};b.register("themeBase/item/base",function(b,c){c=c.shiftBlocks(s);return b.block(c.getBlock("mainContainer"),c,{block:a},null)});var s={createdDateContainer:function(b,a){a=a.shiftBlocks(s);return b.write('\x3cspan class\x3d"post-datetime"\x3e\x3ctime data-date\x3d"').reference(a.get("CreatedOnISO"),
a,"h").write('"\x3e').reference(a.get("CreatedOn"),a,"h").write("\x3c/time\x3e\x3c/span\x3e")},publishedDateContainer:function(b,a){a=a.shiftBlocks(s);return b.write('\x3cspan class\x3d"post-datetime"\x3e\x3ctime data-date\x3d"').reference(a.get("PublishedOnISO"),a,"h").write('"\x3e').reference(a.get("PublishedOn"),a,"h").write("\x3c/time\x3e\x3c/span\x3e")},postDateContainer:function(b,a){a=a.shiftBlocks(s);return b.block(a.getBlock("publishedDateContainer"),a,{block:S},null)},userNameContainer:function(b,
a){a=a.shiftBlocks(s);return b.block(a.getBlock("publisherNameContainer"),a,{block:Q},null)},publisherNameContainer:function(b,a){a=a.shiftBlocks(s);return b.write('\x3cspan class\x3d"post-publisher-name"\x3e').block(a.getBlock("publisherName"),a,{block:P},null).write("\x3c/span\x3e")},verificationLabel:function(b,a){a.shiftBlocks(s);return b.write('\x3ca class\x3d"verification-label" title\x3d"verification status"\x3e\x3c/a\x3e')},userAvatar:function(b,a){a=a.shiftBlocks(s);return b.block(a.getBlock("publisherAvatar"),
a,{block:K},null)},publisherAvatar:function(b,a){a=a.shiftBlocks(s);return b.exists(a.get("AuthorImage"),a,{"else":H,block:L},null)},commentBefore:function(b,a){a=a.shiftBlocks(s);return b.exists(a.getPath(!1,["Meta","annotation","before"]),a,{block:O},null)},commentAfter:function(b,a){a=a.shiftBlocks(s);return b.exists(a.getPath(!1,["Meta","annotation","after"]),a,{block:$},null)},contentAttr:function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"attributes"\x3e\x3ci class\x3d"source-icon"\x3e\x3c/i\x3e').block(a.getBlock("contentAttrCode"),
a,{block:U},null).write("\x3c/div\x3e")},contentText:function(b,a){a=a.shiftBlocks(s);return b.write('\x3cp class\x3d"post-text"\x3e').reference(a.get("Content"),a,"h",["s"]).write("\x3c/p\x3e")},wrapupIcon:function(b,a){a.shiftBlocks(s);return b.write('\x3cspan class\x3d"big-toggle"\x3e\x3c/span\x3e')},contentExternalContainer:function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-external"\x3e').block(a.getBlock("contentExternal"),a,{block:h},null).write("\x3c/div\x3e")},externalAvatar:function(b,
a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-external-avatar"\x3e\x3cimg class\x3d"post-external-avatar-img" src\x3d"').block(a.getBlock("externalAvatarSrc"),a,{block:q},null).write('"\x3e\x3c/div\x3e')},extenalImageContainer:function(b,a){a=a.shiftBlocks(s);return b.write('\x3ca class\x3d"post-external-image-link" href\x3d"').block(a.getBlock("externalImageLink"),a,{block:T},null).write('" target\x3d"_blank"\x3e\x3cdiv class\x3d"post-external-image"\x3e\x3cimg alt\x3d"').block(a.getBlock("externalImageAlt"),
a,{block:Y},null).write('" class\x3d"post-external-image-img" src\x3d"').block(a.getBlock("externalImageSrc"),a,{block:v},null).write('"\x3e\x3c/div\x3e\x3c/a\x3e')},externalIframeContainer:function(b,a){a=a.shiftBlocks(s);return b.write('\x3cdiv class\x3d"post-frame-container"\x3e').block(a.getBlock("externalIframe"),a,{block:V},null).write("\x3c/div\x3e")},externalInfoTitleContainer:function(b,a){a=a.shiftBlocks(s);return b.write('\x3ca href\x3d"').block(a.getBlock("externalInfoTitleSrc"),a,{block:W},
null).write('"\x3e').block(a.getBlock("externalInfoTitle"),a,{block:aa},null).write("\x3c/a\x3e  ")},externalInfoNameContainer:function(b,a){a=a.shiftBlocks(s);return b.write('\x3ca href\x3d"post-creator-name"\x3e').block(a.getBlock("externalInfoName"),a,{block:X},null).write("\x3c/a\x3e ")},externalInfoContainer:function(a,b){b=b.shiftBlocks(s);return a.write("\x3ch5\x3e").block(b.getBlock("externalInfo"),b,{block:ba},null).write("\x3c/h5\x3e")},externalTextContainer:function(b,a){a=a.shiftBlocks(s);
return b.write('\x3cdiv class\x3d"post-text"\x3e').block(a.getBlock("externalText"),a,{block:ca},null).write("\x3c/div\x3e")},shareContainer:function(a,b){b=b.shiftBlocks(s);return a.write('\x3cdiv class\x3d"post-buttons"\x3e').block(b.getBlock("share"),b,{block:da},null).write("\x3c/div\x3e")},permanentLinkShare:function(b,a){a=a.shiftBlocks(s);return b.block(a.getBlock("permanentLink"),a,{block:ga},null)},socialShare:function(a,b){b=b.shiftBlocks(s);return a.block(b.getBlock("social"),b,{block:Z},
null)}};return{render:function(a,c){return b.render("themeBase/item/base",a,c)}}});
define("tmpl!themeBase/item/social-share",["dust"],function(b){var a=function(a,b){return a.write('\x3ca href\x3d"#" class\x3d\'social pinterest\' title\x3d"').helper("i18n",b,{},{msgid:"Share this post on Pinterest"}).write('" onclick\x3d"').reference(b.get("pinclick"),b,"h").write('"\x3e\x3c/a\x3e')};b.register("themeBase/item/social-share",function(b,f){return b.write('\x3cdiv data-gimme\x3d"post.share-social" class\x3d"share-box" style\x3d"visibility:hidden"\x3e\x3ca href\x3d"#" class\x3d\'social facebook\' target\x3d\'_blank\' title\x3d"').helper("i18n",f,
{},{msgid:"Share this post on Facebook"}).write('" onclick\x3d"').reference(f.get("fbclick"),f,"h").write("\"\x3e\x3c/a\x3e\x3ca href\x3d\"#\" class\x3d'social twitter' target\x3d'_blank' title\x3d\"").helper("i18n",f,{},{msgid:"Share this post on Twitter"}).write('" onclick\x3d"').reference(f.get("twtclick"),f,"h").write('"\x3e\x3c/a\x3e\x3ca href\x3d"#" class\x3d\'social linkedin\' title\x3d"').helper("i18n",f,{},{msgid:"Share this post on Linkedin"}).write('" onclick\x3d"').reference(f.get("linclick"),
f,"h").write('"\x3e\x3c/a\x3e').section(f.get("showPin"),f,{block:a},null).write('\x3ca href\x3d"#" class\x3d\'social google\' title\x3d"').helper("i18n",f,{},{msgid:"Share this post on Google+"}).write('" onclick\x3d"').reference(f.get("gglclick"),f,"h").write('"\x3e\x3c/a\x3e\x3ca href\x3d"').reference(f.get("emailurl"),f,"h").write("\" class\x3d'social email' title\x3d\"").helper("i18n",f,{},{msgid:"Share this post via Email"}).write('" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e')});return{render:function(a,
f){return b.render("themeBase/item/social-share",a,f)}}});
define("tmpl!themeBase/item/posttype/base",["dust"],function(b){var a=function(b,a){a=a.shiftBlocks(g);return b.reference(a.get("baseItem"),a,"h")},d=function(a,b){b.shiftBlocks(g);return a},f=function(a,b){b.shiftBlocks(g);return a};b.register("themeBase/item/posttype/base",function(b,e){e=e.shiftBlocks(g);return b.partial(a,e)});var g={contentCore:function(a,b){b=b.shiftBlocks(g);return a.block(b.getBlock("contenteBaseBefore"),b,{block:d},null).block(b.getBlock("contentText"),b,{block:f},null)}};
return{render:function(a,e){return b.render("themeBase/item/posttype/base",a,e)}}});define("tmpl!themeBase/item/posttype/normal",["dust"],function(b){b.register("themeBase/item/posttype/normal",function(b,f){f=f.shiftBlocks(a);return b.partial("themeBase/item/posttype/base",f)});var a={itemClass:function(b,f){f.shiftBlocks(a);return b.write("normal")}};return{render:function(a,f){return b.render("themeBase/item/posttype/normal",a,f)}}});
define("tmpl!themeBase/item/posttype/image",["dust"],function(b){b.register("themeBase/item/posttype/image",function(b,f){f=f.shiftBlocks(a);return b.partial("themeBase/item/posttype/base",f)});var a={item_class:function(b,f){f.shiftBlocks(a);return b.write("normal")}};return{render:function(a,f){return b.render("themeBase/item/posttype/image",a,f)}}});
define("tmpl!themeBase/item/posttype/wrapup",["dust"],function(b){var a=function(b,a){a.shiftBlocks(d);return b};b.register("themeBase/item/posttype/wrapup",function(b,a){a=a.shiftBlocks(d);return b.partial("themeBase/item/posttype/base",a)});var d={additionalAttributes:function(b,a){a.shiftBlocks(d);return b.write('data-gimme\x3d"post.wrapup" data-wrapup-open\x3d"wrapup-open"')},itemClass:function(b,a){a.shiftBlocks(d);return b.write("wrapup wrapup-open")},contenteBaseBefore:function(b,g){g=g.shiftBlocks(d);
return b.block(g.getBlock("wrapupIcon"),g,{block:a},null)}};return{render:function(a,d){return b.render("themeBase/item/posttype/wrapup",a,d)}}});define("tmpl!themeBase/item/posttype/quote",["dust"],function(b){b.register("themeBase/item/posttype/quote",function(b,f){f=f.shiftBlocks(a);return b.partial("themeBase/item/posttype/base",f)});var a={itemClass:function(b,f){f.shiftBlocks(a);return b.write("quote")}};return{render:function(a,f){return b.render("themeBase/item/posttype/quote",a,f)}}});
define("tmpl!themeBase/item/posttype/link",["dust"],function(b){b.register("themeBase/item/posttype/link",function(b,f){f=f.shiftBlocks(a);return b.partial("themeBase/item/posttype/base",f)});var a={itemClass:function(b,f){f.shiftBlocks(a);return b.write("link")}};return{render:function(a,f){return b.render("themeBase/item/posttype/link",a,f)}}});
define("tmpl!themeBase/item/posttype/infomercial",["dust"],function(b){b.register("themeBase/item/posttype/infomercial",function(b,f){f=f.shiftBlocks(a);return b.partial("themeBase/item/posttype/base",f)});var a={itemClass:function(b,f){f.shiftBlocks(a);return b.write("advertisement")}};return{render:function(a,f){return b.render("themeBase/item/posttype/infomercial",a,f)}}});
define("tmpl!themeBase/item/source/base",["dust"],function(b){var a=function(b,a){return b.reference(a.get("baseItem"),a,"h")};b.register("themeBase/item/source/base",function(b,f){return b.partial(a,f)});return{render:function(a,f){return b.render("themeBase/item/source/base",a,f)}}});
define("tmpl!themeBase/item/source/infomercial",["dust"],function(b){b.register("themeBase/item/source/infomercial",function(b,f){f=f.shiftBlocks(a);return b.partial("themeBase/item/source/base",f)});var a={itemClass:function(b,f){f.shiftBlocks(a);return b.write("advertisement")}};return{render:function(a,f){return b.render("themeBase/item/source/infomercial",a,f)}}});
define("tmpl!themeBase/item/source/google",["dust"],function(b){var a=function(b,a){a.shiftBlocks(d);return b};b.register("themeBase/item/source/google",function(b,a){a=a.shiftBlocks(d);return b.partial("themeBase/item/source/base",a)});var d={itemClass:function(b,g){g=g.shiftBlocks(d);return b.write("google ").block(g.getBlock("itemClassAdditional"),g,{block:a},null)},contentAttrName:function(b,a){a.shiftBlocks(d);return b.write("google.com")}};return{render:function(a,d){return b.render("themeBase/item/source/google",
a,d)}}});
define("tmpl!themeBase/item/source/google/web",["dust"],function(b){var a=function(b,a){a.shiftBlocks(e);return b},d=function(b,a){a.shiftBlocks(e);return b},f=function(b,a){a.shiftBlocks(e);return b},g=function(b,a){a.shiftBlocks(e);return b},c=function(b,a){a.shiftBlocks(e);return b};b.register("themeBase/item/source/google/web",function(b,a){a=a.shiftBlocks(e);return b.partial("themeBase/item/source/google",a)});var e={itemClassAdditional:function(b,a){a.shiftBlocks(e);return b.write("googlesearch")},contentCore:function(b,
c){c=c.shiftBlocks(e);return b.block(c.getBlock("contentExternalContainer"),c,{block:a},null).block(c.getBlock("contentAttr"),c,{block:d},null)},contentExternal:function(b,a){a=a.shiftBlocks(e);return b.block(a.getBlock("externalInfoContainer"),a,{block:f},null).block(a.getBlock("externalTextContainer"),a,{block:g},null)},externalInfo:function(b,a){a=a.shiftBlocks(e);return b.block(a.getBlock("externalInfoTitleContainer"),a,{block:c},null)},externalInfoTitle:function(b,a){a=a.shiftBlocks(e);return b.reference(a.getPath(!1,
["Meta","title"]),a,"h",["s"])},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(e);return a.reference(b.getPath(!1,["Meta","unescapedUrl"]),b,"h")},externalText:function(b,a){a=a.shiftBlocks(e);return b.reference(a.get("Content"),a,"h",["s"])}};return{render:function(a,c){return b.render("themeBase/item/source/google/web",a,c)}}});
define("tmpl!themeBase/item/source/google/news",["dust"],function(b){var a=function(a,b){b.shiftBlocks(e);return a},d=function(a,b){b.shiftBlocks(e);return a},f=function(a,b){b.shiftBlocks(e);return a},g=function(a,b){b.shiftBlocks(e);return a},c=function(a,b){b.shiftBlocks(e);return a};b.register("themeBase/item/source/google/news",function(a,b){b=b.shiftBlocks(e);return a.partial("themeBase/item/source/google",b)});var e={itemClassAdditional:function(a,b){b.shiftBlocks(e);return a.write("googlenews")},
contentCore:function(b,c){c=c.shiftBlocks(e);return b.block(c.getBlock("contentExternalContainer"),c,{block:a},null).block(c.getBlock("contentAttr"),c,{block:d},null)},contentExternal:function(b,a){a=a.shiftBlocks(e);return b.block(a.getBlock("externalInfoContainer"),a,{block:f},null).block(a.getBlock("externalTextContainer"),a,{block:g},null)},externalInfo:function(a,b){b=b.shiftBlocks(e);return a.block(b.getBlock("externalInfoTitleContainer"),b,{block:c},null)},externalInfoTitle:function(a,b){b=
b.shiftBlocks(e);return a.reference(b.getPath(!1,["Meta","title"]),b,"h",["s"])},externalInfoTitleSrc:function(b,a){a=a.shiftBlocks(e);return b.reference(a.getPath(!1,["Meta","unescapedUrl"]),a,"h")},externalText:function(a,b){b=b.shiftBlocks(e);return a.reference(b.get("Content"),b,"h",["s"])}};return{render:function(a,c){return b.render("themeBase/item/source/google/news",a,c)}}});
define("tmpl!themeBase/item/source/google/images",["dust"],function(b){var a=function(a,b){b.shiftBlocks(m);return a},d=function(a,b){b.shiftBlocks(m);return a},f=function(a,b){b.shiftBlocks(m);return a},g=function(a,b){b.shiftBlocks(m);return a},c=function(a,b){b.shiftBlocks(m);return a},e=function(a,b){b.shiftBlocks(m);return a};b.register("themeBase/item/source/google/images",function(a,b){b=b.shiftBlocks(m);return a.partial("themeBase/item/source/google",b)});var m={itemClassAdditional:function(b,
a){a.shiftBlocks(m);return b.write("googleimage")},contentCore:function(b,c){c=c.shiftBlocks(m);return b.block(c.getBlock("contentExternalContainer"),c,{block:a},null).block(c.getBlock("contentAttr"),c,{block:d},null)},contentExternal:function(b,a){a=a.shiftBlocks(m);return b.block(a.getBlock("extenalImageContainer"),a,{block:f},null).block(a.getBlock("externalInfoContainer"),a,{block:g},null).block(a.getBlock("externalTextContainer"),a,{block:c},null)},externalInfo:function(a,b){b=b.shiftBlocks(m);
return a.block(b.getBlock("externalInfoTitleContainer"),b,{block:e},null)},externalImageLink:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","originalContextUrl"]),b,"h")},externalImageSrc:function(b,a){a=a.shiftBlocks(m);return b.reference(a.getPath(!1,["Meta","url"]),a,"h")},externalImageAlt:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","visibleUrl"]),b,"h")},externalInfoTitle:function(b,a){a=a.shiftBlocks(m);return b.reference(a.getPath(!1,["Meta",
"title"]),a,"h",["s"])},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","originalContextUrl"]),b,"h")},externalText:function(b,a){a=a.shiftBlocks(m);return b.reference(a.get("Content"),a,"h",["s"])}};return{render:function(a,c){return b.render("themeBase/item/source/google/images",a,c)}}});
define("tmpl!themeBase/item/source/twitter",["dust"],function(b){var a=function(a,b){b.shiftBlocks(j);return a},d=function(a,b){b.shiftBlocks(j);return a},f=function(a,b){b.shiftBlocks(j);return a},g=function(a,b){b.shiftBlocks(j);return a},c=function(a,b){b.shiftBlocks(j);return a},e=function(a,b){b.shiftBlocks(j);return a},m=function(a,b){b.shiftBlocks(j);return a},l=function(a,b){b.shiftBlocks(j);return a};b.register("themeBase/item/source/twitter",function(a,b){b=b.shiftBlocks(j);return a.partial("themeBase/item/source/base",
b)});var j={itemClass:function(a,b){b.shiftBlocks(j);return a.write("twitter")},contentCore:function(b,c){c=c.shiftBlocks(j);return b.block(c.getBlock("contentExternalContainer"),c,{block:a},null).block(c.getBlock("contentAttr"),c,{block:d},null)},contentExternal:function(b,a){a=a.shiftBlocks(j);return b.block(a.getBlock("externalAvatar"),a,{block:f},null).block(a.getBlock("externalInfoContainer"),a,{block:g},null).block(a.getBlock("externalTextContainer"),a,{block:c},null).block(a.getBlock("externalTwitterActions"),
a,{block:e},null)},externalInfo:function(a,b){b=b.shiftBlocks(j);return a.block(b.getBlock("externalInfoTitleContainer"),b,{block:m},null).block(b.getBlock("externalInfoUser"),b,{block:l},null)},externalInfoTitle:function(a,b){b=b.shiftBlocks(j);return a.reference(b.getPath(!1,["Meta","from_user_name"]),b,"h")},externalInfoTitleSrc:function(b,a){a=a.shiftBlocks(j);return b.write("//twitter.com/").reference(a.getPath(!1,["Meta","from_user"]),a,"h")},externalText:function(a,b){b=b.shiftBlocks(j);return a.reference(b.getPath(!1,
["Meta","text"]),b,"h",["twitter_all","s"])},externalInfoUser:function(b,a){a=a.shiftBlocks(j);return b.write("\x3cspan\x3e@").reference(a.getPath(!1,["Meta","from_user"]),a,"h").write("\x3c/span\x3e")},externalAvatarSrc:function(a,b){b=b.shiftBlocks(j);return a.reference(b.getPath(!1,["Meta","user","profile_image_url"]),b,"h")},externalTwitterActions:function(b,a){a=a.shiftBlocks(j);return b.write('\x3cdiv class\x3d"twitter-controls"\x3e \x3c!-- twitter buttons --\x3e\x3ca href\x3d"//twitter.com/intent/favorite?tweet_id\x3d').reference(a.getPath(!1,
["Meta","id_str"]),a,"h").write('" target\x3d"_blank" class\x3d"twitter-button favorites"\x3e').helper("i18n",a,{},{msgid:"Favorites"}).write('\x3c/a\x3e\x3ca href\x3d"//twitter.com/intent/retweet?tweet_id\x3d').reference(a.getPath(!1,["Meta","id_str"]),a,"h").write('" target\x3d"_blank" class\x3d"twitter-button retweet"\x3e').helper("i18n",a,{},{msgid:"Retweet"}).write('\x3c/a\x3e\x3ca href\x3d"//twitter.com/intent/tweet?in_reply_to\x3d').reference(a.getPath(!1,["Meta","id_str"]),a,"h").write('" target\x3d"_blank" class\x3d"twitter-button reply"\x3e').helper("i18n",
a,{},{msgid:"Reply"}).write("\x3c/a\x3e\x3c/div\x3e")},contentAttrName:function(a,b){b.shiftBlocks(j);return a.write("twitter.com")}};return{render:function(a,c){return b.render("themeBase/item/source/twitter",a,c)}}});
define("tmpl!themeBase/item/source/facebook",["dust"],function(b){var a=function(a,b){b.shiftBlocks(m);return a},d=function(a,b){b.shiftBlocks(m);return a},f=function(a,b){b.shiftBlocks(m);return a},g=function(a,b){b.shiftBlocks(m);return a},c=function(a,b){b.shiftBlocks(m);return a},e=function(a,b){b.shiftBlocks(m);return a};b.register("themeBase/item/source/facebook",function(a,b){b=b.shiftBlocks(m);return a.partial("themeBase/item/source/base",b)});var m={itemClass:function(a,b){b.shiftBlocks(m);
return a.write("facebook")},contentCore:function(b,c){c=c.shiftBlocks(m);return b.block(c.getBlock("contentExternalContainer"),c,{block:a},null).block(c.getBlock("contentAttr"),c,{block:d},null)},contentExternal:function(a,b){b=b.shiftBlocks(m);return a.block(b.getBlock("externalAvatar"),b,{block:f},null).block(b.getBlock("externalInfoContainer"),b,{block:g},null).block(b.getBlock("externalTextContainer"),b,{block:c},null)},externalInfo:function(a,b){b=b.shiftBlocks(m);return a.block(b.getBlock("externalInfoTitleContainer"),
b,{block:e},null)},externalInfoTitle:function(b,a){a=a.shiftBlocks(m);return b.reference(a.getPath(!1,["Meta","from","name"]),a,"h")},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","permalink"]),b,"h")},externalText:function(b,a){a=a.shiftBlocks(m);return b.reference(a.getPath(!1,["Meta","message"]),a,"h",["s"])},contentAttrName:function(a,b){b.shiftBlocks(m);return a.write("facebook.com")},externalAvatarSrc:function(a,b){b=b.shiftBlocks(m);return a.write("//graph.facebook.com/").reference(b.getPath(!1,
["Meta","from","id"]),b,"h").write("/picture")}};return{render:function(a,c){return b.render("themeBase/item/source/facebook",a,c)}}});
define("tmpl!themeBase/item/source/youtube",["dust"],function(b){var a=function(b,a){a.shiftBlocks(m);return b},d=function(b,a){a.shiftBlocks(m);return b},f=function(b,a){a.shiftBlocks(m);return b},g=function(b,a){a.shiftBlocks(m);return b},c=function(b,a){a.shiftBlocks(m);return b},e=function(b,a){a.shiftBlocks(m);return b};b.register("themeBase/item/source/youtube",function(b,a){a=a.shiftBlocks(m);return b.partial("themeBase/item/source/base",a)});var m={itemClass:function(a,b){b.shiftBlocks(m);
return a.write("youtube")},contentCore:function(b,c){c=c.shiftBlocks(m);return b.block(c.getBlock("contentExternalContainer"),c,{block:a},null).block(c.getBlock("contentAttr"),c,{block:d},null)},contentExternal:function(b,a){a=a.shiftBlocks(m);return b.block(a.getBlock("externalIframeContainer"),a,{block:f},null).block(a.getBlock("externalTextContainer"),a,{block:g},null).block(a.getBlock("externalInfoContainer"),a,{block:c},null)},externalInfo:function(a,b){b=b.shiftBlocks(m);return a.block(b.getBlock("externalInfoTitleContainer"),
b,{block:e},null)},externalInfoTitle:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","title"]),b,"h",["s"])},externalInfoTitleSrc:function(a,b){b=b.shiftBlocks(m);return a.write("//youtube.com/watch?v\x3d").reference(b.getPath(!1,["Meta","id"]),b,"h")},externalIframe:function(b,a){a=a.shiftBlocks(m);return b.write('\x3ciframe src\x3d"//youtube.com/embed/').reference(a.getPath(!1,["Meta","id"]),a,"h").write('?wmode\x3dopaque" class\x3d\'youtube-content\' width\x3d"560" height\x3d"315" frameborder\x3d"0" allowfullscreen\x3d"" \x3e\x3c/iframe\x3e')},
externalTextContainer:function(a,b){b=b.shiftBlocks(m);return a.reference(b.getPath(!1,["Meta","description"]),b,"h")},contentAttrName:function(b,a){a.shiftBlocks(m);return b.write("youtube.com")}};return{render:function(a,c){return b.render("themeBase/item/source/youtube",a,c)}}});
define("tmpl!themeBase/item/source/flickr",["dust"],function(b){var a=function(b,a){a.shiftBlocks(g);return b},d=function(b,a){a.shiftBlocks(g);return b},f=function(b,a){a.shiftBlocks(g);return b};b.register("themeBase/item/source/flickr",function(b,a){a=a.shiftBlocks(g);return b.partial("themeBase/item/source/base",a)});var g={itemClass:function(a,b){b.shiftBlocks(g);return a.write("flickr")},contentCore:function(b,e){e=e.shiftBlocks(g);return b.block(e.getBlock("contentExternalContainer"),e,{block:a},
null).block(e.getBlock("contentAttr"),e,{block:d},null)},contentExternal:function(b,a){a=a.shiftBlocks(g);return b.block(a.getBlock("extenalImageContainer"),a,{block:f},null)},externalImageLink:function(a,b){b=b.shiftBlocks(g);return a.write("//farm").reference(b.getPath(!1,["Meta","farm"]),b,"h").write(".staticflickr.com/").reference(b.getPath(!1,["Meta","server"]),b,"h").write("/").reference(b.getPath(!1,["Meta","id"]),b,"h").write("_").reference(b.getPath(!1,["Meta","secret"]),b,"h").write(".jpg")},
externalImageSrc:function(b,a){a=a.shiftBlocks(g);return b.write("//farm").reference(a.getPath(!1,["Meta","farm"]),a,"h").write(".staticflickr.com/").reference(a.getPath(!1,["Meta","server"]),a,"h").write("/").reference(a.getPath(!1,["Meta","id"]),a,"h").write("_").reference(a.getPath(!1,["Meta","secret"]),a,"h").write(".jpg")},externalImageAlt:function(a,b){b=b.shiftBlocks(g);return a.reference(b.getPath(!1,["Meta","title"]),b,"h")},contentAttrName:function(b,a){a.shiftBlocks(g);return b.write("flickr.com")}};
return{render:function(a,e){return b.render("themeBase/item/source/flickr",a,e)}}});
define("tmpl!themeBase/item/source/comments",["dust"],function(b){var a=function(a,b){b.shiftBlocks(g);return a},d=function(a,b){b.shiftBlocks(g);return a},f=function(a,b){b.shiftBlocks(g);return a};b.register("themeBase/item/source/comments",function(a,b){b=b.shiftBlocks(g);return a.partial("themeBase/item/source/base",b)});var g={itemClass:function(b,a){a.shiftBlocks(g);return b.write("usercomments")},contentCore:function(b,e){e=e.shiftBlocks(g);return b.block(e.getBlock("contenteBaseBefore"),e,
{block:a},null).block(e.getBlock("contentText"),e,{block:d},null)},postDateContainer:function(b,a){a=a.shiftBlocks(g);return b.block(a.getBlock("createdDateContainer"),a,{block:f},null)},publisherName:function(a,b){b=b.shiftBlocks(g);return a.reference(b.getPath(!1,["Meta","AuthorName"]),b,"h")}};return{render:function(a,e){return b.render("themeBase/item/source/comments",a,e)}}});
define("tmpl!themeBase/item/source/soundcloud",["dust"],function(b){var a=function(b,a){a.shiftBlocks(g);return b},d=function(b,a){a.shiftBlocks(g);return b},f=function(b,a){a.shiftBlocks(g);return b};b.register("themeBase/item/source/soundcloud",function(b,a){a=a.shiftBlocks(g);return b.partial("themeBase/item/source/base",a)});var g={itemClass:function(a,b){b.shiftBlocks(g);return a.write("soundcloud")},contentCore:function(b,e){e=e.shiftBlocks(g);return b.block(e.getBlock("contentExternalContainer"),
e,{block:a},null).block(e.getBlock("contentAttr"),e,{block:d},null)},contentExternal:function(b,a){a=a.shiftBlocks(g);return b.block(a.getBlock("externalIframeContainer"),a,{block:f},null)},externalIframe:function(a,b){b=b.shiftBlocks(g);return a.write('\x3ciframe width\x3d"100%" height\x3d"166" scrolling\x3d"no" frameborder\x3d"no" src\x3d"//w.soundcloud.com/player/?url\x3d%2F%2Fapi.soundcloud.com%2Ftracks%2F').reference(b.getPath(!1,["Meta","id"]),b,"h").write('\x26show_artwork\x3dtrue"\x3e\x3c/iframe\x3e')},
contentAttrName:function(b,a){a.shiftBlocks(g);return b.write("soundcloud.com")}};return{render:function(a,d){return b.render("themeBase/item/source/soundcloud",a,d)}}});
define("tmpl!themeBase/item/source/instagram",["dust"],function(b){var a=function(a,b){b.shiftBlocks(c);return a},d=function(a,b){b.shiftBlocks(c);return a},f=function(a,b){b.shiftBlocks(c);return a},g=function(a,b){b.shiftBlocks(c);return a};b.register("themeBase/item/source/instagram",function(a,b){b=b.shiftBlocks(c);return a.partial("themeBase/item/source/base",b)});var c={itemClass:function(b,a){a.shiftBlocks(c);return b.write("instagram")},contentCore:function(b,f){f=f.shiftBlocks(c);return b.block(f.getBlock("contentExternalContainer"),
f,{block:a},null).block(f.getBlock("contentAttr"),f,{block:d},null)},contentExternal:function(b,a){a=a.shiftBlocks(c);return b.block(a.getBlock("extenalImageContainer"),a,{block:f},null).block(a.getBlock("externalTextContainer"),a,{block:g},null)},externalImageLink:function(a,b){b=b.shiftBlocks(c);return a.reference(b.getPath(!1,["Meta","images","standard_resolution","url"]),b,"h")},externalImageSrc:function(b,a){a=a.shiftBlocks(c);return b.reference(a.getPath(!1,["Meta","images","standard_resolution",
"url"]),a,"h")},externalImageAlt:function(a,b){b=b.shiftBlocks(c);return a.reference(b.getPath(!1,["Meta","caption","text"]),b,"h",["trim50"])},externalText:function(b,a){a=a.shiftBlocks(c);return b.reference(a.getPath(!1,["Meta","caption","text"]),a,"h")},contentAttrName:function(a,b){b.shiftBlocks(c);return a.write("instagram.com")}};return{render:function(a,c){return b.render("themeBase/item/source/instagram",a,c)}}});
define("tmpl!themeBase/item/source/sms",["dust"],function(b){var a=function(a,b){b.shiftBlocks(g);return a},d=function(a,b){b.shiftBlocks(g);return a},f=function(a,b){b.shiftBlocks(g);return a};b.register("themeBase/item/source/sms",function(a,b){b=b.shiftBlocks(g);return a.partial("themeBase/item/source/base",b)});var g={itemClass:function(a,b){b.shiftBlocks(g);return a.write("sms")},contentCore:function(b,e){e=e.shiftBlocks(g);return b.block(e.getBlock("contenteBaseBefore"),e,{block:a},null).block(e.getBlock("contentText"),
e,{block:d},null)},postDateContainer:function(a,b){b=b.shiftBlocks(g);return a.block(b.getBlock("createdDateContainer"),b,{block:f},null)},publisherName:function(b,a){a=a.shiftBlocks(g);return b.reference(a.getPath(!1,["Meta","Creator","Name"]),a,"h")}};return{render:function(a,d){return b.render("themeBase/item/source/sms",a,d)}}});
define("tmpl!themeBase/plugins/user-comment",["dust"],function(b){b.register("themeBase/plugins/user-comment",function(a,b){return a.write('\x3cdiv class\x3d"comment-box"\x3e\x3cform name\x3d"comment"\x3e\x3cdiv class\x3d"content"\x3e\x3cinput type\x3d"text" placeholder\x3d"').helper("i18n",b,{},{msgid:"Nickname"}).write('" id\x3d"comment-nickname"\x3e\x3cdiv class\x3d"error"\x3e').helper("i18n",b,{},{msgid:"Please fill in your Nickname."}).write('\x3c/div\x3e\x3ctextarea placeholder\x3d"').helper("i18n",
b,{},{msgid:"Your Comment"}).write('" id\x3d"comment-text"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"error"\x3e').helper("i18n",b,{},{msgid:"Please fill in your Comment text."}).write('\x3c/div\x3e\x3cdiv id\x3d"comment-token" data-public-key\x3d"6Le3_OISAAAAAFHYywwPBTceM563QA62HOSvxz4B"\x3e\x3c/div\x3e\x3cdiv class\x3d"error"\x3e').helper("i18n",b,{},{msgid:"Please fill in text from image."}).write('\x3c/div\x3e\x3cbutton type\x3d"submit" class\x3d"button send"\x3e').helper("i18n",b,{},{msgid:"Send"}).write('\x3c/button\x3e\x3cbutton type\x3d"reset" class\x3d"button cancel"\x3e').helper("i18n",
b,{},{msgid:"Cancel"}).write("\x3c/button\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e")});return{render:function(a,d){return b.render("themeBase/plugins/user-comment",a,d)}}});
define("views/post-templates","tmpl!themeBase/item/base tmpl!themeBase/item/social-share tmpl!themeBase/item/posttype/base tmpl!themeBase/item/posttype/normal tmpl!themeBase/item/posttype/image tmpl!themeBase/item/posttype/wrapup tmpl!themeBase/item/posttype/quote tmpl!themeBase/item/posttype/link tmpl!themeBase/item/posttype/infomercial tmpl!themeBase/item/source/base tmpl!themeBase/item/source/infomercial tmpl!themeBase/item/source/google tmpl!themeBase/item/source/google/web tmpl!themeBase/item/source/google/news tmpl!themeBase/item/source/google/images tmpl!themeBase/item/source/twitter tmpl!themeBase/item/source/facebook tmpl!themeBase/item/source/youtube tmpl!themeBase/item/source/flickr tmpl!themeBase/item/source/comments tmpl!themeBase/item/source/soundcloud tmpl!themeBase/item/source/instagram tmpl!themeBase/item/source/sms tmpl!themeBase/plugins/user-comment".split(" "),function(){});
define("views/post","jquery gizmo/superdesk dust jquery-path/tmpl jquery-path/utils utils/encode_url utils/date-format views/post-templates".split(" "),function(b,a,d){return function(){var f=a.View.extend({data:{},init:function(){var b=this;b.model.on("read update",function(a,d){b._parent.collection.isCollectionDeleted(b.model)||b.render(a,d)}).on("delete",b.remove,b);b.render()},remove:function(){this._parent.removeOne(this);this.el.remove();this.model.off("read update delete");return this},render:function(a,
c){var e=this;c=e.model.feed(!0);var f=parseFloat(e.model.get("Order"));e.templateData=c;!isNaN(e.order)&&f!=e.order&&e._parent.orderOne(e);c.Meta&&(c.Meta=c.Meta.replace(RegExp("http://","g"),"//"),c.Meta=b.parseJSON(c.Meta),c.AuthorName&&(c.Meta.Creator={Name:c.AuthorName}));c.Meta&&c.Meta.annotation&&(null===c.Meta.annotation[1]&&(c.Meta.annotation=c.Meta.annotation[0],c.Meta.annotation=b.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],c.Meta.annotation)),"string"!==typeof c.Meta.annotation?c.Meta.annotation[0]?
(f=c.Meta.annotation,c.Meta.annotation={before:b.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],f[0]),after:b.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],f[1])}):c.Meta.annotation={before:b.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],c.Meta.annotation.before),after:b.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],c.Meta.annotation.after)}:c.Meta.annotation=b.trimTag(["\x3cbr\x3e","\x3cbr /\x3e"],c.Meta.annotation));"smsblog"===c.Author.Source.Type.Key?c.item="source/sms":"True"===c.Author.Source.IsModifiable||"internal"===c.Author.Source.Name?
c.item="posttype/"+c.Type.Key:c.Type&&(c.item="source/"+c.Author.Source.Name);c.CreatedOn&&(f=new Date(Date.parse(c.CreatedOn)),c.CreatedOn=f.format(_("post-date")),c.CreatedOnISO=f.getTime());c.PublishedOn&&(f=new Date(Date.parse(c.PublishedOn)),c.PublishedOn=f.format(_("post-date")),c.PublishedOnISO=f.getTime());c.Content&&liveblog.adminServer&&(c.Content=c.Content.replace(liveblog.adminServer,livedesk.frontendServer));e.item="True"===c.Author.Source.IsModifiable||"internal"===c.Author.Source.Name?
"advertisement"===c.Type.Key?"/item/posttype/infomercial":"/item/posttype/"+c.Type.Key:"google"===c.Author.Source.Name?"/item/source/google/"+c.Meta.type:"advertisement"===c.Author.Source.Name?"/item/source/infomercial":"/item/source/"+c.Author.Source.Name;"/item/source/comments"===e.item&&(c.Meta&&c.Meta.AuthorName)&&(f=c.Meta.AuthorName.replace("commentator",""),c.Meta.AuthorName=_("%(full_name)s commentator").format({full_name:f}));f=e.item;e.item=d.defined("theme"+e.item)?"theme"+e.item:"themeBase"+
e.item;c.baseItem=d.defined("theme/item/base")?"theme/item/base":"themeBase/item/base";c.frontendServer=liveblog.frontendServer;e.shortItem=f;b.dispatcher.triggerHandler("render.post-view",e);b.each(e.data,function(a,d){c[a]=b.isFunction(d)?d.call(e,c):d});b.tmpl(e.item,c,function(a,d){e.setElement(d);b(".sf-share",e.el).on(e.getEvent("click"),function(a){a.preventDefault();var d=b(this);if("yes"!=d.attr("data-added")){a=encodeURL(e._parent._parent.model.get("Title"));var f=encodeURL(c.permalink),
g=b(".result-content img:first",e.el).attr("src");g||(g=b("img:first").attr("src"));var j=encodeURL(b(".result-content .result-text:last",e.el).text()),g="http://pinterest.com/pin/create/button/?url\x3d"+f+"\x26media\x3d"+g+"\x26description\x3d"+a,l="https://plus.google.com/share?url\x3d"+f+"\x26t\x3d",m="mailto:?to\x3d\x26subject\x3d"+_("Check out this Live Blog")+"\x26body\x3d"+f,z="http://www.facebook.com/sharer.php?s\x3d100",z=z+("\x26p[title]\x3d"+a),z=z+("\x26p[summary]\x3d"+j),z=z+("\x26p[url]\x3d"+
f),F=0;b(".result-content img",e.el).each(function(){var a=b(this).attr("src");z+="\x26p[images]["+F+"]\x3d"+a;F++});a={fbclick:"$.socialShareWindow('"+z+"',400,570); return false;",twtclick:"$.socialShareWindow('http://twitter.com/home?status\x3d"+_("Now reading ")+a+": "+f+"',400,570); return false;",linclick:"$.socialShareWindow('http://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d"+f+"\x26title\x3d"+a+"\x26summary\x3d"+j+"', 400, 570); return false;",pinclick:"$.socialShareWindow('"+g+
"', 400, 700); return false;",gglclick:"$.socialShareWindow('"+l+"', 400, 570); return false;",emailclick:"$.socialShareWindow('"+m+"', 1024, 768); return false;",emailurl:m};b.tmpl("themeBase/item/social-share",a,function(a,b){d.after(b);d.attr("data-added","yes")})}a=b('[data-gimme\x3d"post.share-social"]',e.el);"visible"===a.css("visibility")?a.css("visibility","hidden"):(b('[data-gimme^\x3d"post.share"]',e.el).css("visibility","hidden"),a.css("visibility","visible"))});b.dispatcher.triggerHandler("rendered-after.post-view",
e)})}});b.dispatcher.triggerHandler("class.post-view",f);return f}});define("dispatcher",["jquery"],function(b){var a=function(){};a.prototype={on:function(a,f){b(this).on(a,function(a,b){f.call(b)})},triggerHandler:function(a,f){b(this).triggerHandler(a,[f])}};b.dispatcher=new a});
define("views/posts",["jquery","gizmo/view-events","views/post","dispatcher"],function(b,a,d){return function(){var f=d(),g=a.View.extend({events:{},_flags:{autoRender:!0,addAllPending:!1},_config:{timeInterval:1E4,data:{thumbSize:"medium"},collection:{xfilter:"PublishedOn, DeletedOn, Order, Id,CId, Content, CreatedOn, Type, AuthorName, Author.Source.Name, Author.Source.Id, Author.Source.IsModifiable,IsModified, AuthorImage,AuthorPerson.EMail, AuthorPerson.FirstName, AuthorPerson.LastName, AuthorPerson.Id,Meta, IsPublished, Creator.FullName, Author.Source.Type.Key"}},
pendingAutoupdates:[],init:function(){var a=this;a._views=[];b.each(a._config.collection,function(d,f){if(b.isArray(f))a.collection[d].apply(a.collection,f);else a.collection[d](f)});a.collection.on("read readauto",a.render,a).on("addings",a.addAll,a).on("addingsauto",a.addingsAuto,a).on("removeingsauto",a.removeAllAutoupdate,a).auto().autosync({data:a._config.data,preprocessTime:775})},removeOne:function(a){var b=this._views.indexOf(a),d=this.collection._list.indexOf(a.model);-1!==b&&(this.collection._stats.total--,
this._views.splice(b,1),-1!==d&&this.collection._list.splice(d,1));this.triggerHandler("remove",[a.model]);return this},addOne:function(a){var b=new f({model:a,_parent:this});a.postView=b;return this.orderOne(b)},orderOne:function(a){var d=this._views.indexOf(a);a.order=parseFloat(a.model.get("Order"));-1===d&&this._views.push(a);this._views.sort(function(a,b){return b.order-a.order});d=this._views.indexOf(a);if(0===d)if(1===this._views.length)if(this.el.children().length){var d=b('[data-gimme\x3d"posts.beforePage"]:last',
this.el),f=b('[data-gimme\x3d"posts.afterPage"]:first',this.el);d.length?d.after(a.el):f.length?f.before(a.el):this.el.prepend(a.el)}else this.el.append(a.el);else a.el.insertBefore(this._views[1].el);else a.el.insertAfter(this._views[d-1].el);return a},addingsAuto:function(a,b){b.length&&(this.pendingAutoupdates=this.pendingAutoupdates.concat(b));this.addAllAutoupdate(a)},addAllPending:function(){if(!this._flags.addAllPending&&this.pendingAutoupdates.length){this._flags.addAllPending=!0;this._parent.hideNewPosts();
for(var a=0,d=this.pendingAutoupdates.length;a<d;a++)this.addOne(this.pendingAutoupdates[a]);b.dispatcher.triggerHandler("added-pending.posts-view",this);this.triggerHandler("addingsauto",[this.pendingAutoupdates]);this.pendingAutoupdates=[]}this._flags.addAllPending=!1},removeAllAutoupdate:function(a,b){for(var d in b)"postView"in b[d]&&b[d].postView.remove()},addAllAutoupdate:function(a){this._flags.autoRender?(this.addAllPending(a),b.dispatcher.triggerHandler("added-auto.posts-view",this)):this._parent.showNewPosts(this.pendingAutoupdates.length)},
addAll:function(a,d){this.triggerHandler("addings",[d]);for(var f=0,g=d.length;f<g;f++)this.addOne(d[f]);d.length&&b.dispatcher.triggerHandler("add-all.posts-view",this)},render:function(a,d){this.collection.triggerHandler("rendered");this.addAll(a,d);b.dispatcher.triggerHandler("rendered-after.posts-view",this)}});b.dispatcher.triggerHandler("class.posts-view",g);return g}});
define("collections/autocollection",["jquery","gizmo/superdesk"],function(b,a){return a.Collection.extend({_timeInterval:1E4,_idInterval:0,_stats:{limit:15,offset:0,lastCId:0,firstOrder:Infinity,total:0},limit:function(b){this._stats.limit=b;return a.Collection.prototype.limit.call(this,b)},offset:function(b){this._stats.offset=b;return a.Collection.prototype.offset.call(this,b)},keep:!1,resetStats:function(){this._stats={limit:15,offset:0,lastCId:0,firstOrder:Infinity,total:0}},init:function(){var a=
this;a.model.on("publish reorder",function(b,g){a._stats.lastCId+1===parseInt(g.get("CId"))&&a._stats.lastCId++});a.on("read readauto",function(b,g,c){a._stats.offset=a._stats.limit;a._stats.total=parseInt(c.total);c.lastCId=parseInt(c.lastCId);c.lastCId>a._stats.lastCId&&(a._stats.lastCId=c.lastCId);a.getFirstOrder(g)}).on("readauto updatesauto addingsauto removeingsauto update",function(b,g){a.getLastCid(g);a.getFirstOrder(g)}).on("addingsauto",function(b,g){a._stats.total+=g.length;a._stats.offset+=
g.length}).on("removeingsauto",function(b,g){a._stats.total-=g.length;a._stats.offset-=g.length}).on("addings",function(b,g){a._stats.offset+=g.length})},destroy:function(){this.stop()},auto:function(a){var b=this;this.stop();this._idInterval=setInterval(function(){b.start(a)},this._timeInterval);return b},start:function(a){a=a||{};a=b.extend(!0,{data:{"cId.since":this._stats.lastCId},headers:{"X-Filter":this._xfilter,"X-Format-DateTime":"yyyy-MM-ddTHH:mm:ss'Z'"}},a);0===this._stats.lastCId&&delete a.data["cId.since"];
if(!this.keep&&this.view&&!this.view.checkElement())this.stop();else return this.autosync(a)},stop:function(){clearInterval(this._idInterval);return this},getFirstOrder:function(a){for(var b=0,g,c=a.length;b<c;b++)g=parseFloat(a[b].get("Order")),!isNaN(g)&&this._stats.firstOrder>g&&(this._stats.firstOrder=g)},getLastCid:function(a){for(var b=0,g,c=a.length;b<c;b++)g=parseInt(a[b].get("CId")),!isNaN(g)&&this._stats.lastCId<g&&(this._stats.lastCId=g)},autosync:function(a){var b=this;return this.href&&
this.syncAdapter.request.call(this.syncAdapter,this.href).read(a).done(function(a){var c=b.parseAttributes(a);a=b._parse(a);for(var d=[],m=[],l=[],j=[],w=b._list.length,p=0;p<a.length;p++){for(var x=!1,y=0;y<b._list.length;y++)if(a[p].hash()==b._list[y].hash()){x=a[p];break}if(x)if(b.hasEvent("updatesauto")&&l.push(x),b.isCollectionDeleted(x)&&(b._list.splice(y,1),b.hasEvent("removeingsauto")&&m.push(x)),x.isDeleted())x._remove();else if(x.isChanged())d.push(x);else x.on("delete",function(){b.remove(this.hash())}).on("garbage",
function(){this.desynced=!0});else b.isCollectionDeleted(a[p])?b.hasEvent("removeingsauto")&&b.hasEvent("removeingsauto")&&m.push(a[p]):a[p].isDeleted()?b.hasEvent("updatesauto")&&l.push(a[p]):(b._list.push(a[p]),d.push(a[p]),b.hasEvent("addingsauto")&&(Infinity===b._stats.firstOrder||b._stats.firstOrder<parseFloat(a[p].get("Order"))?j.push(a[p]):b.remove(a[p].hash())))}b.desynced=!1;0===w?b.triggerHandler("readauto",[b._list,c]):(l.length&&b.hasEvent("updatesauto")&&b.triggerHandler("updatesauto",
[l,c]),j.length&&b.hasEvent("addingsauto")&&b.triggerHandler("addingsauto",[j,c]),m.length&&b.hasEvent("removeingsauto")&&b.triggerHandler("removeingsauto",[m,c]),b.triggerHandler("updateauto",[d,c]))})}},{register:"AutoCollection"})});define("models/user",["gizmo/superdesk"],function(b){return b.Model.extend({},{register:"User"})});
define("models/post",["gizmo/superdesk","models/user","utils/extend"],function(b){return b.Model.extend({defaults:{Creator:b.Register.User},services:{flickr:!0,google:!0,twitter:!0,facebook:!0,youtube:!0},getClass:function(){switch(this.get("Type").Key){case "wrapup":return"wrapup";case "quote":return"quotation";case "advertisement":return"advertisement";default:return this.isService()?"service":"tw"}},isService:function(){return this.get("AuthorName")in this.services},isQuote:function(){return"quotation"==
this.getClass()},twitter:{link:{anchor:function(a){return a.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+/g,function(a){a=a.link(a);return a=a.replace('href\x3d"','target\x3d"_blank" href\x3d"')})},user:function(a){return a.replace(/[@]+[A-Za-z0-9-_]+/g,function(a){var b=a.replace("@","");a=a.link("http://twitter.com/"+b);return a=a.replace('href\x3d"','target\x3d"_blank" onclick\x3d"loadProfile(\''+b+'\');return(false);"  href\x3d"')})},tag:function(a){return a.replace(/[#]+[A-Za-z0-9-_]+/g,
function(a){var b=a.replace(" #"," %23");a=a.link("http://summize.com/search?q\x3d"+b);return a=a.replace('href\x3d"','target\x3d"_blank" href\x3d"')})},all:function(a){a=this.anchor(a);a=this.user(a);return a=this.tag(a)}}}},{register:"Post"})});
define("collections/posts",["gizmo/superdesk","collections/autocollection","models/post"],function(b){return b.Register.AutoCollection.extend({parse:function(a){return a.PostList?a.PostList:a},parseAttributes:function(a){return{lastCId:a.lastCId,offset:a.offset,offsetMore:a.offsetMore,total:a.total,limit:a.limit}},isCollectionDeleted:function(a){return"False"===a.get("IsPublished")},model:b.Register.Post},{register:"Posts"})});
define("models/blog",["gizmo/superdesk","collections/posts"],function(b){return b.Model.extend({url:new b.Url("LiveDesk/Blog"),defaults:{PostPublished:b.Register.Posts}},{register:"Blog"})});
define("tmpl!themeBase/container",["dust"],function(b){var a=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv id\x3d"livedesk-root" ').block(b.getBlock("additionalAttributes"),b,{block:d},null).write("\x3e").block(b.getBlock("main"),b,{block:f},null).write("\x3c/div\x3e")},d=function(a,b){b.shiftBlocks(u);return a},f=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-container"\x3e').block(b.getBlock("headerContainer"),b,{block:g},null).block(b.getBlock("contentContainer"),
b,{block:j},null).block(b.getBlock("footerContainer"),b,{block:Q},null).write("\x3c/div\x3e")},g=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-header"\x3e').block(b.getBlock("header"),b,{block:c},null).write("\x3c/div\x3e")},c=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("blogTitle"),b,{block:e},null).block(b.getBlock("blogDescription"),b,{block:m},null).block(b.getBlock("blogMedia"),b,{block:l},null)},e=function(a,b){b.shiftBlocks(u);return a},m=function(a,
b){b.shiftBlocks(u);return a},l=function(a,b){b.shiftBlocks(u);return a},j=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-content"\x3e').block(b.getBlock("userComment"),b,{block:w},null).block(b.getBlock("content"),b,{block:E},null)},w=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("userCommentBox"),b,{block:p},null).block(b.getBlock("userCommentBoxMessage"),b,{block:x},null).block(b.getBlock("userCommentBackdrop"),b,{block:y},null)},p=function(a,b){b.shiftBlocks(u);
return a},x=function(a,b){b.shiftBlocks(u);return a},y=function(a,b){b.shiftBlocks(u);return a},E=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("contentTopContainer"),b,{block:A},null).block(b.getBlock("contentMiddleContainer"),b,{block:G},null).block(b.getBlock("contentBottomContainer"),b,{block:M},null)},A=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-content-top"\x3e').block(b.getBlock("contentTop"),b,{block:B},null).write("\x3c/div\x3e")},B=function(a,
b){b=b.shiftBlocks(u);return a.block(b.getBlock("status"),b,{block:z},null).block(b.getBlock("statusNewPost"),b,{block:F},null).block(b.getBlock("actionUserComment"),b,{block:I},null).block(b.getBlock("actionTotop"),b,{block:C},null)},z=function(a,b){b.shiftBlocks(u);return a},F=function(a,b){b.shiftBlocks(u);return a},I=function(a,b){b.shiftBlocks(u);return a},C=function(a,b){b.shiftBlocks(u);return a},G=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-content-middle" id\x3d"wrapper"\x3e ').block(b.getBlock("contentMiddle"),
b,{block:D},null).write("\x3c/div\x3e")},D=function(a,b){b=b.shiftBlocks(u);return a.block(b.getBlock("postsList"),b,{block:J},null)},J=function(a,b){b.shiftBlocks(u);return a},M=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-content-bottom"\x3e').block(b.getBlock("contentBottom"),b,{block:N},null).write("\x3c/div\x3e")},N=function(b,a){a=a.shiftBlocks(u);return b.block(a.getBlock("actionUserComment"),a,{block:R},null).block(a.getBlock("actionTotop"),a,{block:S},null)},
R=function(a,b){b.shiftBlocks(u);return a},S=function(a,b){b.shiftBlocks(u);return a},Q=function(a,b){b=b.shiftBlocks(u);return a.write('\x3cdiv class\x3d"liveblog-footer"\x3e').block(b.getBlock("footer"),b,{block:P},null).write("\x3c/div\x3e")},P=function(a,b){b.shiftBlocks(u);return a},K=function(a,b){b.shiftBlocks(u);return a.write(' style\x3d"display:none" ')},H=function(a,b){b.shiftBlocks(u);return a.write(' style\x3d"display:block" ')},L=function(a,b){b.shiftBlocks(u);return a.write(' style\x3d"display:none" ')},
O=function(a,b){b.shiftBlocks(u);return a.write(' style\x3d"display:block" ')},$=function(a,b){b=b.shiftBlocks(u);return a.partial(U,b)},U=function(b,a){a=a.shiftBlocks(u);return b.reference(a.getPath(!0,[]),a,"h")};b.register("themeBase/container",function(b,c){c=c.shiftBlocks(u);return b.block(c.getBlock("mainContainer"),c,{block:a},null)});var u={blogTitle:function(b,a){a.shiftBlocks(u);return b.write('\x3ch3 data-gimme\x3d"blog.title"\x3e\x3c/h3\x3e')},blogMedia:function(b,a){a=a.shiftBlocks(u);
return b.write('\x3cdiv class\x3d"header-ad" data-gimme\x3d"blog.media-toggle" ').section(a.getPath(!1,["EmbedConfig","MediaToggle"]),a,{"else":K,block:H},null).write('\x3e\x3ca data-gimme\x3d"blog.media-url" href\x3d"').reference(a.getPath(!1,["EmbedConfig","MediaUrl"]),a,"h").write('" target\x3d"_blank"\x3e\x3cimg data-gimme\x3d"blog.media-image" src\x3d"').reference(a.getPath(!1,["EmbedConfig","MediaImage"]),a,"h").write('"\x3e\x3c/a\x3e\x3c/div\x3e')},blogDescription:function(a,b){b.shiftBlocks(u);
return a.write('\x3cp data-gimme\x3d"blog.description"\x3e\x3c/p\x3e')},status:function(a,b){b.shiftBlocks(u);return a.write('\x3cp data-gimme\x3d"blog.status" class\x3d"update-time"\x3e\x3c/p\x3e')},statusNewPost:function(a,b){b.shiftBlocks(u);return a.write('\x3ca data-gimme\x3d"posts.pending-message" class\x3d"new-posts-label"\x3e\x3c/a\x3e')},actionTotop:function(a,b){b=b.shiftBlocks(u);return a.write('\x3ca data-gimme\x3d"posts.to-top" class\x3d"pintotop button"\x3e').helper("i18n",b,{},{msgid:"to top"}).write("\x3c/a\x3e")},
actionUserComment:function(a,b){b=b.shiftBlocks(u);return a.write('\x3ca data-gimme\x3d"blog.comment" href\x3d"#" class\x3d"comment button" ').section(b.getPath(!1,["EmbedConfig","UserComments"]),b,{"else":L,block:O},null).write("\x3e").helper("i18n",b,{},{msgid:"comment"}).write("\x3c/a\x3e")},userCommentBox:function(a,b){b.shiftBlocks(u);return a.write('\x3cdiv data-gimme\x3d"blog.comment-box"\x3e\x3c/div\x3e')},userCommentBoxMessage:function(a,b){b.shiftBlocks(u);return a.write('\x3cdiv data-gimme\x3d"blog.comment-box-message"\x3e\x3c/div\x3e')},
userCommentBackdrop:function(a,b){b.shiftBlocks(u);return a.write('\x3cdiv data-gimme\x3d"blog.comment-box-backdrop"\x3e\x3c/div\x3e')},postsList:function(a,b){b=b.shiftBlocks(u);return a.write('\x3cul data-gimme\x3d"posts.list" class\x3d"liveblog-postlist"\x3e').section(b.getPath(!1,["Plugins","posts","list"]),b,{block:$},null).write("\x3c/ul\x3e")}};return{render:function(a,c){return b.render("themeBase/container",a,c)}}});
define("views/blog","jquery gizmo/view-events views/posts dispatcher jquery-path/tmpl models/blog tmpl!themeBase/container".split(" "),function(b,a,d){return function(){var f=d(),g=a.View.extend({events:{},_config:{timeInterval:1E4,idInterval:0,xfilter:"Description, Title, EmbedConfig, Language.Code"},init:function(){var b=this;b.model||(blog.url.decorate("%s/"+liveblog.id),blog.xfilter(b._config.xfilter));b.model.on("update",function(){b.ensureStatus();b.update()}).on("sync",function(){b.updateingStatus()}).on("synced",
function(){b.updateStatus()});b.auto();b.render()},auto:function(b){var a=this;ret=a.stop();a._config.idInterval=setInterval(function(){a.start(b)},a._config.timeInterval);return ret},start:function(){this.model.xfilter(this._config.xfilter).sync({force:!0});return this},stop:function(){clearInterval(this._config.idInterval);return this},ensureStatus:function(){var a;this.model.get("ClosedOn")&&(a=new Date(this.model.get("ClosedOn")),this.stop(),this.model.get("PostPublished").stop(),b('[data-gimme\x3d"blog.status"]',
this.el).html(_("The liveblog coverage was stopped ")+a.format(_("closed-date"))))},updateingStatus:function(){b('[data-gimme\x3d"blog.status"]',this.el).html(_("updating...")+"")},updateStatus:function(){var a=new Date;void 0===this.model.get("ClosedOn")&&(a='\x3ctime data-date\x3d"'+a.getTime()+'"\x3e'+a.format(_("status-date"))+"\x3c/time\x3e",b('[data-gimme\x3d"blog.status"]',this.el).html(_("updated at %s").format([a])))},hideNewPosts:function(){b('[data-gimme\x3d"posts.pending-message"]',self.el).html("").hide()},
showNewPosts:function(a){b('[data-gimme\x3d"posts.pending-message"]',this.el).html(ngettext("one new post","%(count)s new posts",a).format({count:a})).show()},render:function(){var a=this;a.el.tmpl("themeBase/container",a.model.feed(),function(){b.dispatcher.triggerHandler("rendered-before.blog-view",a);a.update();a.postsView=new f({el:b('[data-gimme\x3d"posts.list"]',a.el),collection:a.model.get("PostPublished"),_parent:a});a.ensureStatus();a.updateStatus();b.dispatcher.triggerHandler("rendered-after.blog-view",
a)})},update:function(){var a={};embCnfg=this.model.get("EmbedConfig");try{a=JSON.parse(embCnfg)}catch(d){}"undefined"!=typeof a.MediaToggle&&(a.MediaToggle?b('[data-gimme\x3d"blog.media-toggle"]',this.el).css("display","block"):b('[data-gimme\x3d"blog.media-toggle"]',this.el).css("display","none"));a.MediaUrl&&b('[data-gimme\x3d"blog.media-url"]',this.el).attr("href",a.MediaUrl);a.MediaImage&&b('[data-gimme\x3d"blog.media-image"]',this.el).attr("src",a.MediaImage);b('[data-gimme\x3d"blog.title"]',
this.el).html(this.model.get("Title"));b('[data-gimme\x3d"blog.description"]',this.el).html(this.model.get("Description"));b.isEmptyObject(a)||b.dispatcher.triggerHandler("config-updated.blog-view",{view:this,config:a})}});b.dispatcher.triggerHandler("class.blog-view",g);return g}});
define("utils/find-enviroment",[],function(){return function(){var b="desktop",a=!1,d=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(d)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(d.substr(0,
4)))a=!0;a&&(b="mobile");Boolean(navigator.userAgent.match(/(Large Screen)|GoogleTV/i))&&(b="big-screen");return b}});define("plugins",[],function(){return{}});
define("jquery-path/xdomainrequest",["jquery"],function(b){b.support.cors=!0;var a=0,d=0;this.XDomainRequest&&b.ajaxTransport("+*",function(f){if(f.crossDomain&&f.async){f.timeout&&(f.xdrTimeout=f.timeout,delete f.timeout);var g,c;return{send:function(e,m){function l(a,c,d,e){g.onload=g.onerror=g.ontimeout=b.noop;g=void 0;m(a,c,d,e)}g=new XDomainRequest;if(f.dataType){var j="";for(i in f.headers)j+=i+"\x3d"+encodeURIComponent(f.headers[i])+"\x26";j=j.replace(/(\s+)?.$/,"");f.url=f.url+(-1===f.url.indexOf("?")?
"?":"\x26")+j}g.open(f.type,f.url);c=f.processTime?f.processTime:80*a++;g.onload=function(){setTimeout(function(){l(200,"OK",{text:g.responseText},"Content-Type: "+g.contentType);a=0},d)};d=c;g.onerror=function(){l(404,"Not Found")};f.xdrTimeout&&(g.ontimeout=function(){l(0,"timeout")},g.timeout=f.xdrTimeout);f.preprocessTime?setTimeout(function(){g.send(f.hasContent&&f.data||null)},f.preprocessTime):g.send(f.hasContent&&f.data||null)},abort:function(){g&&(g.onerror=b.noop(),g.abort())}}}})});
define("i18n",["jquery","jquery-path/i18n","jquery-path/utils","jquery-path/xdomainrequest"],function(b){var a={},d=liveblog.frontendServer,f=liveblog.language;return{load:function(g,c,e,m){b.support.cors=!0;var l=d+"/content/cache/locale/plugin-"+g+"-"+f+".json";g=d+"/resources/Admin/Plugin/"+g+"/JSONLocale/"+f;var l=c.toUrl(l),j=c.toUrl(g);options={dataType:"json",preprocessTime:250,processTime:400,tryCount:0,retryLimit:2,statusCode:{500:function(){console.log("Oops! There seems to be a server problem, please try again later.")},
302:function(){console.log("Redirect")}},success:function(c){m.isBuild?a[g]=c:b.i18n.load(c);e(c)},errorTimeout:function(a,c){if("timeout"==c){this.tryCount++;if(this.tryCount<=this.retryLimit)return b.ajax(this),!0;console.log("We have tried "+this.retryLimit+" times and it is still not working. We give in. Sorry.");return!1}},error:function(a,c,d){this.errorTimeout(a,c,d)||(options.url=j,options.error=this.errorTimeout,b.ajax(options))}};options.url=l;b.ajax(options)},write:function(b,c,d){c in
a&&d('define("'+b+"!"+c+'", function(){ return '+a[c]+";});\n")}}});
define("require/normalize",["require","module"],function(b){function a(a,b,c,j){if(0===a.indexOf("data:"))return a;a=a.replace(f,"$1/");if(a.match(/^\//)||a.match(g))return a;var w=c.match(g),p=b.match(g);if(p&&(!w||w[1]!=p[1]||w[2]!=p[2]))return d(a,b);if(j)return j+a;a=d(a,b);c=c.split("/");c.pop();c=c.join("/")+"/";for(i=0;c.substr(i,1)==a.substr(i,1);)i++;for(;"/"!=c.substr(i,1);)i--;c=c.substr(i+1);a=a.substr(i+1);c=c.split("/");a=a.split("/");for(out="";c.shift();)out+="../";for(;curPart=a.shift();)out+=
curPart+"/";return out.substr(0,out.length-1)}function d(a,b){"./"==a.substr(0,2)&&(a=a.substr(2));var c=b.split("/"),d=a.split("/");for(c.pop();curPart=d.shift();)".."==curPart?c.pop():c.push(curPart);return c.join("/")}var f=/([^:])\/+/g,g=/[^\:\/]*:\/\/([^\/])*/,c=function(c,d,g,j,w){d=d.replace(f,"$1/");g=g.replace(f,"$1/");for(var p=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/ig,x,y;x=p.exec(c);){y=x[3]||x[2]||x[5]||x[6]||x[4];var E;E=w?j&&"/"==y.substr(0,
1)?j+y:a(y,d,g,w):b.toUrl(y);x=x[5]||x[6]?1:0;c=c.substr(0,p.lastIndex-y.length-x-1)+E+c.substr(p.lastIndex-x-1);p.lastIndex+=E.length-y.length}return c};c.convertURIBase=a;return c});
define("css",["require/normalize"],function(b){function a(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}if("undefined"==typeof window)return{load:function(a,b,c){c()}};var d=document.getElementsByTagName("head")[0],f=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/),g=!1;f&&(f[1]||f[7]?(g=6>parseInt(f[1])||9>=parseInt(f[7]),f="trident"):f[2]?(g=!0,f="webkit"):!f[3]&&f[4]&&(g=18>parseInt(f[4]),
f="gecko"));var c={},e=/^\/|([^\:\/]*:)/;c.pluginBuilder="core/require/css-builder";var m=[],l={},j=[];c.addBuffer=function(b){-1==a(m,b)&&-1==a(j,b)&&(m.push(b),j.push(b))};c.setBuffer=function(a,d){var f=window.location.pathname.split("/");f.pop();var f=f.join("/")+"/",g=require.toUrl("base_url").split("/");g.pop();g=g.join("/")+"/";g=b.convertURIBase(g,f,"/");g.match(e)||(g="/"+g);"/"!=g.substr(g.length-1,1)&&(g+="/");c.inject(b(a,g,f));for(f=0;f<m.length;f++)if(d&&".less"==m[f].substr(m[f].length-
5,5)||!d&&".css"==m[f].substr(m[f].length-4,4))(function(a){l[a]=l[a]||!0;setTimeout(function(){if("function"==typeof l[a])l[a]();delete l[a]},7)})(m[f]),m.splice(f--,1)};c.attachBuffer=function(b,c){for(var d=0;d<m.length;d++)if(m[d]==b)return l[b]=c,!0;if(!0===l[b])return l[b]=c,!0;if(-1!=a(j,b))return c(),!0};var w=function(a,b){setTimeout(function(){for(var c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].href==a.href)return b();w(a,b)},10)},p=function(a,b){setTimeout(function(){try{return a.sheet.cssRules,
b()}catch(c){}p(a,b)},10)};if("trident"==f&&g)var x=[],y=[],E=0,A=function(a){var b=y.shift();if(b){a.onload=function(){b.cb(b.ss);A(a)};var c=a.styleSheet;b.ss=c.imports[c.addImport(b.url)]}else a.onload=z,x.push(a)};var B=function(a){var b=document.createElement("link");b.type="text/css";b.rel="stylesheet";b.href=a;return b},z=function(){};c.linkLoad=function(a,b){var c=setTimeout(function(){b()},1E3*N-100),e=function(){clearTimeout(c);l&&(l.onload=z);setTimeout(b,7)};if(g)if("webkit"==f)l=B(a),
w(l,e),d.appendChild(l);else if("gecko"==f){var j=document.createElement("style");j.textContent='@import "'+a+'"';p(j,e);d.appendChild(j)}else"trident"==f&&(y.push({url:a,cb:e}),e=x.shift(),!e&&12>E++&&(e=document.createElement("style"),d.appendChild(e)),A(e));else{var l=B(a);l.onload=e;d.appendChild(l)}};var F=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],I={},C=0,G;c.inject=function(a){31>C&&(G=document.createElement("style"),G.type="text/css",d.appendChild(G),C++);G.styleSheet?G.styleSheet.cssText+=
a:G.appendChild(document.createTextNode(a))};var D=/@import\s*(url)?\s*(('([^']*)'|"([^"]*)")|\(('([^']*)'|"([^"]*)"|([^\)]*))\))\s*;?/g,J=window.location.pathname.split("/");J.pop();var J=J.join("/")+"/",M=function(a,c,d){a.match(e)||(a="/"+b.convertURIBase(a,J,"/"));var f=a,g=function(e){e=b(e,a,J);for(var f=[],g=[],j=[],l;l=D.exec(e);)f.push(l[4]||l[5]||l[7]||l[8]||l[9]),g.push(D.lastIndex-l[0].length),j.push(l[0].length);var m=0;for(l=0;l<f.length;l++)(function(a){M(f[a],function(b){e=e.substr(0,
g[a])+b+e.substr(g[a]+j[a]);b=b.length-j[a];for(var d=a+1;d<f.length;d++)g[d]+=b;m++;m==f.length&&c(e)},d)})(l);0==f.length&&c(e)};if(I[f])g(I[f]);else{var j,l,m;if("undefined"!==typeof XMLHttpRequest)j=new XMLHttpRequest;else if("undefined"!==typeof ActiveXObject)for(l=0;3>l;l+=1){m=F[l];try{j=new ActiveXObject(m)}catch(p){}if(j){F=[m];break}}j.open("GET",f,requirejs.inlineRequire?!1:!0);j.onreadystatechange=function(){var a;4===j.readyState&&(a=j.status,399<a&&600>a?(a=Error(f+" HTTP status: "+
a),a.xhr=j,d(a)):(I[f]=j.responseText,g(j.responseText)))};j.send(null)}};c.normalize=function(a,b){".css"==a.substr(a.length-4,4)&&(a=a.substr(0,a.length-4));return b(a)};var N;c.load=function(a,b,d,e,f){N=N||e.waitSeconds||7;a+=!f?".css":".less";c.attachBuffer(a,d)||(fileUrl=b.toUrl(a),f?M(fileUrl,function(a){f&&(a=f(a,function(a){c.inject(a);setTimeout(d,7)}))}):c.linkLoad(fileUrl,d))};return c});
define("core","jquery utils/date-format views/blog utils/find-enviroment plugins jquery-path/xdomainrequest i18n css".split(" "),function(b,a,d,f,g){a.masks["post-date"]=_("mm/dd/yyyy HH:MM");a.masks["status-date"]=_("HH:MM");a.masks["closed-date"]=_("mm/dd/yyyy HH:MM");a.i18n={dayNames:_("Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday").toString().split(","),monthNames:_("Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,January,February,March,April,May,June,July,August,September,October,November,December").toString().split(",")};
return function(a){b.each(g,function(b,d){d(a.get("EmbedConfig"))});new (d())({el:liveblog.el,model:a})}});